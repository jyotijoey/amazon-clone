[debug] [2021-05-17T10:00:49.810Z] ----------------------------------------------------------------------
[debug] [2021-05-17T10:00:49.812Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js emulators:start
[debug] [2021-05-17T10:00:49.812Z] CLI Version:   9.10.2
[debug] [2021-05-17T10:00:49.813Z] Platform:      win32
[debug] [2021-05-17T10:00:49.813Z] Node Version:  v14.16.0
[debug] [2021-05-17T10:00:49.814Z] Time:          Mon May 17 2021 15:30:49 GMT+0530 (India Standard Time)
[debug] [2021-05-17T10:00:49.814Z] ----------------------------------------------------------------------
[debug] 
[debug] [2021-05-17T10:00:49.823Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2021-05-17T10:00:49.823Z] > authorizing via signed-in user (jburnwal5@gmail.com)
[info] i  emulators: Starting emulators: functions, hosting {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions, hosting"}}
[debug] [2021-05-17T10:00:49.856Z] [hub] writing locator at C:\Users\jburnwal\AppData\Local\Temp\hub-challenge-c76cd.json
[warn] !  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, pubsub {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, pubsub\u001b[22m"}}
[warn] !  Your requested "node" version "12" doesn't match your global version "14" {"metadata":{"emulator":{"name":"functions"},"message":"Your requested \"node\" version \"12\" doesn't match your global version \"14\""}}
[debug] [2021-05-17T10:00:49.895Z] defaultcredentials: writing to file C:\Users\jburnwal\AppData\Roaming\firebase\jburnwal5_gmail_com_application_default_credentials.json
[debug] [2021-05-17T10:00:49.897Z] Setting GAC to C:\Users\jburnwal\AppData\Roaming\firebase\jburnwal5_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\jburnwal\\AppData\\Roaming\\firebase\\jburnwal5_gmail_com_application_default_credentials.json"}}
[debug] [2021-05-17T10:00:49.900Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/challenge-c76cd/adminSdkConfig [none]
[debug] [2021-05-17T10:00:51.539Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/challenge-c76cd/adminSdkConfig 200
[debug] [2021-05-17T10:00:51.540Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/challenge-c76cd/adminSdkConfig {"projectId":"challenge-c76cd","storageBucket":"challenge-c76cd.appspot.com"}
[debug] [2021-05-17T10:00:51.623Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/challenge-c76cd/sites 
[debug] [2021-05-17T10:00:53.696Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/challenge-c76cd/sites 200
[debug] [2021-05-17T10:00:53.697Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/challenge-c76cd/sites {"sites":[{"name":"projects/953652029428/sites/challenge-c76cd","defaultUrl":"https://challenge-c76cd.web.app","appId":"1:953652029428:web:addad89ddcc8e998d4bba1","type":"DEFAULT_SITE"}]}
[debug] [2021-05-17T10:00:53.698Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/challenge-c76cd/webApps/1:953652029428:web:addad89ddcc8e998d4bba1/config [none]
[debug] [2021-05-17T10:00:55.368Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/challenge-c76cd/webApps/1:953652029428:web:addad89ddcc8e998d4bba1/config 200
[debug] [2021-05-17T10:00:55.369Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/challenge-c76cd/webApps/1:953652029428:web:addad89ddcc8e998d4bba1/config {"projectId":"challenge-c76cd","appId":"1:953652029428:web:addad89ddcc8e998d4bba1","storageBucket":"challenge-c76cd.appspot.com","apiKey":"AIzaSyBMZeprRHIdLZXbNOa8COMmfs3ubbGMNTc","authDomain":"challenge-c76cd.firebaseapp.com","messagingSenderId":"953652029428","measurementId":"G-YQET52W4ME"}
[info] i  hosting: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] +  hosting: Local server: http://localhost:5000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://localhost:5000\u001b[22m\u001b[24m"}}
[debug] [2021-05-17T10:00:55.484Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2021-05-17T10:00:55.484Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2021-05-17T10:00:55.484Z] Starting Emulator UI with command {"binary":"node","args":["C:\\Users\\jburnwal\\.cache\\firebase\\emulators\\ui-v1.4.2\\server.bundle.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"C:\\\\Users\\\\jburnwal\\\\.cache\\\\firebase\\\\emulators\\\\ui-v1.4.2\\\\server.bundle.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2021-05-17T10:00:55.692Z] Web / API server started at http://localhost:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at http://localhost:4000\n"}}
[info] i  functions: Watching "F:\clones\amazon-challenge\functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"F:\\clones\\amazon-challenge\\functions\" for Cloud Functions..."}}
[debug] [2021-05-17T10:00:55.805Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-05-17T10:00:55.806Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2021-05-17T10:00:55.807Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-05-17T10:00:55.808Z] [worker-~diagnostic~-3bd4cad5-8156-44a8-ad3b-d7cc3397b6ab]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\10396 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-3bd4cad5-8156-44a8-ad3b-d7cc3397b6ab]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\10396"}}
[debug] [2021-05-17T10:00:55.811Z] [worker-~diagnostic~-3bd4cad5-8156-44a8-ad3b-d7cc3397b6ab]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-3bd4cad5-8156-44a8-ad3b-d7cc3397b6ab]: BUSY"}}
[debug] [2021-05-17T10:00:56.076Z] [runtime-status] [10396] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10396] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T10:00:56.076Z] [runtime-status] [10396] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10396] Disabled runtime features: undefined"}}
[debug] [2021-05-17T10:00:56.080Z] [runtime-status] [10396] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10396] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:00:56.081Z] [runtime-status] [10396] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10396] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:00:56.083Z] [runtime-status] [10396] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10396] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:00:56.084Z] [runtime-status] [10396] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10396] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T10:00:56.085Z] [runtime-status] [10396] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10396] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:00:56.130Z] [runtime-status] [10396] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10396] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T10:00:56.131Z] [runtime-status] [10396] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10396] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:00:56.131Z] [runtime-status] [10396] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10396] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:00:56.132Z] [runtime-status] [10396] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10396] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:00:56.132Z] [runtime-status] [10396] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10396] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:00:56.133Z] [runtime-status] [10396] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10396] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[info] +  functions[api]: http function initialized (http://localhost:5001/challenge-c76cd/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/challenge-c76cd/us-central1/api)."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://localhost:4000                │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ localhost:5001 │ http://localhost:4000/functions │
├───────────┼────────────────┼─────────────────────────────────┤
│ Hosting   │ localhost:5000 │ n/a                             │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at localhost:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2021-05-17T10:00:56.289Z] [worker-~diagnostic~-3bd4cad5-8156-44a8-ad3b-d7cc3397b6ab]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-3bd4cad5-8156-44a8-ad3b-d7cc3397b6ab]: IDLE"}}
[debug] [2021-05-17T10:02:32.852Z] File F:\clones\amazon-challenge\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File F:\\clones\\amazon-challenge\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-05-17T10:02:33.858Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-05-17T10:02:33.859Z] [worker-~diagnostic~-3bd4cad5-8156-44a8-ad3b-d7cc3397b6ab]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-3bd4cad5-8156-44a8-ad3b-d7cc3397b6ab]: FINISHING"}}
[debug] [2021-05-17T10:02:33.866Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-05-17T10:02:33.867Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-05-17T10:02:33.867Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-05-17T10:02:33.867Z] [worker-~diagnostic~-7984b761-b64d-41a8-a8fe-22fef8b2d1b9]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\13216 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-7984b761-b64d-41a8-a8fe-22fef8b2d1b9]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\13216"}}
[debug] [2021-05-17T10:02:33.867Z] [worker-~diagnostic~-7984b761-b64d-41a8-a8fe-22fef8b2d1b9]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-7984b761-b64d-41a8-a8fe-22fef8b2d1b9]: BUSY"}}
[debug] [2021-05-17T10:02:33.869Z] [worker-~diagnostic~-3bd4cad5-8156-44a8-ad3b-d7cc3397b6ab]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-3bd4cad5-8156-44a8-ad3b-d7cc3397b6ab]: exited"}}
[debug] [2021-05-17T10:02:33.869Z] [worker-~diagnostic~-3bd4cad5-8156-44a8-ad3b-d7cc3397b6ab]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-3bd4cad5-8156-44a8-ad3b-d7cc3397b6ab]: FINISHED"}}
[debug] [2021-05-17T10:02:34.196Z] [runtime-status] [13216] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13216] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T10:02:34.198Z] [runtime-status] [13216] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13216] Disabled runtime features: undefined"}}
[debug] [2021-05-17T10:02:34.200Z] [runtime-status] [13216] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13216] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:02:34.202Z] [runtime-status] [13216] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13216] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:02:34.204Z] [runtime-status] [13216] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13216] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:02:34.206Z] [runtime-status] [13216] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13216] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T10:02:34.207Z] [runtime-status] [13216] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13216] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:02:34.261Z] [runtime-status] [13216] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13216] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T10:02:34.261Z] [runtime-status] [13216] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13216] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:02:34.262Z] [runtime-status] [13216] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13216] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:02:34.263Z] [runtime-status] [13216] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13216] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:02:34.263Z] [runtime-status] [13216] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13216] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:02:34.264Z] [runtime-status] [13216] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13216] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:02:34.430Z] [worker-~diagnostic~-7984b761-b64d-41a8-a8fe-22fef8b2d1b9]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-7984b761-b64d-41a8-a8fe-22fef8b2d1b9]: IDLE"}}
[debug] [2021-05-17T10:02:49.259Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-17T10:02:49.260Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-17T10:02:49.261Z] Accepted request GET /challenge-c76cd/us-central1/api --> api
[debug] [2021-05-17T10:02:49.262Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-05-17T10:02:49.284Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T10:02:49.286Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-05-17T10:02:49.287Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T10:02:49.288Z] [worker-api-2ba71db0-b872-49b7-be43-e1a3c79de6c9]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\11020 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2ba71db0-b872-49b7-be43-e1a3c79de6c9]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\11020"}}
[debug] [2021-05-17T10:02:49.289Z] [worker-api-2ba71db0-b872-49b7-be43-e1a3c79de6c9]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2ba71db0-b872-49b7-be43-e1a3c79de6c9]: BUSY"}}
[debug] [2021-05-17T10:02:49.827Z] [runtime-status] [11020] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T10:02:49.830Z] [runtime-status] [11020] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] Disabled runtime features: undefined"}}
[debug] [2021-05-17T10:02:49.835Z] [runtime-status] [11020] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:02:49.837Z] [runtime-status] [11020] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:02:49.839Z] [runtime-status] [11020] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:02:49.841Z] [runtime-status] [11020] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T10:02:49.842Z] [runtime-status] [11020] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:02:49.888Z] [runtime-status] [11020] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T10:02:49.888Z] [runtime-status] [11020] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:02:49.888Z] [runtime-status] [11020] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:02:49.889Z] [runtime-status] [11020] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:02:49.890Z] [runtime-status] [11020] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:02:49.891Z] [runtime-status] [11020] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:02:50.098Z] [runtime-status] [11020] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T10:02:50.101Z] [runtime-status] [11020] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T10:02:50.102Z] [runtime-status] [11020] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] Running api in mode HTTPS"}}
[debug] [2021-05-17T10:02:50.105Z] [runtime-status] [11020] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\11020 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\11020"}}
[debug] [2021-05-17T10:02:50.108Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T10:02:50.108Z] [functions] Got req.url=/challenge-c76cd/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api, mapping to path=/"}}
[debug] [2021-05-17T10:02:50.119Z] [runtime-status] [11020] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] Ephemeral server handling GET request"}}
[debug] [2021-05-17T10:02:50.126Z] [runtime-status] [11020] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-05-17T10:02:50.130Z] [worker-api-2ba71db0-b872-49b7-be43-e1a3c79de6c9]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2ba71db0-b872-49b7-be43-e1a3c79de6c9]: IDLE"}}
[debug] [2021-05-17T10:02:50.130Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-17T10:02:50.451Z] Functions emulator received unknown request at path /favicon.ico
[debug] [2021-05-17T10:03:14.431Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-17T10:03:14.432Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-17T10:03:14.432Z] Accepted request GET /challenge-c76cd/us-central1/api --> api
[debug] [2021-05-17T10:03:14.432Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T10:03:14.432Z] [worker-api-2ba71db0-b872-49b7-be43-e1a3c79de6c9]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\11020 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2ba71db0-b872-49b7-be43-e1a3c79de6c9]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\11020"}}
[debug] [2021-05-17T10:03:14.433Z] [worker-api-2ba71db0-b872-49b7-be43-e1a3c79de6c9]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2ba71db0-b872-49b7-be43-e1a3c79de6c9]: BUSY"}}
[debug] [2021-05-17T10:03:14.434Z] [runtime-status] [11020] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T10:03:14.437Z] [runtime-status] [11020] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T10:03:14.438Z] [runtime-status] [11020] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] Running api in mode HTTPS"}}
[debug] [2021-05-17T10:03:14.439Z] [runtime-status] [11020] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\11020 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\11020"}}
[debug] [2021-05-17T10:03:14.441Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T10:03:14.442Z] [functions] Got req.url=/challenge-c76cd/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api, mapping to path=/"}}
[debug] [2021-05-17T10:03:14.450Z] [runtime-status] [11020] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] Ephemeral server handling GET request"}}
[debug] [2021-05-17T10:03:14.454Z] [runtime-status] [11020] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-05-17T10:03:14.457Z] [worker-api-2ba71db0-b872-49b7-be43-e1a3c79de6c9]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2ba71db0-b872-49b7-be43-e1a3c79de6c9]: IDLE"}}
[debug] [2021-05-17T10:03:14.458Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-17T10:03:24.197Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-17T10:03:24.198Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-17T10:03:24.198Z] Accepted request GET /challenge-c76cd/us-central1/api --> api
[debug] [2021-05-17T10:03:24.198Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T10:03:24.199Z] [worker-api-2ba71db0-b872-49b7-be43-e1a3c79de6c9]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\11020 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2ba71db0-b872-49b7-be43-e1a3c79de6c9]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\11020"}}
[debug] [2021-05-17T10:03:24.199Z] [worker-api-2ba71db0-b872-49b7-be43-e1a3c79de6c9]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2ba71db0-b872-49b7-be43-e1a3c79de6c9]: BUSY"}}
[debug] [2021-05-17T10:03:24.200Z] [runtime-status] [11020] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T10:03:24.203Z] [runtime-status] [11020] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T10:03:24.203Z] [runtime-status] [11020] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] Running api in mode HTTPS"}}
[debug] [2021-05-17T10:03:24.204Z] [runtime-status] [11020] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\11020 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\11020"}}
[debug] [2021-05-17T10:03:24.206Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T10:03:24.206Z] [functions] Got req.url=/challenge-c76cd/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api, mapping to path=/"}}
[debug] [2021-05-17T10:03:24.214Z] [runtime-status] [11020] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] Ephemeral server handling GET request"}}
[debug] [2021-05-17T10:03:24.217Z] [runtime-status] [11020] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-05-17T10:03:24.220Z] [worker-api-2ba71db0-b872-49b7-be43-e1a3c79de6c9]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2ba71db0-b872-49b7-be43-e1a3c79de6c9]: IDLE"}}
[debug] [2021-05-17T10:03:24.220Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-17T10:07:43.726Z] File F:\clones\amazon-challenge\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File F:\\clones\\amazon-challenge\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-05-17T10:07:44.726Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-05-17T10:07:44.727Z] [worker-~diagnostic~-7984b761-b64d-41a8-a8fe-22fef8b2d1b9]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-7984b761-b64d-41a8-a8fe-22fef8b2d1b9]: FINISHING"}}
[debug] [2021-05-17T10:07:44.730Z] [worker-pool] Shutting down IDLE worker (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (api)"}}
[debug] [2021-05-17T10:07:44.730Z] [worker-api-2ba71db0-b872-49b7-be43-e1a3c79de6c9]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2ba71db0-b872-49b7-be43-e1a3c79de6c9]: FINISHING"}}
[debug] [2021-05-17T10:07:44.743Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-05-17T10:07:44.743Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-05-17T10:07:44.743Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-05-17T10:07:44.744Z] [worker-~diagnostic~-4614d5c7-6766-4913-891a-655bcb3b5963]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\6912 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-4614d5c7-6766-4913-891a-655bcb3b5963]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\6912"}}
[debug] [2021-05-17T10:07:44.744Z] [worker-~diagnostic~-4614d5c7-6766-4913-891a-655bcb3b5963]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-4614d5c7-6766-4913-891a-655bcb3b5963]: BUSY"}}
[debug] [2021-05-17T10:07:44.754Z] [worker-~diagnostic~-7984b761-b64d-41a8-a8fe-22fef8b2d1b9]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-7984b761-b64d-41a8-a8fe-22fef8b2d1b9]: exited"}}
[debug] [2021-05-17T10:07:44.755Z] [worker-~diagnostic~-7984b761-b64d-41a8-a8fe-22fef8b2d1b9]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-7984b761-b64d-41a8-a8fe-22fef8b2d1b9]: FINISHED"}}
[debug] [2021-05-17T10:07:44.756Z] [worker-api-2ba71db0-b872-49b7-be43-e1a3c79de6c9]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2ba71db0-b872-49b7-be43-e1a3c79de6c9]: exited"}}
[debug] [2021-05-17T10:07:44.756Z] [worker-api-2ba71db0-b872-49b7-be43-e1a3c79de6c9]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2ba71db0-b872-49b7-be43-e1a3c79de6c9]: FINISHED"}}
[debug] [2021-05-17T10:07:45.200Z] [runtime-status] [6912] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6912] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T10:07:45.202Z] [runtime-status] [6912] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6912] Disabled runtime features: undefined"}}
[debug] [2021-05-17T10:07:45.206Z] [runtime-status] [6912] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6912] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:07:45.208Z] [runtime-status] [6912] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6912] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:07:45.210Z] [runtime-status] [6912] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6912] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:07:45.211Z] [runtime-status] [6912] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6912] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T10:07:45.212Z] [runtime-status] [6912] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6912] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:07:45.264Z] [runtime-status] [6912] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6912] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T10:07:45.264Z] [runtime-status] [6912] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6912] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:07:45.264Z] [runtime-status] [6912] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6912] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:07:45.265Z] [runtime-status] [6912] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6912] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:07:45.266Z] [runtime-status] [6912] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6912] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:07:45.266Z] [runtime-status] [6912] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6912] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:07:45.430Z] [worker-~diagnostic~-4614d5c7-6766-4913-891a-655bcb3b5963]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-4614d5c7-6766-4913-891a-655bcb3b5963]: IDLE"}}
[debug] [2021-05-17T10:08:51.213Z] File F:\clones\amazon-challenge\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File F:\\clones\\amazon-challenge\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-05-17T10:08:52.225Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-05-17T10:08:52.225Z] [worker-~diagnostic~-4614d5c7-6766-4913-891a-655bcb3b5963]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-4614d5c7-6766-4913-891a-655bcb3b5963]: FINISHING"}}
[debug] [2021-05-17T10:08:52.225Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-05-17T10:08:52.225Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-05-17T10:08:52.230Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-05-17T10:08:52.230Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-05-17T10:08:52.230Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-05-17T10:08:52.231Z] [worker-~diagnostic~-65759ca7-edca-4e51-8788-2a7b1a71af88]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\15468 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-65759ca7-edca-4e51-8788-2a7b1a71af88]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\15468"}}
[debug] [2021-05-17T10:08:52.231Z] [worker-~diagnostic~-65759ca7-edca-4e51-8788-2a7b1a71af88]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-65759ca7-edca-4e51-8788-2a7b1a71af88]: BUSY"}}
[debug] [2021-05-17T10:08:52.231Z] [worker-~diagnostic~-4614d5c7-6766-4913-891a-655bcb3b5963]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-4614d5c7-6766-4913-891a-655bcb3b5963]: exited"}}
[debug] [2021-05-17T10:08:52.232Z] [worker-~diagnostic~-4614d5c7-6766-4913-891a-655bcb3b5963]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-4614d5c7-6766-4913-891a-655bcb3b5963]: FINISHED"}}
[debug] [2021-05-17T10:08:52.500Z] [runtime-status] [15468] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15468] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T10:08:52.503Z] [runtime-status] [15468] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15468] Disabled runtime features: undefined"}}
[debug] [2021-05-17T10:08:52.506Z] [runtime-status] [15468] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15468] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:08:52.508Z] [runtime-status] [15468] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15468] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:08:52.509Z] [runtime-status] [15468] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15468] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:08:52.511Z] [runtime-status] [15468] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15468] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T10:08:52.512Z] [runtime-status] [15468] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15468] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:08:52.580Z] [runtime-status] [15468] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15468] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T10:08:52.580Z] [runtime-status] [15468] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15468] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:08:52.581Z] [runtime-status] [15468] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15468] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:08:52.582Z] [runtime-status] [15468] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15468] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:08:52.583Z] [runtime-status] [15468] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15468] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:08:52.583Z] [runtime-status] [15468] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15468] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:08:52.798Z] [worker-~diagnostic~-65759ca7-edca-4e51-8788-2a7b1a71af88]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-65759ca7-edca-4e51-8788-2a7b1a71af88]: IDLE"}}
[debug] [2021-05-17T10:14:56.177Z] File F:\clones\amazon-challenge\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File F:\\clones\\amazon-challenge\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-05-17T10:14:57.185Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-05-17T10:14:57.186Z] [worker-~diagnostic~-65759ca7-edca-4e51-8788-2a7b1a71af88]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-65759ca7-edca-4e51-8788-2a7b1a71af88]: FINISHING"}}
[debug] [2021-05-17T10:14:57.187Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-05-17T10:14:57.205Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-05-17T10:14:57.206Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-05-17T10:14:57.206Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-05-17T10:14:57.207Z] [worker-~diagnostic~-bbd47f18-1d47-40d2-9a3c-18b7399495d4]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\15324 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-bbd47f18-1d47-40d2-9a3c-18b7399495d4]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\15324"}}
[debug] [2021-05-17T10:14:57.207Z] [worker-~diagnostic~-bbd47f18-1d47-40d2-9a3c-18b7399495d4]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-bbd47f18-1d47-40d2-9a3c-18b7399495d4]: BUSY"}}
[debug] [2021-05-17T10:14:57.209Z] [worker-~diagnostic~-65759ca7-edca-4e51-8788-2a7b1a71af88]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-65759ca7-edca-4e51-8788-2a7b1a71af88]: exited"}}
[debug] [2021-05-17T10:14:57.209Z] [worker-~diagnostic~-65759ca7-edca-4e51-8788-2a7b1a71af88]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-65759ca7-edca-4e51-8788-2a7b1a71af88]: FINISHED"}}
[debug] [2021-05-17T10:14:57.570Z] [runtime-status] [15324] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15324] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T10:14:57.572Z] [runtime-status] [15324] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15324] Disabled runtime features: undefined"}}
[debug] [2021-05-17T10:14:57.576Z] [runtime-status] [15324] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15324] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:14:57.577Z] [runtime-status] [15324] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15324] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:14:57.579Z] [runtime-status] [15324] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15324] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:14:57.581Z] [runtime-status] [15324] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15324] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T10:14:57.581Z] [runtime-status] [15324] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15324] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:14:57.648Z] [runtime-status] [15324] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15324] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T10:14:57.648Z] [runtime-status] [15324] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15324] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:14:57.649Z] [runtime-status] [15324] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15324] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:14:57.650Z] [runtime-status] [15324] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15324] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:14:57.651Z] [runtime-status] [15324] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15324] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:14:57.651Z] [runtime-status] [15324] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15324] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:14:57.825Z] [worker-~diagnostic~-bbd47f18-1d47-40d2-9a3c-18b7399495d4]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-bbd47f18-1d47-40d2-9a3c-18b7399495d4]: IDLE"}}
[debug] [2021-05-17T10:29:03.874Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-17T10:29:03.875Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-17T10:29:03.875Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=$0 --> api
[debug] [2021-05-17T10:29:03.875Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-05-17T10:29:03.884Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T10:29:03.884Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-05-17T10:29:03.884Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T10:29:03.885Z] [worker-api-fbdcc2ff-e662-4904-993d-3bd45b068d22]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\6960 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-fbdcc2ff-e662-4904-993d-3bd45b068d22]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\6960"}}
[debug] [2021-05-17T10:29:03.885Z] [worker-api-fbdcc2ff-e662-4904-993d-3bd45b068d22]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-fbdcc2ff-e662-4904-993d-3bd45b068d22]: BUSY"}}
[debug] [2021-05-17T10:29:04.283Z] [runtime-status] [6960] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6960] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T10:29:04.284Z] [runtime-status] [6960] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6960] Disabled runtime features: undefined"}}
[debug] [2021-05-17T10:29:04.287Z] [runtime-status] [6960] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6960] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:29:04.289Z] [runtime-status] [6960] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6960] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:29:04.292Z] [runtime-status] [6960] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6960] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:29:04.293Z] [runtime-status] [6960] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6960] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T10:29:04.294Z] [runtime-status] [6960] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6960] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:29:04.349Z] [runtime-status] [6960] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6960] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T10:29:04.349Z] [runtime-status] [6960] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6960] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:29:04.350Z] [runtime-status] [6960] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6960] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:29:04.351Z] [runtime-status] [6960] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6960] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:29:04.352Z] [runtime-status] [6960] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6960] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:29:04.352Z] [runtime-status] [6960] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6960] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:29:04.609Z] [runtime-status] [6960] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6960] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T10:29:04.612Z] [runtime-status] [6960] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6960] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T10:29:04.612Z] [runtime-status] [6960] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6960] Running api in mode HTTPS"}}
[debug] [2021-05-17T10:29:04.621Z] [runtime-status] [6960] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\6960 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6960] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\6960"}}
[debug] [2021-05-17T10:29:04.628Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T10:29:04.629Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=$0, mapping to path=/payments/create?total=$0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=$0, mapping to path=/payments/create?total=$0"}}
[debug] [2021-05-17T10:29:04.677Z] [runtime-status] [6960] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6960] Ephemeral server handling POST request"}}
[debug] [2021-05-17T10:29:04.686Z] [runtime-status] [6960] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6960] Ephemeral server survived."}}
[info] >  (node:6960) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:6960) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:6960) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at F:\clones\amazon-challenge\functions\index.js:20:19 {"user":"    at F:\\clones\\amazon-challenge\\functions\\index.js:20:19","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\index.js:20:19"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (F:\clones\amazon-challenge\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:6960) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:6960) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:6960) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:6960) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:6960) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:6960) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-05-17T10:29:17.271Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-05-17T10:29:17.271Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-05-17T10:29:17.271Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=$22844 --> api
[debug] [2021-05-17T10:29:17.284Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T10:29:17.284Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-05-17T10:29:17.284Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T10:29:17.285Z] [worker-api-237590c1-9885-4268-8b9c-2e52470d9aef]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\4560 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-237590c1-9885-4268-8b9c-2e52470d9aef]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\4560"}}
[debug] [2021-05-17T10:29:17.285Z] [worker-api-237590c1-9885-4268-8b9c-2e52470d9aef]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-237590c1-9885-4268-8b9c-2e52470d9aef]: BUSY"}}
[debug] [2021-05-17T10:29:17.577Z] [runtime-status] [4560] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4560] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T10:29:17.578Z] [runtime-status] [4560] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4560] Disabled runtime features: undefined"}}
[debug] [2021-05-17T10:29:17.580Z] [runtime-status] [4560] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4560] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:29:17.582Z] [runtime-status] [4560] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4560] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:29:17.583Z] [runtime-status] [4560] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4560] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:29:17.585Z] [runtime-status] [4560] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4560] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T10:29:17.585Z] [runtime-status] [4560] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4560] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:29:17.633Z] [runtime-status] [4560] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4560] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T10:29:17.634Z] [runtime-status] [4560] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4560] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:29:17.634Z] [runtime-status] [4560] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4560] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:29:17.635Z] [runtime-status] [4560] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4560] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:29:17.636Z] [runtime-status] [4560] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4560] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:29:17.636Z] [runtime-status] [4560] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4560] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:29:17.779Z] [runtime-status] [4560] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4560] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T10:29:17.780Z] [runtime-status] [4560] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4560] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T10:29:17.780Z] [runtime-status] [4560] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4560] Running api in mode HTTPS"}}
[debug] [2021-05-17T10:29:17.783Z] [runtime-status] [4560] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\4560 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4560] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\4560"}}
[debug] [2021-05-17T10:29:17.785Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T10:29:17.785Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=$22844, mapping to path=/payments/create?total=$22844 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=$22844, mapping to path=/payments/create?total=$22844"}}
[debug] [2021-05-17T10:29:17.793Z] [runtime-status] [4560] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4560] Ephemeral server handling POST request"}}
[debug] [2021-05-17T10:29:17.795Z] [runtime-status] [4560] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4560] Ephemeral server survived."}}
[info] >  (node:4560) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:4560) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:4560) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at F:\clones\amazon-challenge\functions\index.js:20:19 {"user":"    at F:\\clones\\amazon-challenge\\functions\\index.js:20:19","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\index.js:20:19"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (F:\clones\amazon-challenge\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:4560) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:4560) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:4560) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:4560) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:4560) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:4560) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648 {"user":"C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-05-17T10:30:04.713Z] [worker-api-fbdcc2ff-e662-4904-993d-3bd45b068d22]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-fbdcc2ff-e662-4904-993d-3bd45b068d22]: exited"}}
[debug] [2021-05-17T10:30:04.713Z] [worker-api-fbdcc2ff-e662-4904-993d-3bd45b068d22]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-fbdcc2ff-e662-4904-993d-3bd45b068d22]: FINISHED"}}
[debug] [2021-05-17T10:30:04.714Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648 {"user":"C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-05-17T10:30:17.829Z] [worker-api-237590c1-9885-4268-8b9c-2e52470d9aef]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-237590c1-9885-4268-8b9c-2e52470d9aef]: exited"}}
[debug] [2021-05-17T10:30:17.830Z] [worker-api-237590c1-9885-4268-8b9c-2e52470d9aef]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-237590c1-9885-4268-8b9c-2e52470d9aef]: FINISHED"}}
[debug] [2021-05-17T10:30:17.831Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-17T10:30:46.304Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-17T10:30:46.304Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-17T10:30:46.304Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=$0 --> api
[debug] [2021-05-17T10:30:46.304Z] [worker-pool] Cleaned up workers for api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 0"}}
[debug] [2021-05-17T10:30:46.312Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T10:30:46.312Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-05-17T10:30:46.312Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T10:30:46.312Z] [worker-api-8f619cc4-f1d0-4d1b-a7f4-d85ae7e8d46c]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\792 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-8f619cc4-f1d0-4d1b-a7f4-d85ae7e8d46c]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\792"}}
[debug] [2021-05-17T10:30:46.312Z] [worker-api-8f619cc4-f1d0-4d1b-a7f4-d85ae7e8d46c]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-8f619cc4-f1d0-4d1b-a7f4-d85ae7e8d46c]: BUSY"}}
[debug] [2021-05-17T10:30:46.619Z] [runtime-status] [792] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [792] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T10:30:46.620Z] [runtime-status] [792] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [792] Disabled runtime features: undefined"}}
[debug] [2021-05-17T10:30:46.622Z] [runtime-status] [792] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [792] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:30:46.624Z] [runtime-status] [792] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [792] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:30:46.626Z] [runtime-status] [792] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [792] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:30:46.627Z] [runtime-status] [792] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [792] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T10:30:46.628Z] [runtime-status] [792] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [792] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:30:46.679Z] [runtime-status] [792] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [792] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T10:30:46.679Z] [runtime-status] [792] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [792] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:30:46.680Z] [runtime-status] [792] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [792] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:30:46.681Z] [runtime-status] [792] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [792] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:30:46.682Z] [runtime-status] [792] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [792] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:30:46.682Z] [runtime-status] [792] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [792] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:30:46.875Z] [runtime-status] [792] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [792] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T10:30:46.879Z] [runtime-status] [792] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [792] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T10:30:46.879Z] [runtime-status] [792] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [792] Running api in mode HTTPS"}}
[debug] [2021-05-17T10:30:46.882Z] [runtime-status] [792] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\792 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [792] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\792"}}
[debug] [2021-05-17T10:30:46.885Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T10:30:46.885Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=$0, mapping to path=/payments/create?total=$0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=$0, mapping to path=/payments/create?total=$0"}}
[debug] [2021-05-17T10:30:46.895Z] [runtime-status] [792] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [792] Ephemeral server handling POST request"}}
[debug] [2021-05-17T10:30:46.899Z] [runtime-status] [792] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [792] Ephemeral server survived."}}
[info] >  (node:792) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:792) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:792) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at F:\clones\amazon-challenge\functions\index.js:20:19 {"user":"    at F:\\clones\\amazon-challenge\\functions\\index.js:20:19","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\index.js:20:19"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (F:\clones\amazon-challenge\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:792) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:792) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:792) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:792) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:792) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:792) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-05-17T10:31:17.664Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-05-17T10:31:17.664Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-05-17T10:31:17.664Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=$144023 --> api
[debug] [2021-05-17T10:31:17.674Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T10:31:17.674Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-05-17T10:31:17.674Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T10:31:17.674Z] [worker-api-c3aa7dae-27bb-4df9-9d2d-30b68283b0dc]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\14564 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c3aa7dae-27bb-4df9-9d2d-30b68283b0dc]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\14564"}}
[debug] [2021-05-17T10:31:17.675Z] [worker-api-c3aa7dae-27bb-4df9-9d2d-30b68283b0dc]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c3aa7dae-27bb-4df9-9d2d-30b68283b0dc]: BUSY"}}
[debug] [2021-05-17T10:31:17.993Z] [runtime-status] [14564] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14564] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T10:31:17.995Z] [runtime-status] [14564] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14564] Disabled runtime features: undefined"}}
[debug] [2021-05-17T10:31:17.997Z] [runtime-status] [14564] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14564] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:31:17.998Z] [runtime-status] [14564] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14564] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:31:18.000Z] [runtime-status] [14564] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14564] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:31:18.001Z] [runtime-status] [14564] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14564] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T10:31:18.002Z] [runtime-status] [14564] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14564] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:31:18.065Z] [runtime-status] [14564] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14564] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T10:31:18.066Z] [runtime-status] [14564] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14564] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:31:18.068Z] [runtime-status] [14564] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14564] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:31:18.072Z] [runtime-status] [14564] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14564] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:31:18.074Z] [runtime-status] [14564] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14564] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:31:18.075Z] [runtime-status] [14564] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14564] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:31:18.258Z] [runtime-status] [14564] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14564] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T10:31:18.261Z] [runtime-status] [14564] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14564] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T10:31:18.261Z] [runtime-status] [14564] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14564] Running api in mode HTTPS"}}
[debug] [2021-05-17T10:31:18.266Z] [runtime-status] [14564] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\14564 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14564] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\14564"}}
[debug] [2021-05-17T10:31:18.269Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T10:31:18.269Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=$144023, mapping to path=/payments/create?total=$144023 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=$144023, mapping to path=/payments/create?total=$144023"}}
[debug] [2021-05-17T10:31:18.277Z] [runtime-status] [14564] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14564] Ephemeral server handling POST request"}}
[debug] [2021-05-17T10:31:18.280Z] [runtime-status] [14564] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14564] Ephemeral server survived."}}
[info] >  (node:14564) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:14564) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:14564) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at F:\clones\amazon-challenge\functions\index.js:20:19 {"user":"    at F:\\clones\\amazon-challenge\\functions\\index.js:20:19","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\index.js:20:19"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (F:\clones\amazon-challenge\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:14564) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:14564) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:14564) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:14564) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:14564) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:14564) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648 {"user":"C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-05-17T10:31:46.923Z] [worker-api-8f619cc4-f1d0-4d1b-a7f4-d85ae7e8d46c]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-8f619cc4-f1d0-4d1b-a7f4-d85ae7e8d46c]: exited"}}
[debug] [2021-05-17T10:31:46.924Z] [worker-api-8f619cc4-f1d0-4d1b-a7f4-d85ae7e8d46c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-8f619cc4-f1d0-4d1b-a7f4-d85ae7e8d46c]: FINISHED"}}
[debug] [2021-05-17T10:31:46.924Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648 {"user":"C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-05-17T10:32:18.300Z] [worker-api-c3aa7dae-27bb-4df9-9d2d-30b68283b0dc]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c3aa7dae-27bb-4df9-9d2d-30b68283b0dc]: exited"}}
[debug] [2021-05-17T10:32:18.301Z] [worker-api-c3aa7dae-27bb-4df9-9d2d-30b68283b0dc]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c3aa7dae-27bb-4df9-9d2d-30b68283b0dc]: FINISHED"}}
[debug] [2021-05-17T10:32:18.302Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-17T10:34:56.429Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-17T10:34:56.430Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-17T10:34:56.431Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=$144023 --> api
[debug] [2021-05-17T10:34:56.431Z] [worker-pool] Cleaned up workers for api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 0"}}
[debug] [2021-05-17T10:34:56.457Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T10:34:56.458Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-05-17T10:34:56.458Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T10:34:56.459Z] [worker-api-0ff6692d-7fda-49bf-8606-492ba16de3f0]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\1544 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0ff6692d-7fda-49bf-8606-492ba16de3f0]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\1544"}}
[debug] [2021-05-17T10:34:56.459Z] [worker-api-0ff6692d-7fda-49bf-8606-492ba16de3f0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0ff6692d-7fda-49bf-8606-492ba16de3f0]: BUSY"}}
[debug] [2021-05-17T10:34:56.832Z] [runtime-status] [1544] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1544] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T10:34:56.833Z] [runtime-status] [1544] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1544] Disabled runtime features: undefined"}}
[debug] [2021-05-17T10:34:56.836Z] [runtime-status] [1544] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1544] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:34:56.837Z] [runtime-status] [1544] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1544] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:34:56.838Z] [runtime-status] [1544] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1544] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:34:56.840Z] [runtime-status] [1544] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1544] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T10:34:56.841Z] [runtime-status] [1544] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1544] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:34:56.884Z] [runtime-status] [1544] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1544] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T10:34:56.885Z] [runtime-status] [1544] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1544] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:34:56.885Z] [runtime-status] [1544] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1544] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:34:56.886Z] [runtime-status] [1544] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1544] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:34:56.887Z] [runtime-status] [1544] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1544] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:34:56.887Z] [runtime-status] [1544] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1544] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:34:57.074Z] [runtime-status] [1544] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1544] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T10:34:57.076Z] [runtime-status] [1544] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1544] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T10:34:57.076Z] [runtime-status] [1544] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1544] Running api in mode HTTPS"}}
[debug] [2021-05-17T10:34:57.079Z] [runtime-status] [1544] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\1544 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1544] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\1544"}}
[debug] [2021-05-17T10:34:57.085Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T10:34:57.086Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=$144023, mapping to path=/payments/create?total=$144023 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=$144023, mapping to path=/payments/create?total=$144023"}}
[debug] [2021-05-17T10:34:57.094Z] [runtime-status] [1544] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1544] Ephemeral server handling POST request"}}
[debug] [2021-05-17T10:34:57.099Z] [runtime-status] [1544] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1544] Ephemeral server survived."}}
[info] >  (node:1544) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:1544) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:1544) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at F:\clones\amazon-challenge\functions\index.js:20:19 {"user":"    at F:\\clones\\amazon-challenge\\functions\\index.js:20:19","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\index.js:20:19"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (F:\clones\amazon-challenge\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:1544) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:1544) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:1544) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:1544) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:1544) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:1544) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648 {"user":"C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-05-17T10:35:57.121Z] [worker-api-0ff6692d-7fda-49bf-8606-492ba16de3f0]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0ff6692d-7fda-49bf-8606-492ba16de3f0]: exited"}}
[debug] [2021-05-17T10:35:57.121Z] [worker-api-0ff6692d-7fda-49bf-8606-492ba16de3f0]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0ff6692d-7fda-49bf-8606-492ba16de3f0]: FINISHED"}}
[debug] [2021-05-17T10:35:57.122Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-17T10:37:41.087Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-17T10:37:41.088Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-17T10:37:41.088Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=$144023 --> api
[debug] [2021-05-17T10:37:41.089Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-05-17T10:37:41.108Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T10:37:41.109Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-05-17T10:37:41.110Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T10:37:41.111Z] [worker-api-d1e24d8e-b062-4d0b-8367-f66d46653571]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\7804 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d1e24d8e-b062-4d0b-8367-f66d46653571]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\7804"}}
[debug] [2021-05-17T10:37:41.111Z] [worker-api-d1e24d8e-b062-4d0b-8367-f66d46653571]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d1e24d8e-b062-4d0b-8367-f66d46653571]: BUSY"}}
[debug] [2021-05-17T10:37:41.463Z] [runtime-status] [7804] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7804] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T10:37:41.464Z] [runtime-status] [7804] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7804] Disabled runtime features: undefined"}}
[debug] [2021-05-17T10:37:41.466Z] [runtime-status] [7804] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7804] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:37:41.467Z] [runtime-status] [7804] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7804] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:37:41.469Z] [runtime-status] [7804] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7804] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:37:41.470Z] [runtime-status] [7804] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7804] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T10:37:41.471Z] [runtime-status] [7804] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7804] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:37:41.512Z] [runtime-status] [7804] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7804] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T10:37:41.513Z] [runtime-status] [7804] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7804] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:37:41.513Z] [runtime-status] [7804] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7804] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:37:41.514Z] [runtime-status] [7804] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7804] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:37:41.514Z] [runtime-status] [7804] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7804] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:37:41.515Z] [runtime-status] [7804] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7804] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:37:41.810Z] [runtime-status] [7804] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7804] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T10:37:41.812Z] [runtime-status] [7804] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7804] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T10:37:41.812Z] [runtime-status] [7804] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7804] Running api in mode HTTPS"}}
[debug] [2021-05-17T10:37:41.817Z] [runtime-status] [7804] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\7804 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7804] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\7804"}}
[debug] [2021-05-17T10:37:41.824Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T10:37:41.825Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=$144023, mapping to path=/payments/create?total=$144023 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=$144023, mapping to path=/payments/create?total=$144023"}}
[debug] [2021-05-17T10:37:41.836Z] [runtime-status] [7804] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7804] Ephemeral server handling POST request"}}
[debug] [2021-05-17T10:37:41.842Z] [runtime-status] [7804] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7804] Ephemeral server survived."}}
[info] >  (node:7804) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:7804) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7804) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at F:\clones\amazon-challenge\functions\index.js:20:19 {"user":"    at F:\\clones\\amazon-challenge\\functions\\index.js:20:19","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\index.js:20:19"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (F:\clones\amazon-challenge\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:7804) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:7804) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7804) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:7804) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:7804) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7804) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648 {"user":"C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-05-17T10:38:41.858Z] [worker-api-d1e24d8e-b062-4d0b-8367-f66d46653571]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d1e24d8e-b062-4d0b-8367-f66d46653571]: exited"}}
[debug] [2021-05-17T10:38:41.859Z] [worker-api-d1e24d8e-b062-4d0b-8367-f66d46653571]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d1e24d8e-b062-4d0b-8367-f66d46653571]: FINISHED"}}
[debug] [2021-05-17T10:38:41.859Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-17T10:42:07.452Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-17T10:42:07.453Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-17T10:42:07.453Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=${(getBasketTotal(basket)%20*%20100)} --> api
[debug] [2021-05-17T10:42:07.453Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-05-17T10:42:07.486Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T10:42:07.486Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-05-17T10:42:07.487Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T10:42:07.488Z] [worker-api-0cb851ed-533d-4d78-b9e4-bc90f047c15b]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\2020 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0cb851ed-533d-4d78-b9e4-bc90f047c15b]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\2020"}}
[debug] [2021-05-17T10:42:07.490Z] [worker-api-0cb851ed-533d-4d78-b9e4-bc90f047c15b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0cb851ed-533d-4d78-b9e4-bc90f047c15b]: BUSY"}}
[debug] [2021-05-17T10:42:08.048Z] [runtime-status] [2020] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2020] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T10:42:08.049Z] [runtime-status] [2020] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2020] Disabled runtime features: undefined"}}
[debug] [2021-05-17T10:42:08.052Z] [runtime-status] [2020] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2020] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:42:08.053Z] [runtime-status] [2020] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2020] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:42:08.055Z] [runtime-status] [2020] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2020] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:42:08.057Z] [runtime-status] [2020] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2020] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T10:42:08.057Z] [runtime-status] [2020] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2020] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:42:08.103Z] [runtime-status] [2020] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2020] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T10:42:08.103Z] [runtime-status] [2020] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2020] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:42:08.103Z] [runtime-status] [2020] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2020] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:42:08.105Z] [runtime-status] [2020] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2020] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:42:08.105Z] [runtime-status] [2020] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2020] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:42:08.105Z] [runtime-status] [2020] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2020] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:42:08.296Z] [runtime-status] [2020] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2020] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T10:42:08.297Z] [runtime-status] [2020] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2020] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T10:42:08.297Z] [runtime-status] [2020] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2020] Running api in mode HTTPS"}}
[debug] [2021-05-17T10:42:08.300Z] [runtime-status] [2020] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\2020 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2020] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\2020"}}
[debug] [2021-05-17T10:42:08.303Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T10:42:08.303Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=${(getBasketTotal(basket)%20*%20100)}, mapping to path=/payments/create?total=${(getBasketTotal(basket)%20*%20100)} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=${(getBasketTotal(basket)%20*%20100)}, mapping to path=/payments/create?total=${(getBasketTotal(basket)%20*%20100)}"}}
[debug] [2021-05-17T10:42:08.313Z] [runtime-status] [2020] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2020] Ephemeral server handling POST request"}}
[debug] [2021-05-17T10:42:08.316Z] [runtime-status] [2020] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2020] Ephemeral server survived."}}
[info] >  (node:2020) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:2020) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2020) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at F:\clones\amazon-challenge\functions\index.js:20:19 {"user":"    at F:\\clones\\amazon-challenge\\functions\\index.js:20:19","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\index.js:20:19"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (F:\clones\amazon-challenge\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:2020) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:2020) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2020) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:2020) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2020) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2020) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-05-17T10:42:14.283Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-05-17T10:42:14.283Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-05-17T10:42:14.283Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=${(getBasketTotal(basket)%20*%20100)} --> api
[debug] [2021-05-17T10:42:14.296Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T10:42:14.296Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-05-17T10:42:14.296Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T10:42:14.297Z] [worker-api-f77ee86f-b28a-4a38-9b62-b1defb4e3d3c]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\16084 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f77ee86f-b28a-4a38-9b62-b1defb4e3d3c]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\16084"}}
[debug] [2021-05-17T10:42:14.297Z] [worker-api-f77ee86f-b28a-4a38-9b62-b1defb4e3d3c]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f77ee86f-b28a-4a38-9b62-b1defb4e3d3c]: BUSY"}}
[debug] [2021-05-17T10:42:14.549Z] [runtime-status] [16084] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16084] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T10:42:14.550Z] [runtime-status] [16084] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16084] Disabled runtime features: undefined"}}
[debug] [2021-05-17T10:42:14.552Z] [runtime-status] [16084] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16084] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:42:14.553Z] [runtime-status] [16084] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16084] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:42:14.555Z] [runtime-status] [16084] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16084] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:42:14.556Z] [runtime-status] [16084] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16084] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T10:42:14.557Z] [runtime-status] [16084] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16084] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:42:14.600Z] [runtime-status] [16084] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16084] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T10:42:14.601Z] [runtime-status] [16084] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16084] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:42:14.601Z] [runtime-status] [16084] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16084] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:42:14.603Z] [runtime-status] [16084] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16084] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:42:14.603Z] [runtime-status] [16084] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16084] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:42:14.604Z] [runtime-status] [16084] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16084] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:42:14.764Z] [runtime-status] [16084] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16084] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T10:42:14.765Z] [runtime-status] [16084] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16084] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T10:42:14.765Z] [runtime-status] [16084] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16084] Running api in mode HTTPS"}}
[debug] [2021-05-17T10:42:14.768Z] [runtime-status] [16084] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\16084 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16084] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\16084"}}
[debug] [2021-05-17T10:42:14.772Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T10:42:14.772Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=${(getBasketTotal(basket)%20*%20100)}, mapping to path=/payments/create?total=${(getBasketTotal(basket)%20*%20100)} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=${(getBasketTotal(basket)%20*%20100)}, mapping to path=/payments/create?total=${(getBasketTotal(basket)%20*%20100)}"}}
[debug] [2021-05-17T10:42:14.779Z] [runtime-status] [16084] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16084] Ephemeral server handling POST request"}}
[debug] [2021-05-17T10:42:14.782Z] [runtime-status] [16084] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16084] Ephemeral server survived."}}
[info] >  (node:16084) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:16084) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16084) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at F:\clones\amazon-challenge\functions\index.js:20:19 {"user":"    at F:\\clones\\amazon-challenge\\functions\\index.js:20:19","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\index.js:20:19"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (F:\clones\amazon-challenge\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:16084) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:16084) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16084) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:16084) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:16084) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16084) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-05-17T10:42:49.746Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-05-17T10:42:49.747Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-05-17T10:42:49.747Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=${(getBasketTotal(basket)%20*%20100)} --> api
[debug] [2021-05-17T10:42:49.761Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T10:42:49.762Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2021-05-17T10:42:49.763Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T10:42:49.763Z] [worker-api-7182b2ab-5061-49c9-9bfb-5c45bc777ff3]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\10020 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7182b2ab-5061-49c9-9bfb-5c45bc777ff3]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\10020"}}
[debug] [2021-05-17T10:42:49.764Z] [worker-api-7182b2ab-5061-49c9-9bfb-5c45bc777ff3]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7182b2ab-5061-49c9-9bfb-5c45bc777ff3]: BUSY"}}
[debug] [2021-05-17T10:42:50.310Z] [runtime-status] [10020] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10020] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T10:42:50.312Z] [runtime-status] [10020] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10020] Disabled runtime features: undefined"}}
[debug] [2021-05-17T10:42:50.314Z] [runtime-status] [10020] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10020] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:42:50.316Z] [runtime-status] [10020] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10020] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:42:50.318Z] [runtime-status] [10020] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10020] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:42:50.321Z] [runtime-status] [10020] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10020] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T10:42:50.322Z] [runtime-status] [10020] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10020] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:42:50.364Z] [runtime-status] [10020] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10020] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T10:42:50.365Z] [runtime-status] [10020] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10020] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:42:50.365Z] [runtime-status] [10020] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10020] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:42:50.366Z] [runtime-status] [10020] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10020] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:42:50.367Z] [runtime-status] [10020] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10020] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:42:50.367Z] [runtime-status] [10020] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10020] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:42:50.558Z] [runtime-status] [10020] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10020] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T10:42:50.560Z] [runtime-status] [10020] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10020] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T10:42:50.561Z] [runtime-status] [10020] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10020] Running api in mode HTTPS"}}
[debug] [2021-05-17T10:42:50.566Z] [runtime-status] [10020] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\10020 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10020] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\10020"}}
[debug] [2021-05-17T10:42:50.570Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T10:42:50.571Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=${(getBasketTotal(basket)%20*%20100)}, mapping to path=/payments/create?total=${(getBasketTotal(basket)%20*%20100)} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=${(getBasketTotal(basket)%20*%20100)}, mapping to path=/payments/create?total=${(getBasketTotal(basket)%20*%20100)}"}}
[debug] [2021-05-17T10:42:50.579Z] [runtime-status] [10020] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10020] Ephemeral server handling POST request"}}
[debug] [2021-05-17T10:42:50.583Z] [runtime-status] [10020] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10020] Ephemeral server survived."}}
[info] >  (node:10020) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:10020) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:10020) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at F:\clones\amazon-challenge\functions\index.js:20:19 {"user":"    at F:\\clones\\amazon-challenge\\functions\\index.js:20:19","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\index.js:20:19"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (F:\clones\amazon-challenge\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:10020) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:10020) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:10020) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:10020) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:10020) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:10020) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648 {"user":"C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-05-17T10:43:08.340Z] [worker-api-0cb851ed-533d-4d78-b9e4-bc90f047c15b]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0cb851ed-533d-4d78-b9e4-bc90f047c15b]: exited"}}
[debug] [2021-05-17T10:43:08.340Z] [worker-api-0cb851ed-533d-4d78-b9e4-bc90f047c15b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0cb851ed-533d-4d78-b9e4-bc90f047c15b]: FINISHED"}}
[debug] [2021-05-17T10:43:08.341Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648 {"user":"C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-05-17T10:43:14.816Z] [worker-api-f77ee86f-b28a-4a38-9b62-b1defb4e3d3c]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f77ee86f-b28a-4a38-9b62-b1defb4e3d3c]: exited"}}
[debug] [2021-05-17T10:43:14.817Z] [worker-api-f77ee86f-b28a-4a38-9b62-b1defb4e3d3c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f77ee86f-b28a-4a38-9b62-b1defb4e3d3c]: FINISHED"}}
[debug] [2021-05-17T10:43:14.817Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648 {"user":"C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-05-17T10:43:50.587Z] [worker-api-7182b2ab-5061-49c9-9bfb-5c45bc777ff3]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7182b2ab-5061-49c9-9bfb-5c45bc777ff3]: exited"}}
[debug] [2021-05-17T10:43:50.587Z] [worker-api-7182b2ab-5061-49c9-9bfb-5c45bc777ff3]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7182b2ab-5061-49c9-9bfb-5c45bc777ff3]: FINISHED"}}
[debug] [2021-05-17T10:43:50.587Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-17T10:43:52.385Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-17T10:43:52.386Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-17T10:43:52.386Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=$123644 --> api
[debug] [2021-05-17T10:43:52.386Z] [worker-pool] Cleaned up workers for api: 3 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 3 --> 0"}}
[debug] [2021-05-17T10:43:52.396Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T10:43:52.396Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-05-17T10:43:52.396Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T10:43:52.397Z] [worker-api-5f058b98-df85-447f-9551-dd3674a8a310]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\15164 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5f058b98-df85-447f-9551-dd3674a8a310]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\15164"}}
[debug] [2021-05-17T10:43:52.397Z] [worker-api-5f058b98-df85-447f-9551-dd3674a8a310]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5f058b98-df85-447f-9551-dd3674a8a310]: BUSY"}}
[debug] [2021-05-17T10:43:52.729Z] [runtime-status] [15164] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15164] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T10:43:52.731Z] [runtime-status] [15164] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15164] Disabled runtime features: undefined"}}
[debug] [2021-05-17T10:43:52.733Z] [runtime-status] [15164] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15164] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:43:52.734Z] [runtime-status] [15164] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15164] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:43:52.738Z] [runtime-status] [15164] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15164] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:43:52.741Z] [runtime-status] [15164] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15164] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T10:43:52.742Z] [runtime-status] [15164] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15164] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:43:52.793Z] [runtime-status] [15164] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15164] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T10:43:52.794Z] [runtime-status] [15164] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15164] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:43:52.794Z] [runtime-status] [15164] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15164] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:43:52.795Z] [runtime-status] [15164] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15164] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:43:52.796Z] [runtime-status] [15164] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15164] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:43:52.796Z] [runtime-status] [15164] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15164] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:43:53.020Z] [runtime-status] [15164] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15164] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T10:43:53.022Z] [runtime-status] [15164] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15164] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T10:43:53.022Z] [runtime-status] [15164] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15164] Running api in mode HTTPS"}}
[debug] [2021-05-17T10:43:53.027Z] [runtime-status] [15164] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\15164 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15164] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\15164"}}
[debug] [2021-05-17T10:43:53.030Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T10:43:53.030Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=$123644, mapping to path=/payments/create?total=$123644 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=$123644, mapping to path=/payments/create?total=$123644"}}
[debug] [2021-05-17T10:43:53.048Z] [runtime-status] [15164] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15164] Ephemeral server handling POST request"}}
[debug] [2021-05-17T10:43:53.053Z] [runtime-status] [15164] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15164] Ephemeral server survived."}}
[info] >  (node:15164) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:15164) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15164) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at F:\clones\amazon-challenge\functions\index.js:20:19 {"user":"    at F:\\clones\\amazon-challenge\\functions\\index.js:20:19","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\index.js:20:19"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (F:\clones\amazon-challenge\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:15164) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:15164) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15164) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:15164) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15164) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15164) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-05-17T10:44:01.755Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-05-17T10:44:01.755Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-05-17T10:44:01.756Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=$123644 --> api
[debug] [2021-05-17T10:44:01.772Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T10:44:01.772Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-05-17T10:44:01.772Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T10:44:01.773Z] [worker-api-d0ef93f3-5a79-4001-b8d1-ad77275b5321]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\14264 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d0ef93f3-5a79-4001-b8d1-ad77275b5321]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\14264"}}
[debug] [2021-05-17T10:44:01.773Z] [worker-api-d0ef93f3-5a79-4001-b8d1-ad77275b5321]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d0ef93f3-5a79-4001-b8d1-ad77275b5321]: BUSY"}}
[debug] [2021-05-17T10:44:02.245Z] [runtime-status] [14264] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14264] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T10:44:02.246Z] [runtime-status] [14264] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14264] Disabled runtime features: undefined"}}
[debug] [2021-05-17T10:44:02.248Z] [runtime-status] [14264] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14264] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:44:02.250Z] [runtime-status] [14264] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14264] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:44:02.251Z] [runtime-status] [14264] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14264] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:44:02.253Z] [runtime-status] [14264] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14264] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T10:44:02.254Z] [runtime-status] [14264] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14264] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:44:02.305Z] [runtime-status] [14264] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14264] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T10:44:02.305Z] [runtime-status] [14264] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14264] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:44:02.306Z] [runtime-status] [14264] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14264] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:44:02.307Z] [runtime-status] [14264] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14264] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:44:02.307Z] [runtime-status] [14264] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14264] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:44:02.307Z] [runtime-status] [14264] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14264] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:44:02.457Z] [runtime-status] [14264] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14264] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T10:44:02.458Z] [runtime-status] [14264] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14264] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T10:44:02.458Z] [runtime-status] [14264] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14264] Running api in mode HTTPS"}}
[debug] [2021-05-17T10:44:02.461Z] [runtime-status] [14264] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\14264 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14264] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\14264"}}
[debug] [2021-05-17T10:44:02.464Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T10:44:02.464Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=$123644, mapping to path=/payments/create?total=$123644 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=$123644, mapping to path=/payments/create?total=$123644"}}
[debug] [2021-05-17T10:44:02.474Z] [runtime-status] [14264] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14264] Ephemeral server handling POST request"}}
[debug] [2021-05-17T10:44:02.478Z] [runtime-status] [14264] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14264] Ephemeral server survived."}}
[info] >  (node:14264) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:14264) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:14264) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at F:\clones\amazon-challenge\functions\index.js:20:19 {"user":"    at F:\\clones\\amazon-challenge\\functions\\index.js:20:19","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\index.js:20:19"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (F:\clones\amazon-challenge\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:14264) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:14264) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:14264) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:14264) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:14264) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:14264) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648 {"user":"C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-05-17T10:44:53.063Z] [worker-api-5f058b98-df85-447f-9551-dd3674a8a310]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5f058b98-df85-447f-9551-dd3674a8a310]: exited"}}
[debug] [2021-05-17T10:44:53.064Z] [worker-api-5f058b98-df85-447f-9551-dd3674a8a310]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5f058b98-df85-447f-9551-dd3674a8a310]: FINISHED"}}
[debug] [2021-05-17T10:44:53.064Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648 {"user":"C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-05-17T10:45:02.490Z] [worker-api-d0ef93f3-5a79-4001-b8d1-ad77275b5321]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d0ef93f3-5a79-4001-b8d1-ad77275b5321]: exited"}}
[debug] [2021-05-17T10:45:02.491Z] [worker-api-d0ef93f3-5a79-4001-b8d1-ad77275b5321]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d0ef93f3-5a79-4001-b8d1-ad77275b5321]: FINISHED"}}
[debug] [2021-05-17T10:45:02.491Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-17T10:51:46.016Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-17T10:51:46.016Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-17T10:51:46.016Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=$123644 --> api
[debug] [2021-05-17T10:51:46.016Z] [worker-pool] Cleaned up workers for api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 0"}}
[debug] [2021-05-17T10:51:46.021Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T10:51:46.021Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-05-17T10:51:46.022Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T10:51:46.022Z] [worker-api-6f0a7861-8bfd-432a-bee4-ecdad29e04c6]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\12672 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6f0a7861-8bfd-432a-bee4-ecdad29e04c6]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\12672"}}
[debug] [2021-05-17T10:51:46.022Z] [worker-api-6f0a7861-8bfd-432a-bee4-ecdad29e04c6]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6f0a7861-8bfd-432a-bee4-ecdad29e04c6]: BUSY"}}
[debug] [2021-05-17T10:51:46.259Z] [runtime-status] [12672] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12672] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T10:51:46.260Z] [runtime-status] [12672] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12672] Disabled runtime features: undefined"}}
[debug] [2021-05-17T10:51:46.263Z] [runtime-status] [12672] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12672] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:51:46.265Z] [runtime-status] [12672] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12672] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:51:46.266Z] [runtime-status] [12672] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12672] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:51:46.268Z] [runtime-status] [12672] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12672] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T10:51:46.269Z] [runtime-status] [12672] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12672] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:51:46.336Z] [runtime-status] [12672] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12672] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T10:51:46.337Z] [runtime-status] [12672] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12672] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:51:46.337Z] [runtime-status] [12672] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12672] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:51:46.337Z] [runtime-status] [12672] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12672] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:51:46.337Z] [runtime-status] [12672] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12672] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:51:46.337Z] [runtime-status] [12672] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12672] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:51:46.532Z] [runtime-status] [12672] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12672] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T10:51:46.533Z] [runtime-status] [12672] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12672] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T10:51:46.533Z] [runtime-status] [12672] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12672] Running api in mode HTTPS"}}
[debug] [2021-05-17T10:51:46.538Z] [runtime-status] [12672] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\12672 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12672] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\12672"}}
[debug] [2021-05-17T10:51:46.542Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T10:51:46.542Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=$123644, mapping to path=/payments/create?total=$123644 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=$123644, mapping to path=/payments/create?total=$123644"}}
[debug] [2021-05-17T10:51:46.551Z] [runtime-status] [12672] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12672] Ephemeral server handling POST request"}}
[debug] [2021-05-17T10:51:46.555Z] [runtime-status] [12672] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12672] Ephemeral server survived."}}
[info] >  (node:12672) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:12672) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:12672) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at F:\clones\amazon-challenge\functions\index.js:20:19 {"user":"    at F:\\clones\\amazon-challenge\\functions\\index.js:20:19","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\index.js:20:19"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (F:\clones\amazon-challenge\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:12672) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:12672) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:12672) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:12672) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:12672) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:12672) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-05-17T10:51:58.042Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-05-17T10:51:58.043Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-05-17T10:51:58.044Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=$0 --> api
[debug] [2021-05-17T10:51:58.053Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T10:51:58.054Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-05-17T10:51:58.054Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T10:51:58.055Z] [worker-api-2d35bd16-5744-462f-be31-34aa8e0c8ae8]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\16140 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2d35bd16-5744-462f-be31-34aa8e0c8ae8]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\16140"}}
[debug] [2021-05-17T10:51:58.055Z] [worker-api-2d35bd16-5744-462f-be31-34aa8e0c8ae8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2d35bd16-5744-462f-be31-34aa8e0c8ae8]: BUSY"}}
[debug] [2021-05-17T10:51:58.396Z] [runtime-status] [16140] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16140] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T10:51:58.397Z] [runtime-status] [16140] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16140] Disabled runtime features: undefined"}}
[debug] [2021-05-17T10:51:58.400Z] [runtime-status] [16140] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16140] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:51:58.402Z] [runtime-status] [16140] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16140] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:51:58.405Z] [runtime-status] [16140] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16140] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:51:58.406Z] [runtime-status] [16140] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16140] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T10:51:58.407Z] [runtime-status] [16140] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16140] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:51:58.454Z] [runtime-status] [16140] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16140] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T10:51:58.454Z] [runtime-status] [16140] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16140] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:51:58.455Z] [runtime-status] [16140] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16140] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:51:58.456Z] [runtime-status] [16140] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16140] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:51:58.456Z] [runtime-status] [16140] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16140] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:51:58.457Z] [runtime-status] [16140] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16140] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:51:58.652Z] [runtime-status] [16140] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16140] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T10:51:58.654Z] [runtime-status] [16140] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16140] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T10:51:58.655Z] [runtime-status] [16140] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16140] Running api in mode HTTPS"}}
[debug] [2021-05-17T10:51:58.661Z] [runtime-status] [16140] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\16140 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16140] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\16140"}}
[debug] [2021-05-17T10:51:58.667Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T10:51:58.668Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=$0, mapping to path=/payments/create?total=$0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=$0, mapping to path=/payments/create?total=$0"}}
[debug] [2021-05-17T10:51:58.692Z] [runtime-status] [16140] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16140] Ephemeral server handling POST request"}}
[debug] [2021-05-17T10:51:58.697Z] [runtime-status] [16140] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16140] Ephemeral server survived."}}
[info] >  (node:16140) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:16140) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16140) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at F:\clones\amazon-challenge\functions\index.js:20:19 {"user":"    at F:\\clones\\amazon-challenge\\functions\\index.js:20:19","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\index.js:20:19"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (F:\clones\amazon-challenge\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:16140) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:16140) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16140) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:16140) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:16140) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16140) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-05-17T10:52:19.761Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-05-17T10:52:19.761Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-05-17T10:52:19.762Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=$123644 --> api
[debug] [2021-05-17T10:52:19.779Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T10:52:19.779Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2021-05-17T10:52:19.780Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T10:52:19.780Z] [worker-api-f9edaf76-bedb-4861-8b98-e30dfb7ff306]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\13856 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f9edaf76-bedb-4861-8b98-e30dfb7ff306]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\13856"}}
[debug] [2021-05-17T10:52:19.781Z] [worker-api-f9edaf76-bedb-4861-8b98-e30dfb7ff306]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f9edaf76-bedb-4861-8b98-e30dfb7ff306]: BUSY"}}
[debug] [2021-05-17T10:52:20.230Z] [runtime-status] [13856] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13856] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T10:52:20.232Z] [runtime-status] [13856] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13856] Disabled runtime features: undefined"}}
[debug] [2021-05-17T10:52:20.234Z] [runtime-status] [13856] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13856] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:52:20.235Z] [runtime-status] [13856] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13856] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:52:20.237Z] [runtime-status] [13856] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13856] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:52:20.238Z] [runtime-status] [13856] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13856] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T10:52:20.239Z] [runtime-status] [13856] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13856] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:52:20.284Z] [runtime-status] [13856] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13856] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T10:52:20.284Z] [runtime-status] [13856] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13856] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:52:20.285Z] [runtime-status] [13856] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13856] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:52:20.286Z] [runtime-status] [13856] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13856] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:52:20.286Z] [runtime-status] [13856] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13856] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:52:20.287Z] [runtime-status] [13856] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13856] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:52:20.436Z] [runtime-status] [13856] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13856] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T10:52:20.437Z] [runtime-status] [13856] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13856] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T10:52:20.437Z] [runtime-status] [13856] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13856] Running api in mode HTTPS"}}
[debug] [2021-05-17T10:52:20.443Z] [runtime-status] [13856] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\13856 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13856] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\13856"}}
[debug] [2021-05-17T10:52:20.445Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T10:52:20.445Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=$123644, mapping to path=/payments/create?total=$123644 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=$123644, mapping to path=/payments/create?total=$123644"}}
[debug] [2021-05-17T10:52:20.456Z] [runtime-status] [13856] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13856] Ephemeral server handling POST request"}}
[debug] [2021-05-17T10:52:20.460Z] [runtime-status] [13856] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13856] Ephemeral server survived."}}
[info] >  (node:13856) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:13856) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:13856) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at F:\clones\amazon-challenge\functions\index.js:20:19 {"user":"    at F:\\clones\\amazon-challenge\\functions\\index.js:20:19","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\index.js:20:19"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (F:\clones\amazon-challenge\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:13856) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:13856) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:13856) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:13856) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:13856) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:13856) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648 {"user":"C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-05-17T10:52:46.571Z] [worker-api-6f0a7861-8bfd-432a-bee4-ecdad29e04c6]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6f0a7861-8bfd-432a-bee4-ecdad29e04c6]: exited"}}
[debug] [2021-05-17T10:52:46.572Z] [worker-api-6f0a7861-8bfd-432a-bee4-ecdad29e04c6]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6f0a7861-8bfd-432a-bee4-ecdad29e04c6]: FINISHED"}}
[debug] [2021-05-17T10:52:46.572Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648 {"user":"C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-05-17T10:52:58.705Z] [worker-api-2d35bd16-5744-462f-be31-34aa8e0c8ae8]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2d35bd16-5744-462f-be31-34aa8e0c8ae8]: exited"}}
[debug] [2021-05-17T10:52:58.705Z] [worker-api-2d35bd16-5744-462f-be31-34aa8e0c8ae8]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2d35bd16-5744-462f-be31-34aa8e0c8ae8]: FINISHED"}}
[debug] [2021-05-17T10:52:58.706Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648 {"user":"C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-05-17T10:53:20.478Z] [worker-api-f9edaf76-bedb-4861-8b98-e30dfb7ff306]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f9edaf76-bedb-4861-8b98-e30dfb7ff306]: exited"}}
[debug] [2021-05-17T10:53:20.478Z] [worker-api-f9edaf76-bedb-4861-8b98-e30dfb7ff306]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f9edaf76-bedb-4861-8b98-e30dfb7ff306]: FINISHED"}}
[debug] [2021-05-17T10:53:20.479Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-17T10:54:08.079Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-17T10:54:08.079Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-17T10:54:08.079Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=${(getBasketTotal(basket)%20*%20100)} --> api
[debug] [2021-05-17T10:54:08.079Z] [worker-pool] Cleaned up workers for api: 3 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 3 --> 0"}}
[debug] [2021-05-17T10:54:08.085Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T10:54:08.085Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-05-17T10:54:08.086Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T10:54:08.086Z] [worker-api-66449dd6-de4e-4bdf-a6b0-615fa5443b20]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\16064 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-66449dd6-de4e-4bdf-a6b0-615fa5443b20]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\16064"}}
[debug] [2021-05-17T10:54:08.086Z] [worker-api-66449dd6-de4e-4bdf-a6b0-615fa5443b20]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-66449dd6-de4e-4bdf-a6b0-615fa5443b20]: BUSY"}}
[debug] [2021-05-17T10:54:08.379Z] [runtime-status] [16064] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16064] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T10:54:08.380Z] [runtime-status] [16064] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16064] Disabled runtime features: undefined"}}
[debug] [2021-05-17T10:54:08.383Z] [runtime-status] [16064] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16064] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:54:08.384Z] [runtime-status] [16064] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16064] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:54:08.385Z] [runtime-status] [16064] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16064] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:54:08.387Z] [runtime-status] [16064] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16064] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T10:54:08.388Z] [runtime-status] [16064] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16064] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:54:08.435Z] [runtime-status] [16064] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16064] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T10:54:08.435Z] [runtime-status] [16064] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16064] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:54:08.435Z] [runtime-status] [16064] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16064] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:54:08.436Z] [runtime-status] [16064] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16064] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:54:08.437Z] [runtime-status] [16064] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16064] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:54:08.437Z] [runtime-status] [16064] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16064] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:54:08.598Z] [runtime-status] [16064] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16064] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T10:54:08.599Z] [runtime-status] [16064] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16064] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T10:54:08.599Z] [runtime-status] [16064] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16064] Running api in mode HTTPS"}}
[debug] [2021-05-17T10:54:08.602Z] [runtime-status] [16064] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\16064 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16064] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\16064"}}
[debug] [2021-05-17T10:54:08.605Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T10:54:08.605Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=${(getBasketTotal(basket)%20*%20100)}, mapping to path=/payments/create?total=${(getBasketTotal(basket)%20*%20100)} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=${(getBasketTotal(basket)%20*%20100)}, mapping to path=/payments/create?total=${(getBasketTotal(basket)%20*%20100)}"}}
[debug] [2021-05-17T10:54:08.613Z] [runtime-status] [16064] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16064] Ephemeral server handling POST request"}}
[debug] [2021-05-17T10:54:08.616Z] [runtime-status] [16064] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16064] Ephemeral server survived."}}
[info] >  (node:16064) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:16064) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16064) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at F:\clones\amazon-challenge\functions\index.js:20:19 {"user":"    at F:\\clones\\amazon-challenge\\functions\\index.js:20:19","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\index.js:20:19"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (F:\clones\amazon-challenge\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:16064) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:16064) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16064) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:16064) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:16064) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16064) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-05-17T10:55:06.091Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-05-17T10:55:06.091Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-05-17T10:55:06.091Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=${(getBasketTotal(basket)%20*%20100)} --> api
[debug] [2021-05-17T10:55:06.097Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T10:55:06.097Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-05-17T10:55:06.097Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T10:55:06.098Z] [worker-api-ff32fbef-4d15-4e80-b43c-326e632ab496]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\14896 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ff32fbef-4d15-4e80-b43c-326e632ab496]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\14896"}}
[debug] [2021-05-17T10:55:06.098Z] [worker-api-ff32fbef-4d15-4e80-b43c-326e632ab496]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ff32fbef-4d15-4e80-b43c-326e632ab496]: BUSY"}}
[debug] [2021-05-17T10:55:06.483Z] [runtime-status] [14896] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14896] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T10:55:06.485Z] [runtime-status] [14896] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14896] Disabled runtime features: undefined"}}
[debug] [2021-05-17T10:55:06.488Z] [runtime-status] [14896] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14896] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:55:06.490Z] [runtime-status] [14896] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14896] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:55:06.494Z] [runtime-status] [14896] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14896] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:55:06.496Z] [runtime-status] [14896] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14896] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T10:55:06.497Z] [runtime-status] [14896] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14896] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:55:06.569Z] [runtime-status] [14896] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14896] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T10:55:06.569Z] [runtime-status] [14896] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14896] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:55:06.570Z] [runtime-status] [14896] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14896] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:55:06.572Z] [runtime-status] [14896] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14896] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:55:06.573Z] [runtime-status] [14896] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14896] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:55:06.576Z] [runtime-status] [14896] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14896] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:55:06.853Z] [runtime-status] [14896] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14896] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T10:55:06.854Z] [runtime-status] [14896] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14896] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T10:55:06.855Z] [runtime-status] [14896] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14896] Running api in mode HTTPS"}}
[debug] [2021-05-17T10:55:06.861Z] [runtime-status] [14896] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\14896 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14896] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\14896"}}
[debug] [2021-05-17T10:55:06.865Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T10:55:06.865Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=${(getBasketTotal(basket)%20*%20100)}, mapping to path=/payments/create?total=${(getBasketTotal(basket)%20*%20100)} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=${(getBasketTotal(basket)%20*%20100)}, mapping to path=/payments/create?total=${(getBasketTotal(basket)%20*%20100)}"}}
[debug] [2021-05-17T10:55:06.878Z] [runtime-status] [14896] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14896] Ephemeral server handling POST request"}}
[debug] [2021-05-17T10:55:06.882Z] [runtime-status] [14896] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14896] Ephemeral server survived."}}
[info] >  (node:14896) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:14896) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:14896) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at F:\clones\amazon-challenge\functions\index.js:20:19 {"user":"    at F:\\clones\\amazon-challenge\\functions\\index.js:20:19","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\index.js:20:19"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (F:\clones\amazon-challenge\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:14896) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:14896) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:14896) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:14896) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:14896) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:14896) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648 {"user":"C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-05-17T10:55:08.648Z] [worker-api-66449dd6-de4e-4bdf-a6b0-615fa5443b20]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-66449dd6-de4e-4bdf-a6b0-615fa5443b20]: exited"}}
[debug] [2021-05-17T10:55:08.648Z] [worker-api-66449dd6-de4e-4bdf-a6b0-615fa5443b20]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-66449dd6-de4e-4bdf-a6b0-615fa5443b20]: FINISHED"}}
[debug] [2021-05-17T10:55:08.649Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-17T10:55:10.544Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-05-17T10:55:10.545Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-05-17T10:55:10.545Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=${(getBasketTotal(basket)%20*%20100)} --> api
[debug] [2021-05-17T10:55:10.545Z] [worker-pool] Cleaned up workers for api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 1"}}
[debug] [2021-05-17T10:55:10.553Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T10:55:10.553Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-05-17T10:55:10.553Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T10:55:10.553Z] [worker-api-debe2c1d-4d79-4b31-8c33-732e519e8a22]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\13492 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-debe2c1d-4d79-4b31-8c33-732e519e8a22]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\13492"}}
[debug] [2021-05-17T10:55:10.553Z] [worker-api-debe2c1d-4d79-4b31-8c33-732e519e8a22]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-debe2c1d-4d79-4b31-8c33-732e519e8a22]: BUSY"}}
[debug] [2021-05-17T10:55:10.873Z] [runtime-status] [13492] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13492] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T10:55:10.876Z] [runtime-status] [13492] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13492] Disabled runtime features: undefined"}}
[debug] [2021-05-17T10:55:10.881Z] [runtime-status] [13492] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13492] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:55:10.884Z] [runtime-status] [13492] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13492] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:55:10.886Z] [runtime-status] [13492] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13492] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:55:10.889Z] [runtime-status] [13492] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13492] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T10:55:10.891Z] [runtime-status] [13492] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13492] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:55:10.966Z] [runtime-status] [13492] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13492] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T10:55:10.966Z] [runtime-status] [13492] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13492] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:55:10.967Z] [runtime-status] [13492] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13492] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:55:10.969Z] [runtime-status] [13492] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13492] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:55:10.969Z] [runtime-status] [13492] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13492] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:55:10.969Z] [runtime-status] [13492] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13492] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:55:11.159Z] [runtime-status] [13492] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13492] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T10:55:11.161Z] [runtime-status] [13492] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13492] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T10:55:11.161Z] [runtime-status] [13492] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13492] Running api in mode HTTPS"}}
[debug] [2021-05-17T10:55:11.167Z] [runtime-status] [13492] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\13492 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13492] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\13492"}}
[debug] [2021-05-17T10:55:11.170Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T10:55:11.171Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=${(getBasketTotal(basket)%20*%20100)}, mapping to path=/payments/create?total=${(getBasketTotal(basket)%20*%20100)} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=${(getBasketTotal(basket)%20*%20100)}, mapping to path=/payments/create?total=${(getBasketTotal(basket)%20*%20100)}"}}
[debug] [2021-05-17T10:55:11.180Z] [runtime-status] [13492] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13492] Ephemeral server handling POST request"}}
[debug] [2021-05-17T10:55:11.183Z] [runtime-status] [13492] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13492] Ephemeral server survived."}}
[info] >  (node:13492) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:13492) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:13492) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at F:\clones\amazon-challenge\functions\index.js:20:19 {"user":"    at F:\\clones\\amazon-challenge\\functions\\index.js:20:19","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\index.js:20:19"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (F:\clones\amazon-challenge\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:13492) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:13492) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:13492) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:13492) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:13492) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:13492) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-05-17T10:55:21.693Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-05-17T10:55:21.693Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-05-17T10:55:21.693Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=${(getBasketTotal(basket)%20*%20100)} --> api
[debug] [2021-05-17T10:55:21.704Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T10:55:21.705Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2021-05-17T10:55:21.705Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T10:55:21.705Z] [worker-api-9fe5bad5-f557-4e6e-b965-ddc5db047c09]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\12992 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9fe5bad5-f557-4e6e-b965-ddc5db047c09]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\12992"}}
[debug] [2021-05-17T10:55:21.706Z] [worker-api-9fe5bad5-f557-4e6e-b965-ddc5db047c09]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9fe5bad5-f557-4e6e-b965-ddc5db047c09]: BUSY"}}
[debug] [2021-05-17T10:55:22.093Z] [runtime-status] [12992] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12992] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T10:55:22.094Z] [runtime-status] [12992] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12992] Disabled runtime features: undefined"}}
[debug] [2021-05-17T10:55:22.096Z] [runtime-status] [12992] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12992] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:55:22.098Z] [runtime-status] [12992] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12992] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:55:22.099Z] [runtime-status] [12992] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12992] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:55:22.101Z] [runtime-status] [12992] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12992] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T10:55:22.101Z] [runtime-status] [12992] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12992] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:55:22.144Z] [runtime-status] [12992] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12992] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T10:55:22.145Z] [runtime-status] [12992] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12992] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:55:22.145Z] [runtime-status] [12992] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12992] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:55:22.146Z] [runtime-status] [12992] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12992] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:55:22.147Z] [runtime-status] [12992] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12992] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:55:22.147Z] [runtime-status] [12992] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12992] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:55:22.298Z] [runtime-status] [12992] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12992] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T10:55:22.301Z] [runtime-status] [12992] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12992] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T10:55:22.302Z] [runtime-status] [12992] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12992] Running api in mode HTTPS"}}
[debug] [2021-05-17T10:55:22.310Z] [runtime-status] [12992] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\12992 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12992] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\12992"}}
[debug] [2021-05-17T10:55:22.317Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T10:55:22.318Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=${(getBasketTotal(basket)%20*%20100)}, mapping to path=/payments/create?total=${(getBasketTotal(basket)%20*%20100)} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=${(getBasketTotal(basket)%20*%20100)}, mapping to path=/payments/create?total=${(getBasketTotal(basket)%20*%20100)}"}}
[debug] [2021-05-17T10:55:22.337Z] [runtime-status] [12992] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12992] Ephemeral server handling POST request"}}
[debug] [2021-05-17T10:55:22.346Z] [runtime-status] [12992] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12992] Ephemeral server survived."}}
[info] >  (node:12992) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:12992) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:12992) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at F:\clones\amazon-challenge\functions\index.js:20:19 {"user":"    at F:\\clones\\amazon-challenge\\functions\\index.js:20:19","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\index.js:20:19"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (F:\clones\amazon-challenge\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:12992) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:12992) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:12992) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:12992) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:12992) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:12992) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-05-17T10:56:02.966Z] [work-queue] {"queueLength":1,"workRunningCount":3}
[debug] [2021-05-17T10:56:02.966Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2021-05-17T10:56:02.966Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=$20845 --> api
[debug] [2021-05-17T10:56:02.971Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T10:56:02.972Z] [worker-pool] Adding worker with key api, total=4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=4"}}
[debug] [2021-05-17T10:56:02.972Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T10:56:02.972Z] [worker-api-2e521d61-6816-4f72-9703-ffccdd6fdcfa]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\7076 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2e521d61-6816-4f72-9703-ffccdd6fdcfa]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\7076"}}
[debug] [2021-05-17T10:56:02.972Z] [worker-api-2e521d61-6816-4f72-9703-ffccdd6fdcfa]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2e521d61-6816-4f72-9703-ffccdd6fdcfa]: BUSY"}}
[debug] [2021-05-17T10:56:03.360Z] [runtime-status] [7076] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7076] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T10:56:03.364Z] [runtime-status] [7076] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7076] Disabled runtime features: undefined"}}
[debug] [2021-05-17T10:56:03.367Z] [runtime-status] [7076] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7076] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:56:03.368Z] [runtime-status] [7076] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7076] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:56:03.370Z] [runtime-status] [7076] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7076] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:56:03.372Z] [runtime-status] [7076] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7076] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T10:56:03.372Z] [runtime-status] [7076] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7076] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:56:03.431Z] [runtime-status] [7076] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7076] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T10:56:03.431Z] [runtime-status] [7076] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7076] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:56:03.432Z] [runtime-status] [7076] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7076] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:56:03.433Z] [runtime-status] [7076] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7076] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:56:03.434Z] [runtime-status] [7076] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7076] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:56:03.434Z] [runtime-status] [7076] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7076] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:56:03.629Z] [runtime-status] [7076] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7076] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T10:56:03.630Z] [runtime-status] [7076] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7076] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T10:56:03.630Z] [runtime-status] [7076] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7076] Running api in mode HTTPS"}}
[debug] [2021-05-17T10:56:03.636Z] [runtime-status] [7076] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\7076 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7076] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\7076"}}
[debug] [2021-05-17T10:56:03.639Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T10:56:03.640Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=$20845, mapping to path=/payments/create?total=$20845 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=$20845, mapping to path=/payments/create?total=$20845"}}
[debug] [2021-05-17T10:56:03.649Z] [runtime-status] [7076] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7076] Ephemeral server handling POST request"}}
[debug] [2021-05-17T10:56:03.653Z] [runtime-status] [7076] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7076] Ephemeral server survived."}}
[info] >  (node:7076) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:7076) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7076) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at F:\clones\amazon-challenge\functions\index.js:20:19 {"user":"    at F:\\clones\\amazon-challenge\\functions\\index.js:20:19","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\index.js:20:19"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (F:\clones\amazon-challenge\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:7076) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:7076) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7076) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:7076) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:7076) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7076) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-05-17T10:56:05.250Z] [work-queue] {"queueLength":1,"workRunningCount":4}
[debug] [2021-05-17T10:56:05.250Z] [work-queue] {"queueLength":0,"workRunningCount":5}
[debug] [2021-05-17T10:56:05.250Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=$0 --> api
[debug] [2021-05-17T10:56:05.260Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T10:56:05.261Z] [worker-pool] Adding worker with key api, total=5 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=5"}}
[debug] [2021-05-17T10:56:05.261Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T10:56:05.262Z] [worker-api-a3887fa8-e536-47ba-8575-df432e5e62a4]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\11044 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a3887fa8-e536-47ba-8575-df432e5e62a4]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\11044"}}
[debug] [2021-05-17T10:56:05.262Z] [worker-api-a3887fa8-e536-47ba-8575-df432e5e62a4]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a3887fa8-e536-47ba-8575-df432e5e62a4]: BUSY"}}
[debug] [2021-05-17T10:56:05.687Z] [runtime-status] [11044] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11044] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T10:56:05.688Z] [runtime-status] [11044] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11044] Disabled runtime features: undefined"}}
[debug] [2021-05-17T10:56:05.690Z] [runtime-status] [11044] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11044] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:56:05.692Z] [runtime-status] [11044] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11044] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:56:05.696Z] [runtime-status] [11044] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11044] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:56:05.698Z] [runtime-status] [11044] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11044] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T10:56:05.698Z] [runtime-status] [11044] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11044] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:56:05.753Z] [runtime-status] [11044] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11044] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T10:56:05.753Z] [runtime-status] [11044] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11044] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:56:05.754Z] [runtime-status] [11044] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11044] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:56:05.755Z] [runtime-status] [11044] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11044] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:56:05.755Z] [runtime-status] [11044] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11044] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:56:05.755Z] [runtime-status] [11044] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11044] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:56:05.978Z] [runtime-status] [11044] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11044] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T10:56:05.981Z] [runtime-status] [11044] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11044] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T10:56:05.982Z] [runtime-status] [11044] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11044] Running api in mode HTTPS"}}
[debug] [2021-05-17T10:56:05.986Z] [runtime-status] [11044] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\11044 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11044] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\11044"}}
[debug] [2021-05-17T10:56:05.989Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T10:56:05.990Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=$0, mapping to path=/payments/create?total=$0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=$0, mapping to path=/payments/create?total=$0"}}
[debug] [2021-05-17T10:56:06.004Z] [runtime-status] [11044] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11044] Ephemeral server handling POST request"}}
[debug] [2021-05-17T10:56:06.007Z] [runtime-status] [11044] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11044] Ephemeral server survived."}}
[info] >  (node:11044) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:11044) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:11044) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at F:\clones\amazon-challenge\functions\index.js:20:19 {"user":"    at F:\\clones\\amazon-challenge\\functions\\index.js:20:19","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\index.js:20:19"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (F:\clones\amazon-challenge\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:11044) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:11044) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:11044) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:11044) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:11044) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:11044) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648 {"user":"C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-05-17T10:56:06.923Z] [worker-api-ff32fbef-4d15-4e80-b43c-326e632ab496]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ff32fbef-4d15-4e80-b43c-326e632ab496]: exited"}}
[debug] [2021-05-17T10:56:06.924Z] [worker-api-ff32fbef-4d15-4e80-b43c-326e632ab496]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ff32fbef-4d15-4e80-b43c-326e632ab496]: FINISHED"}}
[debug] [2021-05-17T10:56:06.924Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2021-05-17T10:56:10.631Z] [work-queue] {"queueLength":1,"workRunningCount":4}
[debug] [2021-05-17T10:56:10.631Z] [work-queue] {"queueLength":0,"workRunningCount":5}
[debug] [2021-05-17T10:56:10.631Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=$0 --> api
[debug] [2021-05-17T10:56:10.631Z] [worker-pool] Cleaned up workers for api: 5 --> 4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 5 --> 4"}}
[debug] [2021-05-17T10:56:10.640Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T10:56:10.640Z] [worker-pool] Adding worker with key api, total=5 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=5"}}
[debug] [2021-05-17T10:56:10.640Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T10:56:10.640Z] [worker-api-d6f2885d-f522-4b84-bae8-66b46917504e]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\2616 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d6f2885d-f522-4b84-bae8-66b46917504e]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\2616"}}
[debug] [2021-05-17T10:56:10.641Z] [worker-api-d6f2885d-f522-4b84-bae8-66b46917504e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d6f2885d-f522-4b84-bae8-66b46917504e]: BUSY"}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648 {"user":"C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-05-17T10:56:11.184Z] [worker-api-debe2c1d-4d79-4b31-8c33-732e519e8a22]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-debe2c1d-4d79-4b31-8c33-732e519e8a22]: exited"}}
[debug] [2021-05-17T10:56:11.184Z] [worker-api-debe2c1d-4d79-4b31-8c33-732e519e8a22]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-debe2c1d-4d79-4b31-8c33-732e519e8a22]: FINISHED"}}
[debug] [2021-05-17T10:56:11.184Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2021-05-17T10:56:11.456Z] [runtime-status] [2616] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2616] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T10:56:11.458Z] [runtime-status] [2616] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2616] Disabled runtime features: undefined"}}
[debug] [2021-05-17T10:56:11.462Z] [runtime-status] [2616] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2616] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:56:11.464Z] [runtime-status] [2616] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2616] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:56:11.466Z] [runtime-status] [2616] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2616] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:56:11.468Z] [runtime-status] [2616] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2616] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T10:56:11.469Z] [runtime-status] [2616] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2616] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:56:11.522Z] [runtime-status] [2616] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2616] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T10:56:11.522Z] [runtime-status] [2616] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2616] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:56:11.523Z] [runtime-status] [2616] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2616] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:56:11.524Z] [runtime-status] [2616] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2616] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:56:11.524Z] [runtime-status] [2616] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2616] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:56:11.524Z] [runtime-status] [2616] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2616] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:56:11.742Z] [runtime-status] [2616] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2616] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T10:56:11.744Z] [runtime-status] [2616] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2616] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T10:56:11.744Z] [runtime-status] [2616] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2616] Running api in mode HTTPS"}}
[debug] [2021-05-17T10:56:11.747Z] [runtime-status] [2616] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\2616 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2616] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\2616"}}
[debug] [2021-05-17T10:56:11.750Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T10:56:11.750Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=$0, mapping to path=/payments/create?total=$0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=$0, mapping to path=/payments/create?total=$0"}}
[debug] [2021-05-17T10:56:11.758Z] [runtime-status] [2616] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2616] Ephemeral server handling POST request"}}
[debug] [2021-05-17T10:56:11.763Z] [runtime-status] [2616] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2616] Ephemeral server survived."}}
[info] >  (node:2616) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:2616) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2616) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at F:\clones\amazon-challenge\functions\index.js:20:19 {"user":"    at F:\\clones\\amazon-challenge\\functions\\index.js:20:19","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\index.js:20:19"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (F:\clones\amazon-challenge\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:2616) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:2616) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2616) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:2616) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2616) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2616) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648 {"user":"C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-05-17T10:56:22.332Z] [worker-api-9fe5bad5-f557-4e6e-b965-ddc5db047c09]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9fe5bad5-f557-4e6e-b965-ddc5db047c09]: exited"}}
[debug] [2021-05-17T10:56:22.332Z] [worker-api-9fe5bad5-f557-4e6e-b965-ddc5db047c09]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9fe5bad5-f557-4e6e-b965-ddc5db047c09]: FINISHED"}}
[debug] [2021-05-17T10:56:22.332Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-05-17T10:56:40.484Z] [work-queue] {"queueLength":1,"workRunningCount":3}
[debug] [2021-05-17T10:56:40.484Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2021-05-17T10:56:40.485Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=$164867.99999999997 --> api
[debug] [2021-05-17T10:56:40.485Z] [worker-pool] Cleaned up workers for api: 5 --> 3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 5 --> 3"}}
[debug] [2021-05-17T10:56:40.501Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T10:56:40.501Z] [worker-pool] Adding worker with key api, total=4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=4"}}
[debug] [2021-05-17T10:56:40.502Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T10:56:40.502Z] [worker-api-c85e6417-fe72-4bb5-84e9-144514755813]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\4448 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c85e6417-fe72-4bb5-84e9-144514755813]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\4448"}}
[debug] [2021-05-17T10:56:40.503Z] [worker-api-c85e6417-fe72-4bb5-84e9-144514755813]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c85e6417-fe72-4bb5-84e9-144514755813]: BUSY"}}
[debug] [2021-05-17T10:56:41.032Z] [runtime-status] [4448] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4448] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T10:56:41.034Z] [runtime-status] [4448] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4448] Disabled runtime features: undefined"}}
[debug] [2021-05-17T10:56:41.037Z] [runtime-status] [4448] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4448] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:56:41.038Z] [runtime-status] [4448] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4448] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:56:41.040Z] [runtime-status] [4448] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4448] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:56:41.042Z] [runtime-status] [4448] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4448] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T10:56:41.042Z] [runtime-status] [4448] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4448] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:56:41.089Z] [runtime-status] [4448] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4448] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T10:56:41.089Z] [runtime-status] [4448] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4448] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:56:41.090Z] [runtime-status] [4448] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4448] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:56:41.091Z] [runtime-status] [4448] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4448] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:56:41.091Z] [runtime-status] [4448] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4448] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T10:56:41.092Z] [runtime-status] [4448] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4448] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T10:56:41.393Z] [runtime-status] [4448] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4448] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T10:56:41.394Z] [runtime-status] [4448] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4448] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T10:56:41.394Z] [runtime-status] [4448] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4448] Running api in mode HTTPS"}}
[debug] [2021-05-17T10:56:41.398Z] [runtime-status] [4448] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\4448 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4448] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\4448"}}
[debug] [2021-05-17T10:56:41.402Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T10:56:41.403Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=$164867.99999999997, mapping to path=/payments/create?total=$164867.99999999997 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=$164867.99999999997, mapping to path=/payments/create?total=$164867.99999999997"}}
[debug] [2021-05-17T10:56:41.411Z] [runtime-status] [4448] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4448] Ephemeral server handling POST request"}}
[debug] [2021-05-17T10:56:41.414Z] [runtime-status] [4448] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4448] Ephemeral server survived."}}
[info] >  (node:4448) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:4448) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:4448) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at F:\clones\amazon-challenge\functions\index.js:20:19 {"user":"    at F:\\clones\\amazon-challenge\\functions\\index.js:20:19","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\index.js:20:19"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (F:\clones\amazon-challenge\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:4448) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:4448) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:4448) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:4448) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:4448) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:4448) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648 {"user":"C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-05-17T10:57:03.682Z] [worker-api-2e521d61-6816-4f72-9703-ffccdd6fdcfa]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2e521d61-6816-4f72-9703-ffccdd6fdcfa]: exited"}}
[debug] [2021-05-17T10:57:03.682Z] [worker-api-2e521d61-6816-4f72-9703-ffccdd6fdcfa]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2e521d61-6816-4f72-9703-ffccdd6fdcfa]: FINISHED"}}
[debug] [2021-05-17T10:57:03.682Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648 {"user":"C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-05-17T10:57:06.027Z] [worker-api-a3887fa8-e536-47ba-8575-df432e5e62a4]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a3887fa8-e536-47ba-8575-df432e5e62a4]: exited"}}
[debug] [2021-05-17T10:57:06.028Z] [worker-api-a3887fa8-e536-47ba-8575-df432e5e62a4]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a3887fa8-e536-47ba-8575-df432e5e62a4]: FINISHED"}}
[debug] [2021-05-17T10:57:06.028Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648 {"user":"C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-05-17T10:57:11.784Z] [worker-api-d6f2885d-f522-4b84-bae8-66b46917504e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d6f2885d-f522-4b84-bae8-66b46917504e]: exited"}}
[debug] [2021-05-17T10:57:11.785Z] [worker-api-d6f2885d-f522-4b84-bae8-66b46917504e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d6f2885d-f522-4b84-bae8-66b46917504e]: FINISHED"}}
[debug] [2021-05-17T10:57:11.785Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648 {"user":"C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-05-17T10:57:41.450Z] [worker-api-c85e6417-fe72-4bb5-84e9-144514755813]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c85e6417-fe72-4bb5-84e9-144514755813]: exited"}}
[debug] [2021-05-17T10:57:41.450Z] [worker-api-c85e6417-fe72-4bb5-84e9-144514755813]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c85e6417-fe72-4bb5-84e9-144514755813]: FINISHED"}}
[debug] [2021-05-17T10:57:41.451Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-17T11:01:49.069Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-17T11:01:49.074Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-17T11:01:49.074Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=${(getBasketTotal(basket)%20*%20100)} --> api
[debug] [2021-05-17T11:01:49.075Z] [worker-pool] Cleaned up workers for api: 4 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 4 --> 0"}}
[debug] [2021-05-17T11:01:49.091Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T11:01:49.092Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-05-17T11:01:49.092Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T11:01:49.092Z] [worker-api-1b74ec6e-ccf5-4ec0-bd14-8f886b4c7c70]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\13804 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1b74ec6e-ccf5-4ec0-bd14-8f886b4c7c70]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\13804"}}
[debug] [2021-05-17T11:01:49.092Z] [worker-api-1b74ec6e-ccf5-4ec0-bd14-8f886b4c7c70]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1b74ec6e-ccf5-4ec0-bd14-8f886b4c7c70]: BUSY"}}
[debug] [2021-05-17T11:01:49.605Z] [runtime-status] [13804] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13804] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T11:01:49.606Z] [runtime-status] [13804] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13804] Disabled runtime features: undefined"}}
[debug] [2021-05-17T11:01:49.608Z] [runtime-status] [13804] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13804] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:01:49.609Z] [runtime-status] [13804] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13804] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:01:49.611Z] [runtime-status] [13804] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13804] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:01:49.612Z] [runtime-status] [13804] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13804] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T11:01:49.613Z] [runtime-status] [13804] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13804] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:01:49.655Z] [runtime-status] [13804] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13804] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T11:01:49.656Z] [runtime-status] [13804] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13804] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:01:49.656Z] [runtime-status] [13804] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13804] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:01:49.657Z] [runtime-status] [13804] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13804] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:01:49.658Z] [runtime-status] [13804] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13804] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:01:49.658Z] [runtime-status] [13804] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13804] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:01:49.803Z] [runtime-status] [13804] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13804] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T11:01:49.804Z] [runtime-status] [13804] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13804] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T11:01:49.805Z] [runtime-status] [13804] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13804] Running api in mode HTTPS"}}
[debug] [2021-05-17T11:01:49.808Z] [runtime-status] [13804] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\13804 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13804] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\13804"}}
[debug] [2021-05-17T11:01:49.810Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T11:01:49.811Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=${(getBasketTotal(basket)%20*%20100)}, mapping to path=/payments/create?total=${(getBasketTotal(basket)%20*%20100)} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=${(getBasketTotal(basket)%20*%20100)}, mapping to path=/payments/create?total=${(getBasketTotal(basket)%20*%20100)}"}}
[debug] [2021-05-17T11:01:49.818Z] [runtime-status] [13804] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13804] Ephemeral server handling POST request"}}
[debug] [2021-05-17T11:01:49.821Z] [runtime-status] [13804] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13804] Ephemeral server survived."}}
[info] >  (node:13804) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:13804) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:13804) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at F:\clones\amazon-challenge\functions\index.js:20:19 {"user":"    at F:\\clones\\amazon-challenge\\functions\\index.js:20:19","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\index.js:20:19"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (F:\clones\amazon-challenge\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:13804) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:13804) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:13804) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:13804) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:13804) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:13804) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648 {"user":"C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-05-17T11:02:49.856Z] [worker-api-1b74ec6e-ccf5-4ec0-bd14-8f886b4c7c70]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1b74ec6e-ccf5-4ec0-bd14-8f886b4c7c70]: exited"}}
[debug] [2021-05-17T11:02:49.857Z] [worker-api-1b74ec6e-ccf5-4ec0-bd14-8f886b4c7c70]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1b74ec6e-ccf5-4ec0-bd14-8f886b4c7c70]: FINISHED"}}
[debug] [2021-05-17T11:02:49.857Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-17T11:06:49.005Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-17T11:06:49.005Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-17T11:06:49.005Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=164867.99999999997 --> api
[debug] [2021-05-17T11:06:49.005Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-05-17T11:06:49.015Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T11:06:49.015Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-05-17T11:06:49.015Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T11:06:49.015Z] [worker-api-1d05f639-af70-44e1-a3a1-0140f960cc3e]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\4368 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1d05f639-af70-44e1-a3a1-0140f960cc3e]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\4368"}}
[debug] [2021-05-17T11:06:49.015Z] [worker-api-1d05f639-af70-44e1-a3a1-0140f960cc3e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1d05f639-af70-44e1-a3a1-0140f960cc3e]: BUSY"}}
[debug] [2021-05-17T11:06:49.539Z] [runtime-status] [4368] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4368] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T11:06:49.540Z] [runtime-status] [4368] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4368] Disabled runtime features: undefined"}}
[debug] [2021-05-17T11:06:49.543Z] [runtime-status] [4368] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4368] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:06:49.544Z] [runtime-status] [4368] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4368] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:06:49.545Z] [runtime-status] [4368] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4368] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:06:49.547Z] [runtime-status] [4368] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4368] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T11:06:49.548Z] [runtime-status] [4368] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4368] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:06:49.590Z] [runtime-status] [4368] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4368] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T11:06:49.590Z] [runtime-status] [4368] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4368] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:06:49.591Z] [runtime-status] [4368] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4368] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:06:49.592Z] [runtime-status] [4368] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4368] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:06:49.592Z] [runtime-status] [4368] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4368] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:06:49.592Z] [runtime-status] [4368] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4368] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:06:49.738Z] [runtime-status] [4368] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4368] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T11:06:49.740Z] [runtime-status] [4368] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4368] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T11:06:49.740Z] [runtime-status] [4368] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4368] Running api in mode HTTPS"}}
[debug] [2021-05-17T11:06:49.743Z] [runtime-status] [4368] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\4368 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4368] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\4368"}}
[debug] [2021-05-17T11:06:49.745Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T11:06:49.746Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=164867.99999999997, mapping to path=/payments/create?total=164867.99999999997 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=164867.99999999997, mapping to path=/payments/create?total=164867.99999999997"}}
[debug] [2021-05-17T11:06:49.753Z] [runtime-status] [4368] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4368] Ephemeral server handling POST request"}}
[debug] [2021-05-17T11:06:49.757Z] [runtime-status] [4368] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4368] Ephemeral server survived."}}
[info] >  (node:4368) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:4368) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:4368) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at F:\clones\amazon-challenge\functions\index.js:20:19 {"user":"    at F:\\clones\\amazon-challenge\\functions\\index.js:20:19","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\index.js:20:19"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (F:\clones\amazon-challenge\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:4368) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:4368) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:4368) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:4368) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:4368) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:4368) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-05-17T11:07:07.959Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-05-17T11:07:07.960Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-05-17T11:07:07.960Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=0 --> api
[debug] [2021-05-17T11:07:07.965Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T11:07:07.965Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-05-17T11:07:07.965Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T11:07:07.965Z] [worker-api-0498571a-e690-4e8c-bb2c-5f35fc3451b1]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\13264 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0498571a-e690-4e8c-bb2c-5f35fc3451b1]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\13264"}}
[debug] [2021-05-17T11:07:07.965Z] [worker-api-0498571a-e690-4e8c-bb2c-5f35fc3451b1]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0498571a-e690-4e8c-bb2c-5f35fc3451b1]: BUSY"}}
[debug] [2021-05-17T11:07:08.301Z] [runtime-status] [13264] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13264] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T11:07:08.302Z] [runtime-status] [13264] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13264] Disabled runtime features: undefined"}}
[debug] [2021-05-17T11:07:08.305Z] [runtime-status] [13264] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13264] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:07:08.306Z] [runtime-status] [13264] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13264] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:07:08.308Z] [runtime-status] [13264] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13264] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:07:08.309Z] [runtime-status] [13264] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13264] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T11:07:08.310Z] [runtime-status] [13264] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13264] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:07:08.352Z] [runtime-status] [13264] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13264] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T11:07:08.352Z] [runtime-status] [13264] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13264] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:07:08.353Z] [runtime-status] [13264] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13264] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:07:08.356Z] [runtime-status] [13264] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13264] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:07:08.356Z] [runtime-status] [13264] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13264] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:07:08.356Z] [runtime-status] [13264] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13264] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:07:08.554Z] [runtime-status] [13264] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13264] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T11:07:08.555Z] [runtime-status] [13264] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13264] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T11:07:08.555Z] [runtime-status] [13264] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13264] Running api in mode HTTPS"}}
[debug] [2021-05-17T11:07:08.558Z] [runtime-status] [13264] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\13264 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13264] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\13264"}}
[debug] [2021-05-17T11:07:08.561Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T11:07:08.561Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-05-17T11:07:08.568Z] [runtime-status] [13264] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13264] Ephemeral server handling POST request"}}
[debug] [2021-05-17T11:07:08.571Z] [runtime-status] [13264] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13264] Ephemeral server survived."}}
[info] >  (node:13264) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:13264) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:13264) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at F:\clones\amazon-challenge\functions\index.js:20:19 {"user":"    at F:\\clones\\amazon-challenge\\functions\\index.js:20:19","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\index.js:20:19"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (F:\clones\amazon-challenge\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:13264) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:13264) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:13264) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:13264) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:13264) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:13264) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-05-17T11:07:28.498Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-05-17T11:07:28.498Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-05-17T11:07:28.498Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=123644 --> api
[debug] [2021-05-17T11:07:28.502Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T11:07:28.502Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2021-05-17T11:07:28.502Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T11:07:28.502Z] [worker-api-21c707b7-30dc-4d17-bc36-346d2286274b]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\8432 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-21c707b7-30dc-4d17-bc36-346d2286274b]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\8432"}}
[debug] [2021-05-17T11:07:28.502Z] [worker-api-21c707b7-30dc-4d17-bc36-346d2286274b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-21c707b7-30dc-4d17-bc36-346d2286274b]: BUSY"}}
[debug] [2021-05-17T11:07:28.729Z] [runtime-status] [8432] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8432] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T11:07:28.731Z] [runtime-status] [8432] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8432] Disabled runtime features: undefined"}}
[debug] [2021-05-17T11:07:28.734Z] [runtime-status] [8432] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8432] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:07:28.735Z] [runtime-status] [8432] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8432] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:07:28.736Z] [runtime-status] [8432] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8432] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:07:28.738Z] [runtime-status] [8432] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8432] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T11:07:28.739Z] [runtime-status] [8432] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8432] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:07:28.781Z] [runtime-status] [8432] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8432] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T11:07:28.781Z] [runtime-status] [8432] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8432] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:07:28.782Z] [runtime-status] [8432] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8432] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:07:28.783Z] [runtime-status] [8432] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8432] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:07:28.784Z] [runtime-status] [8432] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8432] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:07:28.784Z] [runtime-status] [8432] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8432] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:07:28.933Z] [runtime-status] [8432] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8432] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T11:07:28.935Z] [runtime-status] [8432] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8432] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T11:07:28.935Z] [runtime-status] [8432] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8432] Running api in mode HTTPS"}}
[debug] [2021-05-17T11:07:28.938Z] [runtime-status] [8432] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\8432 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8432] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\8432"}}
[debug] [2021-05-17T11:07:28.940Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T11:07:28.940Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=123644, mapping to path=/payments/create?total=123644 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=123644, mapping to path=/payments/create?total=123644"}}
[debug] [2021-05-17T11:07:28.949Z] [runtime-status] [8432] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8432] Ephemeral server handling POST request"}}
[debug] [2021-05-17T11:07:28.952Z] [runtime-status] [8432] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8432] Ephemeral server survived."}}
[info] >  (node:8432) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:8432) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8432) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at F:\clones\amazon-challenge\functions\index.js:20:19 {"user":"    at F:\\clones\\amazon-challenge\\functions\\index.js:20:19","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\index.js:20:19"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (F:\clones\amazon-challenge\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:8432) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:8432) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8432) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:8432) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:8432) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8432) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648 {"user":"C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-05-17T11:07:49.764Z] [worker-api-1d05f639-af70-44e1-a3a1-0140f960cc3e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1d05f639-af70-44e1-a3a1-0140f960cc3e]: exited"}}
[debug] [2021-05-17T11:07:49.764Z] [worker-api-1d05f639-af70-44e1-a3a1-0140f960cc3e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1d05f639-af70-44e1-a3a1-0140f960cc3e]: FINISHED"}}
[debug] [2021-05-17T11:07:49.765Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648 {"user":"C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-05-17T11:08:08.593Z] [worker-api-0498571a-e690-4e8c-bb2c-5f35fc3451b1]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0498571a-e690-4e8c-bb2c-5f35fc3451b1]: exited"}}
[debug] [2021-05-17T11:08:08.593Z] [worker-api-0498571a-e690-4e8c-bb2c-5f35fc3451b1]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0498571a-e690-4e8c-bb2c-5f35fc3451b1]: FINISHED"}}
[debug] [2021-05-17T11:08:08.594Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648 {"user":"C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-05-17T11:08:28.959Z] [worker-api-21c707b7-30dc-4d17-bc36-346d2286274b]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-21c707b7-30dc-4d17-bc36-346d2286274b]: exited"}}
[debug] [2021-05-17T11:08:28.959Z] [worker-api-21c707b7-30dc-4d17-bc36-346d2286274b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-21c707b7-30dc-4d17-bc36-346d2286274b]: FINISHED"}}
[debug] [2021-05-17T11:08:28.959Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-17T11:09:00.621Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-17T11:09:00.621Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-17T11:09:00.621Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=123644 --> api
[debug] [2021-05-17T11:09:00.621Z] [worker-pool] Cleaned up workers for api: 3 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 3 --> 0"}}
[debug] [2021-05-17T11:09:00.628Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T11:09:00.628Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-05-17T11:09:00.628Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T11:09:00.628Z] [worker-api-a7d1ed56-5cb3-4db7-af1f-3f9fdf5044b1]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\14972 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a7d1ed56-5cb3-4db7-af1f-3f9fdf5044b1]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\14972"}}
[debug] [2021-05-17T11:09:00.628Z] [worker-api-a7d1ed56-5cb3-4db7-af1f-3f9fdf5044b1]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a7d1ed56-5cb3-4db7-af1f-3f9fdf5044b1]: BUSY"}}
[debug] [2021-05-17T11:09:00.878Z] [runtime-status] [14972] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14972] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T11:09:00.879Z] [runtime-status] [14972] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14972] Disabled runtime features: undefined"}}
[debug] [2021-05-17T11:09:00.881Z] [runtime-status] [14972] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14972] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:09:00.883Z] [runtime-status] [14972] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14972] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:09:00.884Z] [runtime-status] [14972] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14972] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:09:00.886Z] [runtime-status] [14972] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14972] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T11:09:00.888Z] [runtime-status] [14972] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14972] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:09:00.931Z] [runtime-status] [14972] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14972] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T11:09:00.931Z] [runtime-status] [14972] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14972] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:09:00.931Z] [runtime-status] [14972] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14972] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:09:00.932Z] [runtime-status] [14972] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14972] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:09:00.933Z] [runtime-status] [14972] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14972] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:09:00.933Z] [runtime-status] [14972] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14972] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:09:01.088Z] [runtime-status] [14972] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14972] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T11:09:01.089Z] [runtime-status] [14972] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14972] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T11:09:01.090Z] [runtime-status] [14972] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14972] Running api in mode HTTPS"}}
[debug] [2021-05-17T11:09:01.094Z] [runtime-status] [14972] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\14972 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14972] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\14972"}}
[debug] [2021-05-17T11:09:01.096Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T11:09:01.097Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=123644, mapping to path=/payments/create?total=123644 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=123644, mapping to path=/payments/create?total=123644"}}
[debug] [2021-05-17T11:09:01.104Z] [runtime-status] [14972] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14972] Ephemeral server handling POST request"}}
[debug] [2021-05-17T11:09:01.108Z] [runtime-status] [14972] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14972] Ephemeral server survived."}}
[info] >  (node:14972) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:14972) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:14972) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at F:\clones\amazon-challenge\functions\index.js:20:19 {"user":"    at F:\\clones\\amazon-challenge\\functions\\index.js:20:19","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\index.js:20:19"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (F:\clones\amazon-challenge\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:14972) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:14972) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:14972) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:14972) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:14972) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:14972) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-05-17T11:09:12.651Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-05-17T11:09:12.652Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-05-17T11:09:12.652Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=123644 --> api
[debug] [2021-05-17T11:09:12.660Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T11:09:12.661Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-05-17T11:09:12.661Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T11:09:12.661Z] [worker-api-cdf75554-1373-4e37-8c23-dab9b6b5819d]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\15884 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cdf75554-1373-4e37-8c23-dab9b6b5819d]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\15884"}}
[debug] [2021-05-17T11:09:12.661Z] [worker-api-cdf75554-1373-4e37-8c23-dab9b6b5819d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cdf75554-1373-4e37-8c23-dab9b6b5819d]: BUSY"}}
[debug] [2021-05-17T11:09:12.941Z] [runtime-status] [15884] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15884] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T11:09:12.942Z] [runtime-status] [15884] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15884] Disabled runtime features: undefined"}}
[debug] [2021-05-17T11:09:12.945Z] [runtime-status] [15884] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15884] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:09:12.946Z] [runtime-status] [15884] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15884] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:09:12.948Z] [runtime-status] [15884] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15884] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:09:12.949Z] [runtime-status] [15884] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15884] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T11:09:12.950Z] [runtime-status] [15884] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15884] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:09:13.014Z] [runtime-status] [15884] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15884] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T11:09:13.014Z] [runtime-status] [15884] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15884] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:09:13.014Z] [runtime-status] [15884] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15884] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:09:13.015Z] [runtime-status] [15884] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15884] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:09:13.016Z] [runtime-status] [15884] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15884] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:09:13.016Z] [runtime-status] [15884] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15884] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:09:13.235Z] [runtime-status] [15884] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15884] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T11:09:13.237Z] [runtime-status] [15884] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15884] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T11:09:13.238Z] [runtime-status] [15884] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15884] Running api in mode HTTPS"}}
[debug] [2021-05-17T11:09:13.245Z] [runtime-status] [15884] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\15884 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15884] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\15884"}}
[debug] [2021-05-17T11:09:13.249Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T11:09:13.249Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=123644, mapping to path=/payments/create?total=123644 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=123644, mapping to path=/payments/create?total=123644"}}
[debug] [2021-05-17T11:09:13.262Z] [runtime-status] [15884] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15884] Ephemeral server handling POST request"}}
[debug] [2021-05-17T11:09:13.265Z] [runtime-status] [15884] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15884] Ephemeral server survived."}}
[info] >  (node:15884) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:15884) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15884) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at F:\clones\amazon-challenge\functions\index.js:20:19 {"user":"    at F:\\clones\\amazon-challenge\\functions\\index.js:20:19","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\index.js:20:19"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (F:\clones\amazon-challenge\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:15884) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:15884) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15884) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:15884) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15884) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15884) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-05-17T11:09:20.255Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-05-17T11:09:20.255Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-05-17T11:09:20.255Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=123644 --> api
[debug] [2021-05-17T11:09:20.266Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T11:09:20.266Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2021-05-17T11:09:20.266Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T11:09:20.266Z] [worker-api-f04f69a4-3148-40c8-a452-152a2220f94c]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\16328 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f04f69a4-3148-40c8-a452-152a2220f94c]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\16328"}}
[debug] [2021-05-17T11:09:20.266Z] [worker-api-f04f69a4-3148-40c8-a452-152a2220f94c]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f04f69a4-3148-40c8-a452-152a2220f94c]: BUSY"}}
[debug] [2021-05-17T11:09:20.491Z] [runtime-status] [16328] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16328] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T11:09:20.492Z] [runtime-status] [16328] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16328] Disabled runtime features: undefined"}}
[debug] [2021-05-17T11:09:20.494Z] [runtime-status] [16328] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16328] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:09:20.496Z] [runtime-status] [16328] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16328] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:09:20.497Z] [runtime-status] [16328] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16328] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:09:20.499Z] [runtime-status] [16328] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16328] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T11:09:20.499Z] [runtime-status] [16328] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16328] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:09:20.541Z] [runtime-status] [16328] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16328] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T11:09:20.541Z] [runtime-status] [16328] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16328] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:09:20.541Z] [runtime-status] [16328] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16328] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:09:20.542Z] [runtime-status] [16328] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16328] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:09:20.543Z] [runtime-status] [16328] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16328] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:09:20.544Z] [runtime-status] [16328] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16328] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:09:20.684Z] [runtime-status] [16328] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16328] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T11:09:20.686Z] [runtime-status] [16328] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16328] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T11:09:20.686Z] [runtime-status] [16328] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16328] Running api in mode HTTPS"}}
[debug] [2021-05-17T11:09:20.688Z] [runtime-status] [16328] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\16328 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16328] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\16328"}}
[debug] [2021-05-17T11:09:20.691Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T11:09:20.692Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=123644, mapping to path=/payments/create?total=123644 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=123644, mapping to path=/payments/create?total=123644"}}
[debug] [2021-05-17T11:09:20.699Z] [runtime-status] [16328] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16328] Ephemeral server handling POST request"}}
[debug] [2021-05-17T11:09:20.702Z] [runtime-status] [16328] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16328] Ephemeral server survived."}}
[info] >  (node:16328) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:16328) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16328) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at F:\clones\amazon-challenge\functions\index.js:20:19 {"user":"    at F:\\clones\\amazon-challenge\\functions\\index.js:20:19","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\index.js:20:19"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (F:\clones\amazon-challenge\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:16328) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:16328) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16328) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:16328) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:16328) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16328) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-05-17T11:09:35.993Z] [work-queue] {"queueLength":1,"workRunningCount":3}
[debug] [2021-05-17T11:09:35.993Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2021-05-17T11:09:35.993Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=0 --> api
[debug] [2021-05-17T11:09:35.997Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T11:09:35.998Z] [worker-pool] Adding worker with key api, total=4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=4"}}
[debug] [2021-05-17T11:09:35.998Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T11:09:35.998Z] [worker-api-39f33dd2-6cc2-4f7b-8715-c08e7ce97124]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\11296 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-39f33dd2-6cc2-4f7b-8715-c08e7ce97124]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\11296"}}
[debug] [2021-05-17T11:09:35.998Z] [worker-api-39f33dd2-6cc2-4f7b-8715-c08e7ce97124]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-39f33dd2-6cc2-4f7b-8715-c08e7ce97124]: BUSY"}}
[debug] [2021-05-17T11:09:36.301Z] [runtime-status] [11296] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11296] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T11:09:36.302Z] [runtime-status] [11296] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11296] Disabled runtime features: undefined"}}
[debug] [2021-05-17T11:09:36.304Z] [runtime-status] [11296] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11296] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:09:36.305Z] [runtime-status] [11296] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11296] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:09:36.307Z] [runtime-status] [11296] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11296] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:09:36.309Z] [runtime-status] [11296] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11296] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T11:09:36.309Z] [runtime-status] [11296] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11296] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:09:36.357Z] [runtime-status] [11296] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11296] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T11:09:36.357Z] [runtime-status] [11296] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11296] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:09:36.358Z] [runtime-status] [11296] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11296] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:09:36.359Z] [runtime-status] [11296] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11296] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:09:36.359Z] [runtime-status] [11296] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11296] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:09:36.359Z] [runtime-status] [11296] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11296] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:09:36.510Z] [runtime-status] [11296] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11296] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T11:09:36.511Z] [runtime-status] [11296] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11296] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T11:09:36.511Z] [runtime-status] [11296] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11296] Running api in mode HTTPS"}}
[debug] [2021-05-17T11:09:36.516Z] [runtime-status] [11296] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\11296 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11296] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\11296"}}
[debug] [2021-05-17T11:09:36.519Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T11:09:36.519Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-05-17T11:09:36.527Z] [runtime-status] [11296] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11296] Ephemeral server handling POST request"}}
[debug] [2021-05-17T11:09:36.530Z] [runtime-status] [11296] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11296] Ephemeral server survived."}}
[info] >  (node:11296) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:11296) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:11296) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at F:\clones\amazon-challenge\functions\index.js:20:19 {"user":"    at F:\\clones\\amazon-challenge\\functions\\index.js:20:19","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\index.js:20:19"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (F:\clones\amazon-challenge\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:11296) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:11296) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:11296) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:11296) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:11296) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:11296) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-05-17T11:09:57.247Z] [work-queue] {"queueLength":1,"workRunningCount":4}
[debug] [2021-05-17T11:09:57.248Z] [work-queue] {"queueLength":0,"workRunningCount":5}
[debug] [2021-05-17T11:09:57.248Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=22844 --> api
[debug] [2021-05-17T11:09:57.255Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T11:09:57.255Z] [worker-pool] Adding worker with key api, total=5 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=5"}}
[debug] [2021-05-17T11:09:57.255Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T11:09:57.256Z] [worker-api-4784c198-1846-4dfd-afc2-a47643ae8af7]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\11324 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4784c198-1846-4dfd-afc2-a47643ae8af7]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\11324"}}
[debug] [2021-05-17T11:09:57.256Z] [worker-api-4784c198-1846-4dfd-afc2-a47643ae8af7]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4784c198-1846-4dfd-afc2-a47643ae8af7]: BUSY"}}
[debug] [2021-05-17T11:09:57.518Z] [runtime-status] [11324] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11324] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T11:09:57.519Z] [runtime-status] [11324] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11324] Disabled runtime features: undefined"}}
[debug] [2021-05-17T11:09:57.522Z] [runtime-status] [11324] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11324] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:09:57.523Z] [runtime-status] [11324] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11324] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:09:57.524Z] [runtime-status] [11324] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11324] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:09:57.526Z] [runtime-status] [11324] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11324] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T11:09:57.527Z] [runtime-status] [11324] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11324] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:09:57.571Z] [runtime-status] [11324] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11324] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T11:09:57.571Z] [runtime-status] [11324] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11324] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:09:57.571Z] [runtime-status] [11324] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11324] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:09:57.572Z] [runtime-status] [11324] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11324] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:09:57.573Z] [runtime-status] [11324] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11324] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:09:57.573Z] [runtime-status] [11324] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11324] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:09:57.723Z] [runtime-status] [11324] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11324] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T11:09:57.724Z] [runtime-status] [11324] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11324] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T11:09:57.725Z] [runtime-status] [11324] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11324] Running api in mode HTTPS"}}
[debug] [2021-05-17T11:09:57.732Z] [runtime-status] [11324] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\11324 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11324] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\11324"}}
[debug] [2021-05-17T11:09:57.735Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T11:09:57.736Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=22844, mapping to path=/payments/create?total=22844 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=22844, mapping to path=/payments/create?total=22844"}}
[debug] [2021-05-17T11:09:57.749Z] [runtime-status] [11324] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11324] Ephemeral server handling POST request"}}
[debug] [2021-05-17T11:09:57.755Z] [runtime-status] [11324] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11324] Ephemeral server survived."}}
[info] >  (node:11324) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:11324) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:11324) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at F:\clones\amazon-challenge\functions\index.js:20:19 {"user":"    at F:\\clones\\amazon-challenge\\functions\\index.js:20:19","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\index.js:20:19"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (F:\clones\amazon-challenge\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:11324) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:11324) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:11324) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:11324) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:11324) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:11324) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648 {"user":"C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-05-17T11:10:01.102Z] [worker-api-a7d1ed56-5cb3-4db7-af1f-3f9fdf5044b1]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a7d1ed56-5cb3-4db7-af1f-3f9fdf5044b1]: exited"}}
[debug] [2021-05-17T11:10:01.103Z] [worker-api-a7d1ed56-5cb3-4db7-af1f-3f9fdf5044b1]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a7d1ed56-5cb3-4db7-af1f-3f9fdf5044b1]: FINISHED"}}
[debug] [2021-05-17T11:10:01.103Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648 {"user":"C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-05-17T11:10:13.261Z] [worker-api-cdf75554-1373-4e37-8c23-dab9b6b5819d]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cdf75554-1373-4e37-8c23-dab9b6b5819d]: exited"}}
[debug] [2021-05-17T11:10:13.261Z] [worker-api-cdf75554-1373-4e37-8c23-dab9b6b5819d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cdf75554-1373-4e37-8c23-dab9b6b5819d]: FINISHED"}}
[debug] [2021-05-17T11:10:13.261Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648 {"user":"C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-05-17T11:10:20.706Z] [worker-api-f04f69a4-3148-40c8-a452-152a2220f94c]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f04f69a4-3148-40c8-a452-152a2220f94c]: exited"}}
[debug] [2021-05-17T11:10:20.706Z] [worker-api-f04f69a4-3148-40c8-a452-152a2220f94c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f04f69a4-3148-40c8-a452-152a2220f94c]: FINISHED"}}
[debug] [2021-05-17T11:10:20.707Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648 {"user":"C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-05-17T11:10:36.552Z] [worker-api-39f33dd2-6cc2-4f7b-8715-c08e7ce97124]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-39f33dd2-6cc2-4f7b-8715-c08e7ce97124]: exited"}}
[debug] [2021-05-17T11:10:36.552Z] [worker-api-39f33dd2-6cc2-4f7b-8715-c08e7ce97124]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-39f33dd2-6cc2-4f7b-8715-c08e7ce97124]: FINISHED"}}
[debug] [2021-05-17T11:10:36.552Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648 {"user":"C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-05-17T11:10:57.775Z] [worker-api-4784c198-1846-4dfd-afc2-a47643ae8af7]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4784c198-1846-4dfd-afc2-a47643ae8af7]: exited"}}
[debug] [2021-05-17T11:10:57.776Z] [worker-api-4784c198-1846-4dfd-afc2-a47643ae8af7]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4784c198-1846-4dfd-afc2-a47643ae8af7]: FINISHED"}}
[debug] [2021-05-17T11:10:57.776Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-17T11:11:16.532Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-17T11:11:16.532Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-17T11:11:16.532Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=22844 --> api
[debug] [2021-05-17T11:11:16.532Z] [worker-pool] Cleaned up workers for api: 5 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 5 --> 0"}}
[debug] [2021-05-17T11:11:16.540Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T11:11:16.541Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-05-17T11:11:16.541Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T11:11:16.541Z] [worker-api-5c18bcb1-2ef8-48b7-986d-6249fecad2f3]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\11392 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5c18bcb1-2ef8-48b7-986d-6249fecad2f3]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\11392"}}
[debug] [2021-05-17T11:11:16.541Z] [worker-api-5c18bcb1-2ef8-48b7-986d-6249fecad2f3]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5c18bcb1-2ef8-48b7-986d-6249fecad2f3]: BUSY"}}
[debug] [2021-05-17T11:11:16.784Z] [runtime-status] [11392] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11392] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T11:11:16.786Z] [runtime-status] [11392] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11392] Disabled runtime features: undefined"}}
[debug] [2021-05-17T11:11:16.789Z] [runtime-status] [11392] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11392] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:11:16.792Z] [runtime-status] [11392] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11392] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:11:16.794Z] [runtime-status] [11392] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11392] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:11:16.796Z] [runtime-status] [11392] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11392] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T11:11:16.797Z] [runtime-status] [11392] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11392] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:11:16.852Z] [runtime-status] [11392] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11392] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T11:11:16.852Z] [runtime-status] [11392] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11392] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:11:16.853Z] [runtime-status] [11392] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11392] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:11:16.854Z] [runtime-status] [11392] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11392] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:11:16.855Z] [runtime-status] [11392] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11392] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:11:16.855Z] [runtime-status] [11392] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11392] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:11:17.053Z] [runtime-status] [11392] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11392] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T11:11:17.054Z] [runtime-status] [11392] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11392] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T11:11:17.054Z] [runtime-status] [11392] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11392] Running api in mode HTTPS"}}
[debug] [2021-05-17T11:11:17.058Z] [runtime-status] [11392] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\11392 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11392] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\11392"}}
[debug] [2021-05-17T11:11:17.061Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T11:11:17.061Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=22844, mapping to path=/payments/create?total=22844 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=22844, mapping to path=/payments/create?total=22844"}}
[debug] [2021-05-17T11:11:17.069Z] [runtime-status] [11392] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11392] Ephemeral server handling POST request"}}
[debug] [2021-05-17T11:11:17.072Z] [runtime-status] [11392] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11392] Ephemeral server survived."}}
[info] >  (node:11392) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:11392) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:11392) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at F:\clones\amazon-challenge\functions\index.js:20:19 {"user":"    at F:\\clones\\amazon-challenge\\functions\\index.js:20:19","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\index.js:20:19"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (F:\clones\amazon-challenge\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:11392) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:11392) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:11392) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:11392) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:11392) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:11392) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648 {"user":"C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-05-17T11:12:17.110Z] [worker-api-5c18bcb1-2ef8-48b7-986d-6249fecad2f3]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5c18bcb1-2ef8-48b7-986d-6249fecad2f3]: exited"}}
[debug] [2021-05-17T11:12:17.110Z] [worker-api-5c18bcb1-2ef8-48b7-986d-6249fecad2f3]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5c18bcb1-2ef8-48b7-986d-6249fecad2f3]: FINISHED"}}
[debug] [2021-05-17T11:12:17.110Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-17T11:15:10.915Z] File F:\clones\amazon-challenge\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File F:\\clones\\amazon-challenge\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-05-17T11:15:11.611Z] File F:\clones\amazon-challenge\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File F:\\clones\\amazon-challenge\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-05-17T11:15:12.626Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-05-17T11:15:12.626Z] [worker-~diagnostic~-bbd47f18-1d47-40d2-9a3c-18b7399495d4]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-bbd47f18-1d47-40d2-9a3c-18b7399495d4]: FINISHING"}}
[debug] [2021-05-17T11:15:12.627Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-05-17T11:15:12.647Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-05-17T11:15:12.648Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-05-17T11:15:12.648Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-05-17T11:15:12.648Z] [worker-~diagnostic~-190dca15-2a0f-43a0-b665-9e48f2d68092]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\14124 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-190dca15-2a0f-43a0-b665-9e48f2d68092]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\14124"}}
[debug] [2021-05-17T11:15:12.649Z] [worker-~diagnostic~-190dca15-2a0f-43a0-b665-9e48f2d68092]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-190dca15-2a0f-43a0-b665-9e48f2d68092]: BUSY"}}
[debug] [2021-05-17T11:15:12.651Z] [worker-~diagnostic~-bbd47f18-1d47-40d2-9a3c-18b7399495d4]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-bbd47f18-1d47-40d2-9a3c-18b7399495d4]: exited"}}
[debug] [2021-05-17T11:15:12.651Z] [worker-~diagnostic~-bbd47f18-1d47-40d2-9a3c-18b7399495d4]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-bbd47f18-1d47-40d2-9a3c-18b7399495d4]: FINISHED"}}
[debug] [2021-05-17T11:15:12.940Z] [runtime-status] [14124] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14124] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T11:15:12.942Z] [runtime-status] [14124] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14124] Disabled runtime features: undefined"}}
[debug] [2021-05-17T11:15:12.946Z] [runtime-status] [14124] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14124] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:15:12.948Z] [runtime-status] [14124] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14124] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:15:12.950Z] [runtime-status] [14124] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14124] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:15:12.953Z] [runtime-status] [14124] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14124] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T11:15:12.954Z] [runtime-status] [14124] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14124] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:15:13.025Z] [runtime-status] [14124] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14124] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T11:15:13.025Z] [runtime-status] [14124] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14124] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:15:13.025Z] [runtime-status] [14124] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14124] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:15:13.025Z] [runtime-status] [14124] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14124] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:15:13.025Z] [runtime-status] [14124] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14124] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:15:13.025Z] [runtime-status] [14124] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14124] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:15:13.238Z] [worker-~diagnostic~-190dca15-2a0f-43a0-b665-9e48f2d68092]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-190dca15-2a0f-43a0-b665-9e48f2d68092]: IDLE"}}
[debug] [2021-05-17T11:15:17.967Z] File F:\clones\amazon-challenge\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File F:\\clones\\amazon-challenge\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-05-17T11:15:18.297Z] File F:\clones\amazon-challenge\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File F:\\clones\\amazon-challenge\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-05-17T11:15:19.312Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-05-17T11:15:19.312Z] [worker-~diagnostic~-190dca15-2a0f-43a0-b665-9e48f2d68092]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-190dca15-2a0f-43a0-b665-9e48f2d68092]: FINISHING"}}
[debug] [2021-05-17T11:15:19.313Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-05-17T11:15:19.330Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-05-17T11:15:19.331Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-05-17T11:15:19.331Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-05-17T11:15:19.331Z] [worker-~diagnostic~-873a8d18-a9bd-444a-9df1-a1aae8f0dda8]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\12552 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-873a8d18-a9bd-444a-9df1-a1aae8f0dda8]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\12552"}}
[debug] [2021-05-17T11:15:19.332Z] [worker-~diagnostic~-873a8d18-a9bd-444a-9df1-a1aae8f0dda8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-873a8d18-a9bd-444a-9df1-a1aae8f0dda8]: BUSY"}}
[debug] [2021-05-17T11:15:19.344Z] [worker-~diagnostic~-190dca15-2a0f-43a0-b665-9e48f2d68092]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-190dca15-2a0f-43a0-b665-9e48f2d68092]: exited"}}
[debug] [2021-05-17T11:15:19.345Z] [worker-~diagnostic~-190dca15-2a0f-43a0-b665-9e48f2d68092]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-190dca15-2a0f-43a0-b665-9e48f2d68092]: FINISHED"}}
[debug] [2021-05-17T11:15:19.627Z] [runtime-status] [12552] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12552] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T11:15:19.629Z] [runtime-status] [12552] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12552] Disabled runtime features: undefined"}}
[debug] [2021-05-17T11:15:19.634Z] [runtime-status] [12552] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12552] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:15:19.636Z] [runtime-status] [12552] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12552] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:15:19.639Z] [runtime-status] [12552] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12552] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:15:19.641Z] [runtime-status] [12552] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12552] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T11:15:19.642Z] [runtime-status] [12552] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12552] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:15:19.693Z] [runtime-status] [12552] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12552] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T11:15:19.694Z] [runtime-status] [12552] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12552] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:15:19.694Z] [runtime-status] [12552] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12552] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:15:19.695Z] [runtime-status] [12552] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12552] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:15:19.696Z] [runtime-status] [12552] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12552] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:15:19.696Z] [runtime-status] [12552] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12552] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:15:19.845Z] [worker-~diagnostic~-873a8d18-a9bd-444a-9df1-a1aae8f0dda8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-873a8d18-a9bd-444a-9df1-a1aae8f0dda8]: IDLE"}}
[debug] [2021-05-17T11:15:42.177Z] File F:\clones\amazon-challenge\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File F:\\clones\\amazon-challenge\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-05-17T11:15:43.191Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-05-17T11:15:43.191Z] [worker-~diagnostic~-873a8d18-a9bd-444a-9df1-a1aae8f0dda8]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-873a8d18-a9bd-444a-9df1-a1aae8f0dda8]: FINISHING"}}
[debug] [2021-05-17T11:15:43.191Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-05-17T11:15:43.196Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-05-17T11:15:43.197Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-05-17T11:15:43.197Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-05-17T11:15:43.197Z] [worker-~diagnostic~-0f2f4f8c-8611-45d0-a4e0-893470df74ce]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\14192 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0f2f4f8c-8611-45d0-a4e0-893470df74ce]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\14192"}}
[debug] [2021-05-17T11:15:43.197Z] [worker-~diagnostic~-0f2f4f8c-8611-45d0-a4e0-893470df74ce]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0f2f4f8c-8611-45d0-a4e0-893470df74ce]: BUSY"}}
[debug] [2021-05-17T11:15:43.198Z] [worker-~diagnostic~-873a8d18-a9bd-444a-9df1-a1aae8f0dda8]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-873a8d18-a9bd-444a-9df1-a1aae8f0dda8]: exited"}}
[debug] [2021-05-17T11:15:43.198Z] [worker-~diagnostic~-873a8d18-a9bd-444a-9df1-a1aae8f0dda8]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-873a8d18-a9bd-444a-9df1-a1aae8f0dda8]: FINISHED"}}
[debug] [2021-05-17T11:15:43.466Z] [runtime-status] [14192] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14192] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T11:15:43.467Z] [runtime-status] [14192] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14192] Disabled runtime features: undefined"}}
[debug] [2021-05-17T11:15:43.471Z] [runtime-status] [14192] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14192] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:15:43.473Z] [runtime-status] [14192] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14192] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:15:43.475Z] [runtime-status] [14192] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14192] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:15:43.477Z] [runtime-status] [14192] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14192] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T11:15:43.478Z] [runtime-status] [14192] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14192] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:15:43.561Z] [runtime-status] [14192] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14192] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T11:15:43.562Z] [runtime-status] [14192] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14192] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:15:43.564Z] [runtime-status] [14192] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14192] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:15:43.566Z] [runtime-status] [14192] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14192] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:15:43.566Z] [runtime-status] [14192] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14192] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:15:43.567Z] [runtime-status] [14192] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14192] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:15:43.806Z] [worker-~diagnostic~-0f2f4f8c-8611-45d0-a4e0-893470df74ce]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0f2f4f8c-8611-45d0-a4e0-893470df74ce]: IDLE"}}
[debug] [2021-05-17T11:15:50.480Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-17T11:15:50.480Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-17T11:15:50.480Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=0 --> api
[debug] [2021-05-17T11:15:50.480Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-05-17T11:15:50.486Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T11:15:50.486Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-05-17T11:15:50.486Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T11:15:50.486Z] [worker-api-50d09f7a-92f2-4355-b1d1-d0f077f9b36d]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\2732 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-50d09f7a-92f2-4355-b1d1-d0f077f9b36d]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\2732"}}
[debug] [2021-05-17T11:15:50.486Z] [worker-api-50d09f7a-92f2-4355-b1d1-d0f077f9b36d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-50d09f7a-92f2-4355-b1d1-d0f077f9b36d]: BUSY"}}
[debug] [2021-05-17T11:15:50.751Z] [runtime-status] [2732] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2732] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T11:15:50.752Z] [runtime-status] [2732] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2732] Disabled runtime features: undefined"}}
[debug] [2021-05-17T11:15:50.755Z] [runtime-status] [2732] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2732] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:15:50.756Z] [runtime-status] [2732] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2732] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:15:50.757Z] [runtime-status] [2732] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2732] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:15:50.760Z] [runtime-status] [2732] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2732] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T11:15:50.761Z] [runtime-status] [2732] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2732] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:15:50.808Z] [runtime-status] [2732] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2732] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T11:15:50.808Z] [runtime-status] [2732] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2732] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:15:50.809Z] [runtime-status] [2732] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2732] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:15:50.811Z] [runtime-status] [2732] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2732] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:15:50.812Z] [runtime-status] [2732] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2732] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:15:50.812Z] [runtime-status] [2732] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2732] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:15:50.991Z] [runtime-status] [2732] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2732] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T11:15:50.993Z] [runtime-status] [2732] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2732] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T11:15:50.994Z] [runtime-status] [2732] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2732] Running api in mode HTTPS"}}
[debug] [2021-05-17T11:15:50.997Z] [runtime-status] [2732] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\2732 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2732] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\2732"}}
[debug] [2021-05-17T11:15:51.001Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T11:15:51.002Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-05-17T11:15:51.013Z] [runtime-status] [2732] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2732] Ephemeral server handling POST request"}}
[debug] [2021-05-17T11:15:51.017Z] [runtime-status] [2732] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2732] Ephemeral server survived."}}
[info] >  (node:2732) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:2732) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2732) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at F:\clones\amazon-challenge\functions\index.js:20:19 {"user":"    at F:\\clones\\amazon-challenge\\functions\\index.js:20:19","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\index.js:20:19"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (F:\clones\amazon-challenge\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:2732) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:2732) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2732) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:2732) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2732) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2732) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-05-17T11:16:01.093Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-05-17T11:16:01.093Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-05-17T11:16:01.093Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=22844 --> api
[debug] [2021-05-17T11:16:01.101Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T11:16:01.101Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-05-17T11:16:01.101Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T11:16:01.101Z] [worker-api-96183fa2-aac8-4c92-82b1-d91e33908e77]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\9768 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-96183fa2-aac8-4c92-82b1-d91e33908e77]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\9768"}}
[debug] [2021-05-17T11:16:01.102Z] [worker-api-96183fa2-aac8-4c92-82b1-d91e33908e77]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-96183fa2-aac8-4c92-82b1-d91e33908e77]: BUSY"}}
[debug] [2021-05-17T11:16:01.376Z] [runtime-status] [9768] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9768] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T11:16:01.377Z] [runtime-status] [9768] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9768] Disabled runtime features: undefined"}}
[debug] [2021-05-17T11:16:01.379Z] [runtime-status] [9768] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9768] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:16:01.381Z] [runtime-status] [9768] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9768] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:16:01.382Z] [runtime-status] [9768] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9768] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:16:01.384Z] [runtime-status] [9768] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9768] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T11:16:01.384Z] [runtime-status] [9768] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9768] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:16:01.433Z] [runtime-status] [9768] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9768] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T11:16:01.433Z] [runtime-status] [9768] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9768] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:16:01.434Z] [runtime-status] [9768] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9768] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:16:01.435Z] [runtime-status] [9768] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9768] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:16:01.435Z] [runtime-status] [9768] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9768] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:16:01.435Z] [runtime-status] [9768] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9768] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:16:01.587Z] [runtime-status] [9768] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9768] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T11:16:01.589Z] [runtime-status] [9768] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9768] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T11:16:01.589Z] [runtime-status] [9768] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9768] Running api in mode HTTPS"}}
[debug] [2021-05-17T11:16:01.592Z] [runtime-status] [9768] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\9768 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9768] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\9768"}}
[debug] [2021-05-17T11:16:01.596Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T11:16:01.597Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=22844, mapping to path=/payments/create?total=22844 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=22844, mapping to path=/payments/create?total=22844"}}
[debug] [2021-05-17T11:16:01.604Z] [runtime-status] [9768] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9768] Ephemeral server handling POST request"}}
[debug] [2021-05-17T11:16:01.608Z] [runtime-status] [9768] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9768] Ephemeral server survived."}}
[info] >  (node:9768) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:9768) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9768) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at F:\clones\amazon-challenge\functions\index.js:20:19 {"user":"    at F:\\clones\\amazon-challenge\\functions\\index.js:20:19","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\index.js:20:19"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (F:\clones\amazon-challenge\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:9768) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:9768) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9768) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:9768) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:9768) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9768) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-05-17T11:16:35.504Z] File F:\clones\amazon-challenge\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File F:\\clones\\amazon-challenge\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-05-17T11:16:35.755Z] File F:\clones\amazon-challenge\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File F:\\clones\\amazon-challenge\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-05-17T11:16:36.214Z] File F:\clones\amazon-challenge\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File F:\\clones\\amazon-challenge\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-05-17T11:16:36.544Z] File F:\clones\amazon-challenge\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File F:\\clones\\amazon-challenge\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-05-17T11:16:36.798Z] File F:\clones\amazon-challenge\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File F:\\clones\\amazon-challenge\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-05-17T11:16:37.803Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-05-17T11:16:37.803Z] [worker-~diagnostic~-0f2f4f8c-8611-45d0-a4e0-893470df74ce]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0f2f4f8c-8611-45d0-a4e0-893470df74ce]: FINISHING"}}
[debug] [2021-05-17T11:16:37.804Z] [worker-pool] Marking BUSY worker to finish (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (api)"}}
[debug] [2021-05-17T11:16:37.804Z] [worker-api-50d09f7a-92f2-4355-b1d1-d0f077f9b36d]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-50d09f7a-92f2-4355-b1d1-d0f077f9b36d]: FINISHING"}}
[debug] [2021-05-17T11:16:37.804Z] [worker-pool] Marking BUSY worker to finish (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (api)"}}
[debug] [2021-05-17T11:16:37.805Z] [worker-api-96183fa2-aac8-4c92-82b1-d91e33908e77]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-96183fa2-aac8-4c92-82b1-d91e33908e77]: FINISHING"}}
[debug] [2021-05-17T11:16:37.855Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-05-17T11:16:37.856Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-05-17T11:16:37.856Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-05-17T11:16:37.857Z] [worker-~diagnostic~-e0e88d1a-4b61-40f0-8d82-b7933adf9065]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\13552 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-e0e88d1a-4b61-40f0-8d82-b7933adf9065]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\13552"}}
[debug] [2021-05-17T11:16:37.857Z] [worker-~diagnostic~-e0e88d1a-4b61-40f0-8d82-b7933adf9065]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-e0e88d1a-4b61-40f0-8d82-b7933adf9065]: BUSY"}}
[debug] [2021-05-17T11:16:37.859Z] [worker-~diagnostic~-0f2f4f8c-8611-45d0-a4e0-893470df74ce]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0f2f4f8c-8611-45d0-a4e0-893470df74ce]: exited"}}
[debug] [2021-05-17T11:16:37.859Z] [worker-~diagnostic~-0f2f4f8c-8611-45d0-a4e0-893470df74ce]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0f2f4f8c-8611-45d0-a4e0-893470df74ce]: FINISHED"}}
[debug] [2021-05-17T11:16:38.212Z] [runtime-status] [13552] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13552] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T11:16:38.214Z] [runtime-status] [13552] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13552] Disabled runtime features: undefined"}}
[debug] [2021-05-17T11:16:38.218Z] [runtime-status] [13552] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13552] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:16:38.220Z] [runtime-status] [13552] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13552] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:16:38.222Z] [runtime-status] [13552] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13552] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:16:38.224Z] [runtime-status] [13552] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13552] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T11:16:38.225Z] [runtime-status] [13552] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13552] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:16:38.271Z] [runtime-status] [13552] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13552] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T11:16:38.271Z] [runtime-status] [13552] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13552] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:16:38.272Z] [runtime-status] [13552] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13552] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:16:38.273Z] [runtime-status] [13552] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13552] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:16:38.273Z] [runtime-status] [13552] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13552] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:16:38.273Z] [runtime-status] [13552] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13552] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:16:38.476Z] [worker-~diagnostic~-e0e88d1a-4b61-40f0-8d82-b7933adf9065]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-e0e88d1a-4b61-40f0-8d82-b7933adf9065]: IDLE"}}
[debug] [2021-05-17T11:16:50.960Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-05-17T11:16:50.960Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-05-17T11:16:50.960Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=20845 --> api
[debug] [2021-05-17T11:16:50.960Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-05-17T11:16:50.968Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T11:16:50.968Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2021-05-17T11:16:50.968Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T11:16:50.969Z] [worker-api-b32d9999-5f7b-4758-87b8-459cab141ba0]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\15912 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b32d9999-5f7b-4758-87b8-459cab141ba0]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\15912"}}
[debug] [2021-05-17T11:16:50.969Z] [worker-api-b32d9999-5f7b-4758-87b8-459cab141ba0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b32d9999-5f7b-4758-87b8-459cab141ba0]: BUSY"}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648 {"user":"C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-05-17T11:16:51.024Z] [worker-api-50d09f7a-92f2-4355-b1d1-d0f077f9b36d]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-50d09f7a-92f2-4355-b1d1-d0f077f9b36d]: exited"}}
[debug] [2021-05-17T11:16:51.024Z] [worker-api-50d09f7a-92f2-4355-b1d1-d0f077f9b36d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-50d09f7a-92f2-4355-b1d1-d0f077f9b36d]: FINISHED"}}
[debug] [2021-05-17T11:16:51.024Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-05-17T11:16:51.257Z] [runtime-status] [15912] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15912] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T11:16:51.258Z] [runtime-status] [15912] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15912] Disabled runtime features: undefined"}}
[debug] [2021-05-17T11:16:51.261Z] [runtime-status] [15912] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15912] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:16:51.265Z] [runtime-status] [15912] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15912] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:16:51.266Z] [runtime-status] [15912] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15912] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:16:51.268Z] [runtime-status] [15912] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15912] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T11:16:51.268Z] [runtime-status] [15912] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15912] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:16:51.317Z] [runtime-status] [15912] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15912] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T11:16:51.317Z] [runtime-status] [15912] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15912] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:16:51.317Z] [runtime-status] [15912] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15912] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:16:51.318Z] [runtime-status] [15912] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15912] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:16:51.319Z] [runtime-status] [15912] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15912] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:16:51.319Z] [runtime-status] [15912] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15912] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:16:51.484Z] [runtime-status] [15912] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15912] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T11:16:51.485Z] [runtime-status] [15912] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15912] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T11:16:51.486Z] [runtime-status] [15912] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15912] Running api in mode HTTPS"}}
[debug] [2021-05-17T11:16:51.489Z] [runtime-status] [15912] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\15912 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15912] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\15912"}}
[debug] [2021-05-17T11:16:51.492Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T11:16:51.492Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=20845, mapping to path=/payments/create?total=20845 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=20845, mapping to path=/payments/create?total=20845"}}
[debug] [2021-05-17T11:16:51.502Z] [runtime-status] [15912] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15912] Ephemeral server handling POST request"}}
[debug] [2021-05-17T11:16:51.505Z] [runtime-status] [15912] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15912] Ephemeral server survived."}}
[info] >  (node:15912) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:15912) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15912) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at F:\clones\amazon-challenge\functions\index.js:20:19 {"user":"    at F:\\clones\\amazon-challenge\\functions\\index.js:20:19","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\index.js:20:19"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (F:\clones\amazon-challenge\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:15912) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:15912) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15912) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:15912) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15912) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15912) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648 {"user":"C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-05-17T11:17:01.609Z] [worker-api-96183fa2-aac8-4c92-82b1-d91e33908e77]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-96183fa2-aac8-4c92-82b1-d91e33908e77]: exited"}}
[debug] [2021-05-17T11:17:01.609Z] [worker-api-96183fa2-aac8-4c92-82b1-d91e33908e77]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-96183fa2-aac8-4c92-82b1-d91e33908e77]: FINISHED"}}
[debug] [2021-05-17T11:17:01.609Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-17T11:17:20.842Z] File F:\clones\amazon-challenge\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File F:\\clones\\amazon-challenge\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-05-17T11:17:21.850Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-05-17T11:17:21.851Z] [worker-~diagnostic~-e0e88d1a-4b61-40f0-8d82-b7933adf9065]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-e0e88d1a-4b61-40f0-8d82-b7933adf9065]: FINISHING"}}
[debug] [2021-05-17T11:17:21.851Z] [worker-pool] Marking BUSY worker to finish (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (api)"}}
[debug] [2021-05-17T11:17:21.852Z] [worker-api-b32d9999-5f7b-4758-87b8-459cab141ba0]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b32d9999-5f7b-4758-87b8-459cab141ba0]: FINISHING"}}
[debug] [2021-05-17T11:17:21.852Z] [worker-pool] Cleaned up workers for api: 3 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 3 --> 1"}}
[debug] [2021-05-17T11:17:21.867Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-05-17T11:17:21.867Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-05-17T11:17:21.867Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-05-17T11:17:21.867Z] [worker-~diagnostic~-51ab0919-8d7e-48c5-9a50-82a78adcc0b9]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\13212 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-51ab0919-8d7e-48c5-9a50-82a78adcc0b9]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\13212"}}
[debug] [2021-05-17T11:17:21.868Z] [worker-~diagnostic~-51ab0919-8d7e-48c5-9a50-82a78adcc0b9]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-51ab0919-8d7e-48c5-9a50-82a78adcc0b9]: BUSY"}}
[debug] [2021-05-17T11:17:21.869Z] [worker-~diagnostic~-e0e88d1a-4b61-40f0-8d82-b7933adf9065]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-e0e88d1a-4b61-40f0-8d82-b7933adf9065]: exited"}}
[debug] [2021-05-17T11:17:21.869Z] [worker-~diagnostic~-e0e88d1a-4b61-40f0-8d82-b7933adf9065]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-e0e88d1a-4b61-40f0-8d82-b7933adf9065]: FINISHED"}}
[debug] [2021-05-17T11:17:22.158Z] [runtime-status] [13212] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13212] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T11:17:22.160Z] [runtime-status] [13212] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13212] Disabled runtime features: undefined"}}
[debug] [2021-05-17T11:17:22.163Z] [runtime-status] [13212] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13212] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:17:22.165Z] [runtime-status] [13212] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13212] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:17:22.166Z] [runtime-status] [13212] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13212] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:17:22.168Z] [runtime-status] [13212] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13212] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T11:17:22.170Z] [runtime-status] [13212] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13212] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:17:22.222Z] [runtime-status] [13212] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13212] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T11:17:22.223Z] [runtime-status] [13212] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13212] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:17:22.223Z] [runtime-status] [13212] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13212] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:17:22.224Z] [runtime-status] [13212] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13212] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:17:22.225Z] [runtime-status] [13212] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13212] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:17:22.225Z] [runtime-status] [13212] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13212] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:17:22.377Z] [worker-~diagnostic~-51ab0919-8d7e-48c5-9a50-82a78adcc0b9]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-51ab0919-8d7e-48c5-9a50-82a78adcc0b9]: IDLE"}}
[debug] [2021-05-17T11:17:35.299Z] File F:\clones\amazon-challenge\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File F:\\clones\\amazon-challenge\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-05-17T11:17:36.308Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-05-17T11:17:36.309Z] [worker-~diagnostic~-51ab0919-8d7e-48c5-9a50-82a78adcc0b9]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-51ab0919-8d7e-48c5-9a50-82a78adcc0b9]: FINISHING"}}
[debug] [2021-05-17T11:17:36.309Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-05-17T11:17:36.316Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-05-17T11:17:36.316Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-05-17T11:17:36.316Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-05-17T11:17:36.316Z] [worker-~diagnostic~-1e07cbf4-ea67-4254-9158-e4bb78681dfb]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\13584 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-1e07cbf4-ea67-4254-9158-e4bb78681dfb]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\13584"}}
[debug] [2021-05-17T11:17:36.316Z] [worker-~diagnostic~-1e07cbf4-ea67-4254-9158-e4bb78681dfb]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-1e07cbf4-ea67-4254-9158-e4bb78681dfb]: BUSY"}}
[debug] [2021-05-17T11:17:36.317Z] [worker-~diagnostic~-51ab0919-8d7e-48c5-9a50-82a78adcc0b9]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-51ab0919-8d7e-48c5-9a50-82a78adcc0b9]: exited"}}
[debug] [2021-05-17T11:17:36.317Z] [worker-~diagnostic~-51ab0919-8d7e-48c5-9a50-82a78adcc0b9]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-51ab0919-8d7e-48c5-9a50-82a78adcc0b9]: FINISHED"}}
[debug] [2021-05-17T11:17:36.578Z] [runtime-status] [13584] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13584] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T11:17:36.579Z] [runtime-status] [13584] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13584] Disabled runtime features: undefined"}}
[debug] [2021-05-17T11:17:36.582Z] [runtime-status] [13584] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13584] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:17:36.583Z] [runtime-status] [13584] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13584] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:17:36.585Z] [runtime-status] [13584] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13584] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:17:36.586Z] [runtime-status] [13584] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13584] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T11:17:36.587Z] [runtime-status] [13584] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13584] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:17:36.634Z] [runtime-status] [13584] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13584] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T11:17:36.635Z] [runtime-status] [13584] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13584] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:17:36.635Z] [runtime-status] [13584] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13584] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:17:36.636Z] [runtime-status] [13584] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13584] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:17:36.637Z] [runtime-status] [13584] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13584] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:17:36.637Z] [runtime-status] [13584] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13584] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:17:36.781Z] [worker-~diagnostic~-1e07cbf4-ea67-4254-9158-e4bb78681dfb]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-1e07cbf4-ea67-4254-9158-e4bb78681dfb]: IDLE"}}
[debug] [2021-05-17T11:17:37.200Z] File F:\clones\amazon-challenge\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File F:\\clones\\amazon-challenge\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-05-17T11:17:38.203Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-05-17T11:17:38.204Z] [worker-~diagnostic~-1e07cbf4-ea67-4254-9158-e4bb78681dfb]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-1e07cbf4-ea67-4254-9158-e4bb78681dfb]: FINISHING"}}
[debug] [2021-05-17T11:17:38.204Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-05-17T11:17:38.211Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-05-17T11:17:38.211Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-05-17T11:17:38.211Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-05-17T11:17:38.211Z] [worker-~diagnostic~-cfb37145-75c7-458f-a6f0-eb0ead038eb8]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\11908 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-cfb37145-75c7-458f-a6f0-eb0ead038eb8]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\11908"}}
[debug] [2021-05-17T11:17:38.211Z] [worker-~diagnostic~-cfb37145-75c7-458f-a6f0-eb0ead038eb8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-cfb37145-75c7-458f-a6f0-eb0ead038eb8]: BUSY"}}
[debug] [2021-05-17T11:17:38.213Z] [worker-~diagnostic~-1e07cbf4-ea67-4254-9158-e4bb78681dfb]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-1e07cbf4-ea67-4254-9158-e4bb78681dfb]: exited"}}
[debug] [2021-05-17T11:17:38.213Z] [worker-~diagnostic~-1e07cbf4-ea67-4254-9158-e4bb78681dfb]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-1e07cbf4-ea67-4254-9158-e4bb78681dfb]: FINISHED"}}
[debug] [2021-05-17T11:17:38.427Z] [runtime-status] [11908] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11908] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T11:17:38.428Z] [runtime-status] [11908] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11908] Disabled runtime features: undefined"}}
[debug] [2021-05-17T11:17:38.430Z] [runtime-status] [11908] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11908] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:17:38.432Z] [runtime-status] [11908] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11908] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:17:38.433Z] [runtime-status] [11908] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11908] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:17:38.435Z] [runtime-status] [11908] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11908] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T11:17:38.435Z] [runtime-status] [11908] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11908] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:17:38.477Z] [runtime-status] [11908] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11908] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T11:17:38.477Z] [runtime-status] [11908] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11908] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:17:38.478Z] [runtime-status] [11908] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11908] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:17:38.479Z] [runtime-status] [11908] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11908] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:17:38.479Z] [runtime-status] [11908] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11908] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:17:38.479Z] [runtime-status] [11908] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11908] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:17:38.643Z] [worker-~diagnostic~-cfb37145-75c7-458f-a6f0-eb0ead038eb8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-cfb37145-75c7-458f-a6f0-eb0ead038eb8]: IDLE"}}
[debug] [2021-05-17T11:17:41.005Z] File F:\clones\amazon-challenge\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File F:\\clones\\amazon-challenge\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-05-17T11:17:42.017Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-05-17T11:17:42.017Z] [worker-~diagnostic~-cfb37145-75c7-458f-a6f0-eb0ead038eb8]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-cfb37145-75c7-458f-a6f0-eb0ead038eb8]: FINISHING"}}
[debug] [2021-05-17T11:17:42.018Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-05-17T11:17:42.022Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-05-17T11:17:42.023Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-05-17T11:17:42.023Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-05-17T11:17:42.023Z] [worker-~diagnostic~-4b5ea824-fcb6-4f97-9896-fddf8185ebcd]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\16164 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-4b5ea824-fcb6-4f97-9896-fddf8185ebcd]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\16164"}}
[debug] [2021-05-17T11:17:42.023Z] [worker-~diagnostic~-4b5ea824-fcb6-4f97-9896-fddf8185ebcd]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-4b5ea824-fcb6-4f97-9896-fddf8185ebcd]: BUSY"}}
[debug] [2021-05-17T11:17:42.025Z] [worker-~diagnostic~-cfb37145-75c7-458f-a6f0-eb0ead038eb8]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-cfb37145-75c7-458f-a6f0-eb0ead038eb8]: exited"}}
[debug] [2021-05-17T11:17:42.025Z] [worker-~diagnostic~-cfb37145-75c7-458f-a6f0-eb0ead038eb8]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-cfb37145-75c7-458f-a6f0-eb0ead038eb8]: FINISHED"}}
[debug] [2021-05-17T11:17:42.259Z] [runtime-status] [16164] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16164] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T11:17:42.260Z] [runtime-status] [16164] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16164] Disabled runtime features: undefined"}}
[debug] [2021-05-17T11:17:42.263Z] [runtime-status] [16164] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16164] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:17:42.264Z] [runtime-status] [16164] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16164] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:17:42.266Z] [runtime-status] [16164] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16164] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:17:42.268Z] [runtime-status] [16164] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16164] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T11:17:42.268Z] [runtime-status] [16164] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16164] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:17:42.311Z] [runtime-status] [16164] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16164] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T11:17:42.311Z] [runtime-status] [16164] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16164] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:17:42.312Z] [runtime-status] [16164] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16164] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:17:42.313Z] [runtime-status] [16164] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16164] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:17:42.313Z] [runtime-status] [16164] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16164] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:17:42.313Z] [runtime-status] [16164] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16164] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:17:42.466Z] [worker-~diagnostic~-4b5ea824-fcb6-4f97-9896-fddf8185ebcd]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-4b5ea824-fcb6-4f97-9896-fddf8185ebcd]: IDLE"}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648 {"user":"C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-05-17T11:17:51.503Z] [worker-api-b32d9999-5f7b-4758-87b8-459cab141ba0]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b32d9999-5f7b-4758-87b8-459cab141ba0]: exited"}}
[debug] [2021-05-17T11:17:51.503Z] [worker-api-b32d9999-5f7b-4758-87b8-459cab141ba0]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b32d9999-5f7b-4758-87b8-459cab141ba0]: FINISHED"}}
[debug] [2021-05-17T11:17:51.503Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-17T11:18:00.159Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-17T11:18:00.159Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-17T11:18:00.159Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=0 --> api
[debug] [2021-05-17T11:18:00.159Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-05-17T11:18:00.159Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-05-17T11:18:00.170Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T11:18:00.170Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-05-17T11:18:00.170Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T11:18:00.170Z] [worker-api-b1677710-ca8f-4003-a8a1-4dde59f9c73e]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\16348 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b1677710-ca8f-4003-a8a1-4dde59f9c73e]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\16348"}}
[debug] [2021-05-17T11:18:00.170Z] [worker-api-b1677710-ca8f-4003-a8a1-4dde59f9c73e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b1677710-ca8f-4003-a8a1-4dde59f9c73e]: BUSY"}}
[debug] [2021-05-17T11:18:00.816Z] [runtime-status] [16348] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16348] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T11:18:00.817Z] [runtime-status] [16348] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16348] Disabled runtime features: undefined"}}
[debug] [2021-05-17T11:18:00.820Z] [runtime-status] [16348] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16348] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:18:00.821Z] [runtime-status] [16348] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16348] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:18:00.823Z] [runtime-status] [16348] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16348] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:18:00.825Z] [runtime-status] [16348] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16348] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T11:18:00.826Z] [runtime-status] [16348] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16348] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:18:00.872Z] [runtime-status] [16348] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16348] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T11:18:00.872Z] [runtime-status] [16348] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16348] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:18:00.873Z] [runtime-status] [16348] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16348] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:18:00.874Z] [runtime-status] [16348] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16348] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:18:00.874Z] [runtime-status] [16348] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16348] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:18:00.874Z] [runtime-status] [16348] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16348] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:18:01.149Z] [runtime-status] [16348] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16348] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T11:18:01.152Z] [runtime-status] [16348] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16348] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T11:18:01.152Z] [runtime-status] [16348] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16348] Running api in mode HTTPS"}}
[debug] [2021-05-17T11:18:01.158Z] [runtime-status] [16348] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\16348 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16348] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\16348"}}
[debug] [2021-05-17T11:18:01.164Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T11:18:01.164Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-05-17T11:18:01.172Z] [runtime-status] [16348] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16348] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved For The Amount 0 {"user":"Payment Request Recieved For The Amount 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Recieved For The Amount 0"}}
[debug] [2021-05-17T11:18:01.179Z] [runtime-status] [16348] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16348] Ephemeral server survived."}}
[info] >  (node:16348) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:16348) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16348) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at F:\clones\amazon-challenge\functions\index.js:24:53 {"user":"    at F:\\clones\\amazon-challenge\\functions\\index.js:24:53","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\index.js:24:53"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (F:\clones\amazon-challenge\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:16348) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:16348) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16348) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:16348) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:16348) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16348) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-05-17T11:18:09.491Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-05-17T11:18:09.492Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-05-17T11:18:09.492Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=22844 --> api
[debug] [2021-05-17T11:18:09.501Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T11:18:09.502Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-05-17T11:18:09.502Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T11:18:09.502Z] [worker-api-c3a9d830-eef2-4114-b318-cd7d0475e54d]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\13928 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c3a9d830-eef2-4114-b318-cd7d0475e54d]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\13928"}}
[debug] [2021-05-17T11:18:09.502Z] [worker-api-c3a9d830-eef2-4114-b318-cd7d0475e54d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c3a9d830-eef2-4114-b318-cd7d0475e54d]: BUSY"}}
[debug] [2021-05-17T11:18:09.772Z] [runtime-status] [13928] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13928] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T11:18:09.773Z] [runtime-status] [13928] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13928] Disabled runtime features: undefined"}}
[debug] [2021-05-17T11:18:09.776Z] [runtime-status] [13928] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13928] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:18:09.778Z] [runtime-status] [13928] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13928] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:18:09.779Z] [runtime-status] [13928] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13928] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:18:09.781Z] [runtime-status] [13928] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13928] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T11:18:09.782Z] [runtime-status] [13928] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13928] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:18:09.828Z] [runtime-status] [13928] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13928] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T11:18:09.828Z] [runtime-status] [13928] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13928] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:18:09.828Z] [runtime-status] [13928] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13928] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:18:09.829Z] [runtime-status] [13928] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13928] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:18:09.830Z] [runtime-status] [13928] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13928] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:18:09.830Z] [runtime-status] [13928] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13928] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:18:09.985Z] [runtime-status] [13928] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13928] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T11:18:09.986Z] [runtime-status] [13928] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13928] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T11:18:09.986Z] [runtime-status] [13928] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13928] Running api in mode HTTPS"}}
[debug] [2021-05-17T11:18:09.990Z] [runtime-status] [13928] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\13928 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13928] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\13928"}}
[debug] [2021-05-17T11:18:09.992Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T11:18:09.993Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=22844, mapping to path=/payments/create?total=22844 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=22844, mapping to path=/payments/create?total=22844"}}
[debug] [2021-05-17T11:18:10.001Z] [runtime-status] [13928] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13928] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved For The Amount 22844 {"user":"Payment Request Recieved For The Amount 22844","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Recieved For The Amount 22844"}}
[debug] [2021-05-17T11:18:10.005Z] [runtime-status] [13928] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13928] Ephemeral server survived."}}
[info] >  (node:13928) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:13928) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:13928) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at F:\clones\amazon-challenge\functions\index.js:24:53 {"user":"    at F:\\clones\\amazon-challenge\\functions\\index.js:24:53","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\index.js:24:53"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (F:\clones\amazon-challenge\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:13928) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:13928) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:13928) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:13928) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:13928) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:13928) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648 {"user":"C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-05-17T11:19:01.168Z] [worker-api-b1677710-ca8f-4003-a8a1-4dde59f9c73e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b1677710-ca8f-4003-a8a1-4dde59f9c73e]: exited"}}
[debug] [2021-05-17T11:19:01.168Z] [worker-api-b1677710-ca8f-4003-a8a1-4dde59f9c73e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b1677710-ca8f-4003-a8a1-4dde59f9c73e]: FINISHED"}}
[debug] [2021-05-17T11:19:01.168Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648 {"user":"C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-05-17T11:19:10.008Z] [worker-api-c3a9d830-eef2-4114-b318-cd7d0475e54d]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c3a9d830-eef2-4114-b318-cd7d0475e54d]: exited"}}
[debug] [2021-05-17T11:19:10.008Z] [worker-api-c3a9d830-eef2-4114-b318-cd7d0475e54d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c3a9d830-eef2-4114-b318-cd7d0475e54d]: FINISHED"}}
[debug] [2021-05-17T11:19:10.008Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-17T11:24:13.610Z] File F:\clones\amazon-challenge\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File F:\\clones\\amazon-challenge\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-05-17T11:24:14.610Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-05-17T11:24:14.611Z] [worker-~diagnostic~-4b5ea824-fcb6-4f97-9896-fddf8185ebcd]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-4b5ea824-fcb6-4f97-9896-fddf8185ebcd]: FINISHING"}}
[debug] [2021-05-17T11:24:14.611Z] [worker-pool] Cleaned up workers for api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 0"}}
[debug] [2021-05-17T11:24:14.648Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-05-17T11:24:14.648Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-05-17T11:24:14.649Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-05-17T11:24:14.649Z] [worker-~diagnostic~-c41da4b7-d15b-4f82-ab32-5b6fd2cfc878]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\10176 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-c41da4b7-d15b-4f82-ab32-5b6fd2cfc878]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\10176"}}
[debug] [2021-05-17T11:24:14.649Z] [worker-~diagnostic~-c41da4b7-d15b-4f82-ab32-5b6fd2cfc878]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-c41da4b7-d15b-4f82-ab32-5b6fd2cfc878]: BUSY"}}
[debug] [2021-05-17T11:24:14.650Z] [worker-~diagnostic~-4b5ea824-fcb6-4f97-9896-fddf8185ebcd]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-4b5ea824-fcb6-4f97-9896-fddf8185ebcd]: exited"}}
[debug] [2021-05-17T11:24:14.650Z] [worker-~diagnostic~-4b5ea824-fcb6-4f97-9896-fddf8185ebcd]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-4b5ea824-fcb6-4f97-9896-fddf8185ebcd]: FINISHED"}}
[debug] [2021-05-17T11:24:17.060Z] [runtime-status] [10176] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10176] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T11:24:17.062Z] [runtime-status] [10176] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10176] Disabled runtime features: undefined"}}
[debug] [2021-05-17T11:24:17.064Z] [runtime-status] [10176] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10176] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:24:17.065Z] [runtime-status] [10176] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10176] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:24:17.067Z] [runtime-status] [10176] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10176] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:24:17.069Z] [runtime-status] [10176] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10176] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T11:24:17.069Z] [runtime-status] [10176] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10176] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:24:17.932Z] [runtime-status] [10176] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10176] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T11:24:17.932Z] [runtime-status] [10176] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10176] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:24:17.932Z] [runtime-status] [10176] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10176] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:24:17.934Z] [runtime-status] [10176] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10176] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:24:17.934Z] [runtime-status] [10176] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10176] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:24:17.934Z] [runtime-status] [10176] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10176] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:24:19.616Z] [worker-~diagnostic~-c41da4b7-d15b-4f82-ab32-5b6fd2cfc878]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-c41da4b7-d15b-4f82-ab32-5b6fd2cfc878]: IDLE"}}
[debug] [2021-05-17T11:24:24.466Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-17T11:24:24.466Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-17T11:24:24.466Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=0 --> api
[debug] [2021-05-17T11:24:24.466Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-05-17T11:24:24.473Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T11:24:24.473Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-05-17T11:24:24.473Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T11:24:24.473Z] [worker-api-67458a13-2de6-4950-9522-53c51891de13]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\5204 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-67458a13-2de6-4950-9522-53c51891de13]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\5204"}}
[debug] [2021-05-17T11:24:24.473Z] [worker-api-67458a13-2de6-4950-9522-53c51891de13]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-67458a13-2de6-4950-9522-53c51891de13]: BUSY"}}
[debug] [2021-05-17T11:24:24.723Z] [runtime-status] [5204] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5204] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T11:24:24.724Z] [runtime-status] [5204] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5204] Disabled runtime features: undefined"}}
[debug] [2021-05-17T11:24:24.726Z] [runtime-status] [5204] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5204] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:24:24.728Z] [runtime-status] [5204] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5204] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:24:24.729Z] [runtime-status] [5204] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5204] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:24:24.731Z] [runtime-status] [5204] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5204] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T11:24:24.731Z] [runtime-status] [5204] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5204] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:24:24.774Z] [runtime-status] [5204] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5204] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T11:24:24.775Z] [runtime-status] [5204] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5204] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:24:24.775Z] [runtime-status] [5204] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5204] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:24:24.776Z] [runtime-status] [5204] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5204] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:24:24.777Z] [runtime-status] [5204] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5204] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:24:24.777Z] [runtime-status] [5204] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5204] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:24:24.969Z] [runtime-status] [5204] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5204] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T11:24:24.971Z] [runtime-status] [5204] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5204] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T11:24:24.971Z] [runtime-status] [5204] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5204] Running api in mode HTTPS"}}
[debug] [2021-05-17T11:24:24.973Z] [runtime-status] [5204] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\5204 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5204] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\5204"}}
[debug] [2021-05-17T11:24:24.976Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T11:24:24.977Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-05-17T11:24:24.985Z] [runtime-status] [5204] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5204] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  0 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  0"}}
[debug] [2021-05-17T11:24:25.040Z] [runtime-status] [5204] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5204] Ephemeral server survived."}}
[info] >  (node:5204) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:5204) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:5204) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (F:\clones\amazon-challenge\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (F:\\clones\\amazon-challenge\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (F:\\clones\\amazon-challenge\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (F:\clones\amazon-challenge\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (F:\\clones\\amazon-challenge\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (F:\\clones\\amazon-challenge\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:5204) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:5204) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:5204) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:5204) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:5204) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:5204) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-05-17T11:24:31.654Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-05-17T11:24:31.655Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-05-17T11:24:31.655Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=20845 --> api
[debug] [2021-05-17T11:24:31.916Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T11:24:31.916Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-05-17T11:24:31.916Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T11:24:31.917Z] [worker-api-f946ed77-4a0f-41ed-9bdd-35c0f6a56b06]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\6440 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f946ed77-4a0f-41ed-9bdd-35c0f6a56b06]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\6440"}}
[debug] [2021-05-17T11:24:31.917Z] [worker-api-f946ed77-4a0f-41ed-9bdd-35c0f6a56b06]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f946ed77-4a0f-41ed-9bdd-35c0f6a56b06]: BUSY"}}
[debug] [2021-05-17T11:24:32.138Z] [runtime-status] [6440] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6440] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T11:24:32.139Z] [runtime-status] [6440] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6440] Disabled runtime features: undefined"}}
[debug] [2021-05-17T11:24:32.141Z] [runtime-status] [6440] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6440] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:24:32.142Z] [runtime-status] [6440] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6440] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:24:32.145Z] [runtime-status] [6440] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6440] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:24:32.147Z] [runtime-status] [6440] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6440] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T11:24:32.148Z] [runtime-status] [6440] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6440] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:24:32.192Z] [runtime-status] [6440] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6440] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T11:24:32.192Z] [runtime-status] [6440] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6440] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:24:32.192Z] [runtime-status] [6440] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6440] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:24:32.193Z] [runtime-status] [6440] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6440] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:24:32.194Z] [runtime-status] [6440] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6440] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:24:32.194Z] [runtime-status] [6440] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6440] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:24:32.373Z] [runtime-status] [6440] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6440] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T11:24:32.374Z] [runtime-status] [6440] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6440] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T11:24:32.375Z] [runtime-status] [6440] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6440] Running api in mode HTTPS"}}
[debug] [2021-05-17T11:24:32.380Z] [runtime-status] [6440] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\6440 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6440] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\6440"}}
[debug] [2021-05-17T11:24:32.384Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T11:24:32.385Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=20845, mapping to path=/payments/create?total=20845 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=20845, mapping to path=/payments/create?total=20845"}}
[debug] [2021-05-17T11:24:32.393Z] [runtime-status] [6440] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6440] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  20845 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  20845","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  20845"}}
[debug] [2021-05-17T11:24:32.408Z] [runtime-status] [6440] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6440] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-05-17T11:24:33.342Z] [worker-api-f946ed77-4a0f-41ed-9bdd-35c0f6a56b06]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f946ed77-4a0f-41ed-9bdd-35c0f6a56b06]: IDLE"}}
[debug] [2021-05-17T11:24:33.342Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-17T11:24:58.395Z] File F:\clones\amazon-challenge\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File F:\\clones\\amazon-challenge\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-05-17T11:24:59.402Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-05-17T11:24:59.402Z] [worker-~diagnostic~-c41da4b7-d15b-4f82-ab32-5b6fd2cfc878]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-c41da4b7-d15b-4f82-ab32-5b6fd2cfc878]: FINISHING"}}
[debug] [2021-05-17T11:24:59.402Z] [worker-pool] Marking BUSY worker to finish (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (api)"}}
[debug] [2021-05-17T11:24:59.402Z] [worker-api-67458a13-2de6-4950-9522-53c51891de13]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-67458a13-2de6-4950-9522-53c51891de13]: FINISHING"}}
[debug] [2021-05-17T11:24:59.402Z] [worker-pool] Shutting down IDLE worker (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (api)"}}
[debug] [2021-05-17T11:24:59.402Z] [worker-api-f946ed77-4a0f-41ed-9bdd-35c0f6a56b06]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f946ed77-4a0f-41ed-9bdd-35c0f6a56b06]: FINISHING"}}
[debug] [2021-05-17T11:24:59.408Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-05-17T11:24:59.409Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-05-17T11:24:59.409Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-05-17T11:24:59.409Z] [worker-~diagnostic~-04d63fab-550b-4250-b8eb-5247039d6070]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\11804 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-04d63fab-550b-4250-b8eb-5247039d6070]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\11804"}}
[debug] [2021-05-17T11:24:59.409Z] [worker-~diagnostic~-04d63fab-550b-4250-b8eb-5247039d6070]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-04d63fab-550b-4250-b8eb-5247039d6070]: BUSY"}}
[debug] [2021-05-17T11:24:59.410Z] [worker-~diagnostic~-c41da4b7-d15b-4f82-ab32-5b6fd2cfc878]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-c41da4b7-d15b-4f82-ab32-5b6fd2cfc878]: exited"}}
[debug] [2021-05-17T11:24:59.410Z] [worker-~diagnostic~-c41da4b7-d15b-4f82-ab32-5b6fd2cfc878]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-c41da4b7-d15b-4f82-ab32-5b6fd2cfc878]: FINISHED"}}
[debug] [2021-05-17T11:24:59.410Z] [worker-api-f946ed77-4a0f-41ed-9bdd-35c0f6a56b06]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f946ed77-4a0f-41ed-9bdd-35c0f6a56b06]: exited"}}
[debug] [2021-05-17T11:24:59.411Z] [worker-api-f946ed77-4a0f-41ed-9bdd-35c0f6a56b06]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f946ed77-4a0f-41ed-9bdd-35c0f6a56b06]: FINISHED"}}
[debug] [2021-05-17T11:24:59.723Z] [runtime-status] [11804] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11804] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T11:24:59.724Z] [runtime-status] [11804] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11804] Disabled runtime features: undefined"}}
[debug] [2021-05-17T11:24:59.727Z] [runtime-status] [11804] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11804] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:24:59.729Z] [runtime-status] [11804] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11804] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:24:59.731Z] [runtime-status] [11804] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11804] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:24:59.732Z] [runtime-status] [11804] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11804] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T11:24:59.733Z] [runtime-status] [11804] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11804] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:24:59.797Z] [runtime-status] [11804] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11804] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T11:24:59.797Z] [runtime-status] [11804] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11804] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:24:59.800Z] [runtime-status] [11804] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11804] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:24:59.801Z] [runtime-status] [11804] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11804] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:24:59.802Z] [runtime-status] [11804] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11804] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:24:59.802Z] [runtime-status] [11804] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11804] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:25:00.092Z] [worker-~diagnostic~-04d63fab-550b-4250-b8eb-5247039d6070]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-04d63fab-550b-4250-b8eb-5247039d6070]: IDLE"}}
[debug] [2021-05-17T11:25:02.682Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-05-17T11:25:02.682Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-05-17T11:25:02.682Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=0 --> api
[debug] [2021-05-17T11:25:02.682Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-05-17T11:25:02.682Z] [worker-pool] Cleaned up workers for api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 1"}}
[debug] [2021-05-17T11:25:02.688Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T11:25:02.688Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-05-17T11:25:02.688Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T11:25:02.688Z] [worker-api-c5cd8f8b-f5bb-4413-8a6c-eb1f3311132e]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\8744 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c5cd8f8b-f5bb-4413-8a6c-eb1f3311132e]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\8744"}}
[debug] [2021-05-17T11:25:02.688Z] [worker-api-c5cd8f8b-f5bb-4413-8a6c-eb1f3311132e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c5cd8f8b-f5bb-4413-8a6c-eb1f3311132e]: BUSY"}}
[debug] [2021-05-17T11:25:03.023Z] [runtime-status] [8744] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8744] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T11:25:03.025Z] [runtime-status] [8744] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8744] Disabled runtime features: undefined"}}
[debug] [2021-05-17T11:25:03.031Z] [runtime-status] [8744] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8744] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:25:03.033Z] [runtime-status] [8744] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8744] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:25:03.034Z] [runtime-status] [8744] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8744] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:25:03.036Z] [runtime-status] [8744] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8744] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T11:25:03.037Z] [runtime-status] [8744] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8744] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:25:03.096Z] [runtime-status] [8744] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8744] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T11:25:03.097Z] [runtime-status] [8744] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8744] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:25:03.097Z] [runtime-status] [8744] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8744] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:25:03.098Z] [runtime-status] [8744] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8744] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:25:03.099Z] [runtime-status] [8744] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8744] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:25:03.099Z] [runtime-status] [8744] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8744] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:25:03.307Z] [runtime-status] [8744] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8744] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T11:25:03.308Z] [runtime-status] [8744] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8744] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T11:25:03.309Z] [runtime-status] [8744] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8744] Running api in mode HTTPS"}}
[debug] [2021-05-17T11:25:03.317Z] [runtime-status] [8744] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\8744 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8744] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\8744"}}
[debug] [2021-05-17T11:25:03.320Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T11:25:03.321Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-05-17T11:25:03.331Z] [runtime-status] [8744] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8744] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved For The Amount 0 {"user":"Payment Request Recieved For The Amount 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Recieved For The Amount 0"}}
[debug] [2021-05-17T11:25:03.339Z] [runtime-status] [8744] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8744] Ephemeral server survived."}}
[info] >  (node:8744) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:8744) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8744) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at F:\clones\amazon-challenge\functions\index.js:24:53 {"user":"    at F:\\clones\\amazon-challenge\\functions\\index.js:24:53","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\index.js:24:53"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (F:\clones\amazon-challenge\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:8744) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:8744) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8744) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:8744) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:8744) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8744) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-05-17T11:25:12.149Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-05-17T11:25:12.149Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-05-17T11:25:12.149Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=20845 --> api
[debug] [2021-05-17T11:25:12.155Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T11:25:12.155Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2021-05-17T11:25:12.155Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T11:25:12.155Z] [worker-api-7cfd06f5-f2c1-4c50-9006-6a64fd5028b5]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\11324 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7cfd06f5-f2c1-4c50-9006-6a64fd5028b5]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\11324"}}
[debug] [2021-05-17T11:25:12.156Z] [worker-api-7cfd06f5-f2c1-4c50-9006-6a64fd5028b5]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7cfd06f5-f2c1-4c50-9006-6a64fd5028b5]: BUSY"}}
[debug] [2021-05-17T11:25:12.371Z] [runtime-status] [11324] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11324] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T11:25:12.373Z] [runtime-status] [11324] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11324] Disabled runtime features: undefined"}}
[debug] [2021-05-17T11:25:12.375Z] [runtime-status] [11324] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11324] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:25:12.376Z] [runtime-status] [11324] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11324] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:25:12.378Z] [runtime-status] [11324] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11324] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:25:12.379Z] [runtime-status] [11324] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11324] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T11:25:12.380Z] [runtime-status] [11324] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11324] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:25:12.422Z] [runtime-status] [11324] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11324] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T11:25:12.422Z] [runtime-status] [11324] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11324] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:25:12.423Z] [runtime-status] [11324] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11324] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:25:12.424Z] [runtime-status] [11324] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11324] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:25:12.424Z] [runtime-status] [11324] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11324] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:25:12.425Z] [runtime-status] [11324] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11324] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:25:12.578Z] [runtime-status] [11324] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11324] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T11:25:12.579Z] [runtime-status] [11324] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11324] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T11:25:12.579Z] [runtime-status] [11324] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11324] Running api in mode HTTPS"}}
[debug] [2021-05-17T11:25:12.582Z] [runtime-status] [11324] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\11324 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11324] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\11324"}}
[debug] [2021-05-17T11:25:12.588Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T11:25:12.588Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=20845, mapping to path=/payments/create?total=20845 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=20845, mapping to path=/payments/create?total=20845"}}
[debug] [2021-05-17T11:25:12.596Z] [runtime-status] [11324] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11324] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved For The Amount 20845 {"user":"Payment Request Recieved For The Amount 20845","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Recieved For The Amount 20845"}}
[debug] [2021-05-17T11:25:12.600Z] [runtime-status] [11324] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11324] Ephemeral server survived."}}
[info] >  (node:11324) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:11324) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:11324) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at F:\clones\amazon-challenge\functions\index.js:24:53 {"user":"    at F:\\clones\\amazon-challenge\\functions\\index.js:24:53","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\index.js:24:53"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (F:\clones\amazon-challenge\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (F:\\clones\\amazon-challenge\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (F:\clones\amazon-challenge\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (F:\\clones\\amazon-challenge\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:11324) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:11324) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:11324) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:11324) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:11324) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:11324) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648 {"user":"C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-05-17T11:25:24.987Z] [worker-api-67458a13-2de6-4950-9522-53c51891de13]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-67458a13-2de6-4950-9522-53c51891de13]: exited"}}
[debug] [2021-05-17T11:25:24.987Z] [worker-api-67458a13-2de6-4950-9522-53c51891de13]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-67458a13-2de6-4950-9522-53c51891de13]: FINISHED"}}
[debug] [2021-05-17T11:25:24.987Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648 {"user":"C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-05-17T11:26:03.359Z] [worker-api-c5cd8f8b-f5bb-4413-8a6c-eb1f3311132e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c5cd8f8b-f5bb-4413-8a6c-eb1f3311132e]: exited"}}
[debug] [2021-05-17T11:26:03.359Z] [worker-api-c5cd8f8b-f5bb-4413-8a6c-eb1f3311132e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c5cd8f8b-f5bb-4413-8a6c-eb1f3311132e]: FINISHED"}}
[debug] [2021-05-17T11:26:03.359Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648 {"user":"C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-05-17T11:26:12.629Z] [worker-api-7cfd06f5-f2c1-4c50-9006-6a64fd5028b5]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7cfd06f5-f2c1-4c50-9006-6a64fd5028b5]: exited"}}
[debug] [2021-05-17T11:26:12.629Z] [worker-api-7cfd06f5-f2c1-4c50-9006-6a64fd5028b5]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7cfd06f5-f2c1-4c50-9006-6a64fd5028b5]: FINISHED"}}
[debug] [2021-05-17T11:26:12.629Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-17T11:26:57.349Z] File F:\clones\amazon-challenge\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File F:\\clones\\amazon-challenge\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-05-17T11:26:58.353Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-05-17T11:26:58.354Z] [worker-~diagnostic~-04d63fab-550b-4250-b8eb-5247039d6070]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-04d63fab-550b-4250-b8eb-5247039d6070]: FINISHING"}}
[debug] [2021-05-17T11:26:58.355Z] [worker-pool] Cleaned up workers for api: 3 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 3 --> 0"}}
[debug] [2021-05-17T11:26:58.370Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-05-17T11:26:58.370Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-05-17T11:26:58.370Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-05-17T11:26:58.370Z] [worker-~diagnostic~-0b809fb9-26d8-4a6f-870b-1d36a67e93e4]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\3140 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0b809fb9-26d8-4a6f-870b-1d36a67e93e4]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\3140"}}
[debug] [2021-05-17T11:26:58.371Z] [worker-~diagnostic~-0b809fb9-26d8-4a6f-870b-1d36a67e93e4]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0b809fb9-26d8-4a6f-870b-1d36a67e93e4]: BUSY"}}
[debug] [2021-05-17T11:26:58.372Z] [worker-~diagnostic~-04d63fab-550b-4250-b8eb-5247039d6070]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-04d63fab-550b-4250-b8eb-5247039d6070]: exited"}}
[debug] [2021-05-17T11:26:58.372Z] [worker-~diagnostic~-04d63fab-550b-4250-b8eb-5247039d6070]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-04d63fab-550b-4250-b8eb-5247039d6070]: FINISHED"}}
[debug] [2021-05-17T11:26:58.638Z] [runtime-status] [3140] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [3140] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T11:26:58.640Z] [runtime-status] [3140] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [3140] Disabled runtime features: undefined"}}
[debug] [2021-05-17T11:26:58.643Z] [runtime-status] [3140] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [3140] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:26:58.644Z] [runtime-status] [3140] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [3140] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:26:58.645Z] [runtime-status] [3140] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [3140] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:26:58.647Z] [runtime-status] [3140] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [3140] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T11:26:58.648Z] [runtime-status] [3140] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [3140] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:26:58.698Z] [runtime-status] [3140] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [3140] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T11:26:58.698Z] [runtime-status] [3140] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [3140] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:26:58.699Z] [runtime-status] [3140] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [3140] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:26:58.700Z] [runtime-status] [3140] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [3140] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:26:58.701Z] [runtime-status] [3140] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [3140] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:26:58.701Z] [runtime-status] [3140] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [3140] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:26:58.883Z] [worker-~diagnostic~-0b809fb9-26d8-4a6f-870b-1d36a67e93e4]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0b809fb9-26d8-4a6f-870b-1d36a67e93e4]: IDLE"}}
[debug] [2021-05-17T11:27:08.685Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-17T11:27:08.685Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-17T11:27:08.685Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=22844 --> api
[debug] [2021-05-17T11:27:08.686Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-05-17T11:27:08.703Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T11:27:08.703Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-05-17T11:27:08.703Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T11:27:08.704Z] [worker-api-6ce94dbc-a387-42d8-ba05-0068bfa9640e]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\14888 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6ce94dbc-a387-42d8-ba05-0068bfa9640e]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\14888"}}
[debug] [2021-05-17T11:27:08.704Z] [worker-api-6ce94dbc-a387-42d8-ba05-0068bfa9640e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6ce94dbc-a387-42d8-ba05-0068bfa9640e]: BUSY"}}
[debug] [2021-05-17T11:27:08.957Z] [runtime-status] [14888] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14888] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T11:27:08.958Z] [runtime-status] [14888] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14888] Disabled runtime features: undefined"}}
[debug] [2021-05-17T11:27:08.960Z] [runtime-status] [14888] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14888] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:27:08.962Z] [runtime-status] [14888] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14888] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:27:08.963Z] [runtime-status] [14888] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14888] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:27:08.965Z] [runtime-status] [14888] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14888] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T11:27:08.965Z] [runtime-status] [14888] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14888] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:27:09.006Z] [runtime-status] [14888] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14888] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T11:27:09.006Z] [runtime-status] [14888] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14888] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:27:09.007Z] [runtime-status] [14888] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14888] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:27:09.008Z] [runtime-status] [14888] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14888] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:27:09.008Z] [runtime-status] [14888] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14888] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:27:09.009Z] [runtime-status] [14888] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14888] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:27:09.152Z] [runtime-status] [14888] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14888] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T11:27:09.154Z] [runtime-status] [14888] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14888] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T11:27:09.154Z] [runtime-status] [14888] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14888] Running api in mode HTTPS"}}
[debug] [2021-05-17T11:27:09.157Z] [runtime-status] [14888] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\14888 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14888] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\14888"}}
[debug] [2021-05-17T11:27:09.159Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T11:27:09.160Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=22844, mapping to path=/payments/create?total=22844 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=22844, mapping to path=/payments/create?total=22844"}}
[debug] [2021-05-17T11:27:09.167Z] [runtime-status] [14888] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14888] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved For The Amount 22844 {"user":"Payment Request Recieved For The Amount 22844","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Recieved For The Amount 22844"}}
[debug] [2021-05-17T11:27:09.179Z] [runtime-status] [14888] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14888] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-05-17T11:27:10.398Z] [worker-api-6ce94dbc-a387-42d8-ba05-0068bfa9640e]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6ce94dbc-a387-42d8-ba05-0068bfa9640e]: IDLE"}}
[debug] [2021-05-17T11:27:10.398Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-17T11:27:25.908Z] File F:\clones\amazon-challenge\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File F:\\clones\\amazon-challenge\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-05-17T11:27:26.918Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-05-17T11:27:26.918Z] [worker-~diagnostic~-0b809fb9-26d8-4a6f-870b-1d36a67e93e4]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0b809fb9-26d8-4a6f-870b-1d36a67e93e4]: FINISHING"}}
[debug] [2021-05-17T11:27:26.919Z] [worker-pool] Shutting down IDLE worker (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (api)"}}
[debug] [2021-05-17T11:27:26.919Z] [worker-api-6ce94dbc-a387-42d8-ba05-0068bfa9640e]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6ce94dbc-a387-42d8-ba05-0068bfa9640e]: FINISHING"}}
[debug] [2021-05-17T11:27:26.935Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-05-17T11:27:26.935Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-05-17T11:27:26.935Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-05-17T11:27:26.936Z] [worker-~diagnostic~-1e5d2383-5cbe-46a5-904a-d82b89309191]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\7080 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-1e5d2383-5cbe-46a5-904a-d82b89309191]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\7080"}}
[debug] [2021-05-17T11:27:26.936Z] [worker-~diagnostic~-1e5d2383-5cbe-46a5-904a-d82b89309191]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-1e5d2383-5cbe-46a5-904a-d82b89309191]: BUSY"}}
[debug] [2021-05-17T11:27:26.942Z] [worker-~diagnostic~-0b809fb9-26d8-4a6f-870b-1d36a67e93e4]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0b809fb9-26d8-4a6f-870b-1d36a67e93e4]: exited"}}
[debug] [2021-05-17T11:27:26.942Z] [worker-~diagnostic~-0b809fb9-26d8-4a6f-870b-1d36a67e93e4]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0b809fb9-26d8-4a6f-870b-1d36a67e93e4]: FINISHED"}}
[debug] [2021-05-17T11:27:26.943Z] [worker-api-6ce94dbc-a387-42d8-ba05-0068bfa9640e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6ce94dbc-a387-42d8-ba05-0068bfa9640e]: exited"}}
[debug] [2021-05-17T11:27:26.944Z] [worker-api-6ce94dbc-a387-42d8-ba05-0068bfa9640e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6ce94dbc-a387-42d8-ba05-0068bfa9640e]: FINISHED"}}
[debug] [2021-05-17T11:27:27.217Z] [runtime-status] [7080] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7080] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T11:27:27.218Z] [runtime-status] [7080] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7080] Disabled runtime features: undefined"}}
[debug] [2021-05-17T11:27:27.221Z] [runtime-status] [7080] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7080] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:27:27.223Z] [runtime-status] [7080] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7080] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:27:27.225Z] [runtime-status] [7080] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7080] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:27:27.228Z] [runtime-status] [7080] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7080] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T11:27:27.228Z] [runtime-status] [7080] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7080] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:27:27.283Z] [runtime-status] [7080] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7080] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T11:27:27.284Z] [runtime-status] [7080] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7080] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:27:27.285Z] [runtime-status] [7080] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7080] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:27:27.286Z] [runtime-status] [7080] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7080] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:27:27.286Z] [runtime-status] [7080] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7080] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:27:27.287Z] [runtime-status] [7080] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7080] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:27:27.435Z] [worker-~diagnostic~-1e5d2383-5cbe-46a5-904a-d82b89309191]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-1e5d2383-5cbe-46a5-904a-d82b89309191]: IDLE"}}
[debug] [2021-05-17T11:27:53.781Z] File F:\clones\amazon-challenge\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File F:\\clones\\amazon-challenge\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-05-17T11:27:54.784Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-05-17T11:27:54.785Z] [worker-~diagnostic~-1e5d2383-5cbe-46a5-904a-d82b89309191]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-1e5d2383-5cbe-46a5-904a-d82b89309191]: FINISHING"}}
[debug] [2021-05-17T11:27:54.786Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-05-17T11:27:54.786Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-05-17T11:27:54.823Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-05-17T11:27:54.823Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-05-17T11:27:54.823Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-05-17T11:27:54.823Z] [worker-~diagnostic~-1e196fcc-20bb-4fe5-8988-c5e3503a9f55]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\12996 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-1e196fcc-20bb-4fe5-8988-c5e3503a9f55]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\12996"}}
[debug] [2021-05-17T11:27:54.823Z] [worker-~diagnostic~-1e196fcc-20bb-4fe5-8988-c5e3503a9f55]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-1e196fcc-20bb-4fe5-8988-c5e3503a9f55]: BUSY"}}
[debug] [2021-05-17T11:27:54.824Z] [worker-~diagnostic~-1e5d2383-5cbe-46a5-904a-d82b89309191]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-1e5d2383-5cbe-46a5-904a-d82b89309191]: exited"}}
[debug] [2021-05-17T11:27:54.824Z] [worker-~diagnostic~-1e5d2383-5cbe-46a5-904a-d82b89309191]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-1e5d2383-5cbe-46a5-904a-d82b89309191]: FINISHED"}}
[debug] [2021-05-17T11:27:55.141Z] [runtime-status] [12996] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12996] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T11:27:55.143Z] [runtime-status] [12996] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12996] Disabled runtime features: undefined"}}
[debug] [2021-05-17T11:27:55.147Z] [runtime-status] [12996] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12996] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:27:55.149Z] [runtime-status] [12996] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12996] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:27:55.152Z] [runtime-status] [12996] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12996] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:27:55.155Z] [runtime-status] [12996] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12996] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T11:27:55.155Z] [runtime-status] [12996] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12996] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:27:55.202Z] [runtime-status] [12996] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12996] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T11:27:55.202Z] [runtime-status] [12996] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12996] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:27:55.203Z] [runtime-status] [12996] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12996] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:27:55.204Z] [runtime-status] [12996] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12996] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:27:55.204Z] [runtime-status] [12996] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12996] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:27:55.204Z] [runtime-status] [12996] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12996] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:27:55.353Z] [worker-~diagnostic~-1e196fcc-20bb-4fe5-8988-c5e3503a9f55]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-1e196fcc-20bb-4fe5-8988-c5e3503a9f55]: IDLE"}}
[debug] [2021-05-17T11:28:03.670Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-17T11:28:03.670Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-17T11:28:03.670Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=22844 --> api
[debug] [2021-05-17T11:28:03.671Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-05-17T11:28:03.691Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T11:28:03.692Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-05-17T11:28:03.692Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T11:28:03.692Z] [worker-api-2b0e8730-13d7-4dfe-a036-2c7c2f6e5253]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\15460 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2b0e8730-13d7-4dfe-a036-2c7c2f6e5253]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\15460"}}
[debug] [2021-05-17T11:28:03.692Z] [worker-api-2b0e8730-13d7-4dfe-a036-2c7c2f6e5253]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2b0e8730-13d7-4dfe-a036-2c7c2f6e5253]: BUSY"}}
[debug] [2021-05-17T11:28:03.951Z] [runtime-status] [15460] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15460] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T11:28:03.952Z] [runtime-status] [15460] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15460] Disabled runtime features: undefined"}}
[debug] [2021-05-17T11:28:03.955Z] [runtime-status] [15460] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15460] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:28:03.956Z] [runtime-status] [15460] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15460] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:28:03.957Z] [runtime-status] [15460] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15460] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:28:03.959Z] [runtime-status] [15460] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15460] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T11:28:03.960Z] [runtime-status] [15460] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15460] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:28:04.004Z] [runtime-status] [15460] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15460] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T11:28:04.004Z] [runtime-status] [15460] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15460] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:28:04.004Z] [runtime-status] [15460] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15460] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:28:04.005Z] [runtime-status] [15460] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15460] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:28:04.006Z] [runtime-status] [15460] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15460] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T11:28:04.006Z] [runtime-status] [15460] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15460] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T11:28:04.167Z] [runtime-status] [15460] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15460] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T11:28:04.170Z] [runtime-status] [15460] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15460] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T11:28:04.170Z] [runtime-status] [15460] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15460] Running api in mode HTTPS"}}
[debug] [2021-05-17T11:28:04.174Z] [runtime-status] [15460] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\15460 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15460] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\15460"}}
[debug] [2021-05-17T11:28:04.179Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T11:28:04.179Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=22844, mapping to path=/payments/create?total=22844 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=22844, mapping to path=/payments/create?total=22844"}}
[debug] [2021-05-17T11:28:04.206Z] [runtime-status] [15460] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15460] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved For The Amount 22844 {"user":"Payment Request Recieved For The Amount 22844","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Recieved For The Amount 22844"}}
[debug] [2021-05-17T11:28:04.218Z] [runtime-status] [15460] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15460] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-05-17T11:28:05.134Z] [worker-api-2b0e8730-13d7-4dfe-a036-2c7c2f6e5253]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2b0e8730-13d7-4dfe-a036-2c7c2f6e5253]: IDLE"}}
[debug] [2021-05-17T11:28:05.134Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-17T11:31:13.682Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-17T11:31:13.682Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-17T11:31:13.682Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=43689 --> api
[debug] [2021-05-17T11:31:13.683Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T11:31:13.683Z] [worker-api-2b0e8730-13d7-4dfe-a036-2c7c2f6e5253]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\15460 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2b0e8730-13d7-4dfe-a036-2c7c2f6e5253]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\15460"}}
[debug] [2021-05-17T11:31:13.683Z] [worker-api-2b0e8730-13d7-4dfe-a036-2c7c2f6e5253]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2b0e8730-13d7-4dfe-a036-2c7c2f6e5253]: BUSY"}}
[debug] [2021-05-17T11:31:13.685Z] [runtime-status] [15460] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15460] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T11:31:13.690Z] [runtime-status] [15460] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15460] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T11:31:13.690Z] [runtime-status] [15460] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15460] Running api in mode HTTPS"}}
[debug] [2021-05-17T11:31:13.691Z] [runtime-status] [15460] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\15460 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15460] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\15460"}}
[debug] [2021-05-17T11:31:13.694Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T11:31:13.695Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=43689, mapping to path=/payments/create?total=43689 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=43689, mapping to path=/payments/create?total=43689"}}
[debug] [2021-05-17T11:31:13.703Z] [runtime-status] [15460] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15460] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved For The Amount 43689 {"user":"Payment Request Recieved For The Amount 43689","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Recieved For The Amount 43689"}}
[debug] [2021-05-17T11:31:13.714Z] [runtime-status] [15460] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15460] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-05-17T11:31:14.487Z] [worker-api-2b0e8730-13d7-4dfe-a036-2c7c2f6e5253]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2b0e8730-13d7-4dfe-a036-2c7c2f6e5253]: IDLE"}}
[debug] [2021-05-17T11:31:14.487Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-17T11:31:42.834Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-17T11:31:42.834Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-17T11:31:42.834Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=43689 --> api
[debug] [2021-05-17T11:31:42.834Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T11:31:42.834Z] [worker-api-2b0e8730-13d7-4dfe-a036-2c7c2f6e5253]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\15460 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2b0e8730-13d7-4dfe-a036-2c7c2f6e5253]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\15460"}}
[debug] [2021-05-17T11:31:42.835Z] [worker-api-2b0e8730-13d7-4dfe-a036-2c7c2f6e5253]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2b0e8730-13d7-4dfe-a036-2c7c2f6e5253]: BUSY"}}
[debug] [2021-05-17T11:31:42.835Z] [runtime-status] [15460] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15460] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T11:31:42.837Z] [runtime-status] [15460] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15460] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T11:31:42.837Z] [runtime-status] [15460] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15460] Running api in mode HTTPS"}}
[debug] [2021-05-17T11:31:42.838Z] [runtime-status] [15460] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\15460 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15460] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\15460"}}
[debug] [2021-05-17T11:31:42.839Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T11:31:42.839Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=43689, mapping to path=/payments/create?total=43689 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=43689, mapping to path=/payments/create?total=43689"}}
[debug] [2021-05-17T11:31:42.844Z] [runtime-status] [15460] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15460] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved For The Amount 43689 {"user":"Payment Request Recieved For The Amount 43689","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Recieved For The Amount 43689"}}
[debug] [2021-05-17T11:31:42.847Z] [runtime-status] [15460] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15460] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-05-17T11:31:43.217Z] [worker-api-2b0e8730-13d7-4dfe-a036-2c7c2f6e5253]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2b0e8730-13d7-4dfe-a036-2c7c2f6e5253]: IDLE"}}
[debug] [2021-05-17T11:31:43.217Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-17T11:31:55.497Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-17T11:31:55.497Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-17T11:31:55.498Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=20845 --> api
[debug] [2021-05-17T11:31:55.498Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T11:31:55.498Z] [worker-api-2b0e8730-13d7-4dfe-a036-2c7c2f6e5253]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\15460 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2b0e8730-13d7-4dfe-a036-2c7c2f6e5253]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\15460"}}
[debug] [2021-05-17T11:31:55.498Z] [worker-api-2b0e8730-13d7-4dfe-a036-2c7c2f6e5253]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2b0e8730-13d7-4dfe-a036-2c7c2f6e5253]: BUSY"}}
[debug] [2021-05-17T11:31:55.499Z] [runtime-status] [15460] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15460] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T11:31:55.501Z] [runtime-status] [15460] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15460] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T11:31:55.501Z] [runtime-status] [15460] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15460] Running api in mode HTTPS"}}
[debug] [2021-05-17T11:31:55.501Z] [runtime-status] [15460] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\15460 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15460] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\15460"}}
[debug] [2021-05-17T11:31:55.502Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T11:31:55.503Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=20845, mapping to path=/payments/create?total=20845 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=20845, mapping to path=/payments/create?total=20845"}}
[debug] [2021-05-17T11:31:55.506Z] [runtime-status] [15460] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15460] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved For The Amount 20845 {"user":"Payment Request Recieved For The Amount 20845","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Recieved For The Amount 20845"}}
[debug] [2021-05-17T11:31:55.508Z] [runtime-status] [15460] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15460] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-05-17T11:31:55.897Z] [worker-api-2b0e8730-13d7-4dfe-a036-2c7c2f6e5253]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2b0e8730-13d7-4dfe-a036-2c7c2f6e5253]: IDLE"}}
[debug] [2021-05-17T11:31:55.898Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-17T12:23:41.545Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-17T12:23:41.545Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-17T12:23:41.545Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=0 --> api
[debug] [2021-05-17T12:23:41.546Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T12:23:41.546Z] [worker-api-2b0e8730-13d7-4dfe-a036-2c7c2f6e5253]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\15460 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2b0e8730-13d7-4dfe-a036-2c7c2f6e5253]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\15460"}}
[debug] [2021-05-17T12:23:41.546Z] [worker-api-2b0e8730-13d7-4dfe-a036-2c7c2f6e5253]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2b0e8730-13d7-4dfe-a036-2c7c2f6e5253]: BUSY"}}
[debug] [2021-05-17T12:23:41.547Z] [runtime-status] [15460] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15460] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T12:23:41.551Z] [runtime-status] [15460] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15460] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T12:23:41.552Z] [runtime-status] [15460] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15460] Running api in mode HTTPS"}}
[debug] [2021-05-17T12:23:41.552Z] [runtime-status] [15460] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\15460 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15460] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\15460"}}
[debug] [2021-05-17T12:23:41.554Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T12:23:41.554Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-05-17T12:23:41.558Z] [runtime-status] [15460] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15460] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved For The Amount 0 {"user":"Payment Request Recieved For The Amount 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Recieved For The Amount 0"}}
[debug] [2021-05-17T12:23:41.561Z] [runtime-status] [15460] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15460] Ephemeral server survived."}}
[info] >  (node:15460) UnhandledPromiseRejectionWarning: Error: An error occurred with our connection to Stripe. {"user":"(node:15460) UnhandledPromiseRejectionWarning: Error: An error occurred with our connection to Stripe.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15460) UnhandledPromiseRejectionWarning: Error: An error occurred with our connection to Stripe."}}
[info] >      at ClientRequest.<anonymous> (F:\clones\amazon-challenge\functions\node_modules\stripe\lib\StripeResource.js:486:13) {"user":"    at ClientRequest.<anonymous> (F:\\clones\\amazon-challenge\\functions\\node_modules\\stripe\\lib\\StripeResource.js:486:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ClientRequest.<anonymous> (F:\\clones\\amazon-challenge\\functions\\node_modules\\stripe\\lib\\StripeResource.js:486:13)"}}
[info] >      at ClientRequest.emit (events.js:315:20) {"user":"    at ClientRequest.emit (events.js:315:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ClientRequest.emit (events.js:315:20)"}}
[info] >      at TLSSocket.socketErrorListener (_http_client.js:469:9) {"user":"    at TLSSocket.socketErrorListener (_http_client.js:469:9)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at TLSSocket.socketErrorListener (_http_client.js:469:9)"}}
[info] >      at TLSSocket.emit (events.js:315:20) {"user":"    at TLSSocket.emit (events.js:315:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at TLSSocket.emit (events.js:315:20)"}}
[info] >      at emitErrorNT (internal/streams/destroy.js:106:8) {"user":"    at emitErrorNT (internal/streams/destroy.js:106:8)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at emitErrorNT (internal/streams/destroy.js:106:8)"}}
[info] >      at emitErrorCloseNT (internal/streams/destroy.js:74:3) {"user":"    at emitErrorCloseNT (internal/streams/destroy.js:74:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at emitErrorCloseNT (internal/streams/destroy.js:74:3)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:15460) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:15460) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15460) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:15460) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15460) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15460) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-05-17T12:23:44.594Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-05-17T12:23:44.594Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-05-17T12:23:44.594Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=0 --> api
[debug] [2021-05-17T12:23:44.603Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T12:23:44.603Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-05-17T12:23:44.603Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T12:23:44.603Z] [worker-api-38a9c5cc-42c0-4d64-b3a6-c42b1a220d10]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\6492 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-38a9c5cc-42c0-4d64-b3a6-c42b1a220d10]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\6492"}}
[debug] [2021-05-17T12:23:44.603Z] [worker-api-38a9c5cc-42c0-4d64-b3a6-c42b1a220d10]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-38a9c5cc-42c0-4d64-b3a6-c42b1a220d10]: BUSY"}}
[debug] [2021-05-17T12:23:47.162Z] [runtime-status] [6492] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6492] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T12:23:47.163Z] [runtime-status] [6492] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6492] Disabled runtime features: undefined"}}
[debug] [2021-05-17T12:23:47.166Z] [runtime-status] [6492] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6492] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T12:23:47.167Z] [runtime-status] [6492] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6492] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T12:23:47.169Z] [runtime-status] [6492] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6492] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T12:23:47.170Z] [runtime-status] [6492] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6492] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T12:23:47.171Z] [runtime-status] [6492] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6492] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T12:23:48.644Z] [runtime-status] [6492] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6492] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T12:23:48.645Z] [runtime-status] [6492] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6492] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T12:23:48.646Z] [runtime-status] [6492] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6492] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T12:23:48.648Z] [runtime-status] [6492] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6492] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T12:23:48.649Z] [runtime-status] [6492] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6492] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T12:23:48.649Z] [runtime-status] [6492] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6492] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T12:23:50.336Z] [runtime-status] [6492] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6492] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T12:23:50.338Z] [runtime-status] [6492] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6492] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T12:23:50.338Z] [runtime-status] [6492] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6492] Running api in mode HTTPS"}}
[debug] [2021-05-17T12:23:50.342Z] [runtime-status] [6492] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\6492 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6492] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\6492"}}
[debug] [2021-05-17T12:23:50.347Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T12:23:50.348Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-05-17T12:23:50.359Z] [runtime-status] [6492] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6492] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved For The Amount 0 {"user":"Payment Request Recieved For The Amount 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Recieved For The Amount 0"}}
[debug] [2021-05-17T12:23:50.378Z] [runtime-status] [6492] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6492] Ephemeral server survived."}}
[info] >  (node:6492) UnhandledPromiseRejectionWarning: Error: An error occurred with our connection to Stripe. {"user":"(node:6492) UnhandledPromiseRejectionWarning: Error: An error occurred with our connection to Stripe.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:6492) UnhandledPromiseRejectionWarning: Error: An error occurred with our connection to Stripe."}}
[info] >      at ClientRequest.<anonymous> (F:\clones\amazon-challenge\functions\node_modules\stripe\lib\StripeResource.js:486:13) {"user":"    at ClientRequest.<anonymous> (F:\\clones\\amazon-challenge\\functions\\node_modules\\stripe\\lib\\StripeResource.js:486:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ClientRequest.<anonymous> (F:\\clones\\amazon-challenge\\functions\\node_modules\\stripe\\lib\\StripeResource.js:486:13)"}}
[info] >      at ClientRequest.emit (events.js:315:20) {"user":"    at ClientRequest.emit (events.js:315:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ClientRequest.emit (events.js:315:20)"}}
[info] >      at TLSSocket.socketErrorListener (_http_client.js:469:9) {"user":"    at TLSSocket.socketErrorListener (_http_client.js:469:9)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at TLSSocket.socketErrorListener (_http_client.js:469:9)"}}
[info] >      at TLSSocket.emit (events.js:315:20) {"user":"    at TLSSocket.emit (events.js:315:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at TLSSocket.emit (events.js:315:20)"}}
[info] >      at emitErrorNT (internal/streams/destroy.js:106:8) {"user":"    at emitErrorNT (internal/streams/destroy.js:106:8)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at emitErrorNT (internal/streams/destroy.js:106:8)"}}
[info] >      at emitErrorCloseNT (internal/streams/destroy.js:74:3) {"user":"    at emitErrorCloseNT (internal/streams/destroy.js:74:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at emitErrorCloseNT (internal/streams/destroy.js:74:3)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:6492) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:6492) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:6492) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:6492) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:6492) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:6492) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-05-17T12:23:51.746Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-05-17T12:23:51.746Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-05-17T12:23:51.746Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=20845 --> api
[debug] [2021-05-17T12:23:51.754Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T12:23:51.754Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2021-05-17T12:23:51.754Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T12:23:51.754Z] [worker-api-7f816c31-3374-4180-b8a9-db0babe70458]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\15800 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7f816c31-3374-4180-b8a9-db0babe70458]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\15800"}}
[debug] [2021-05-17T12:23:51.754Z] [worker-api-7f816c31-3374-4180-b8a9-db0babe70458]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7f816c31-3374-4180-b8a9-db0babe70458]: BUSY"}}
[debug] [2021-05-17T12:23:52.158Z] [runtime-status] [15800] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15800] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T12:23:52.159Z] [runtime-status] [15800] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15800] Disabled runtime features: undefined"}}
[debug] [2021-05-17T12:23:52.162Z] [runtime-status] [15800] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15800] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T12:23:52.163Z] [runtime-status] [15800] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15800] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T12:23:52.165Z] [runtime-status] [15800] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15800] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T12:23:52.167Z] [runtime-status] [15800] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15800] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T12:23:52.167Z] [runtime-status] [15800] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15800] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T12:23:52.211Z] [runtime-status] [15800] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15800] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T12:23:52.211Z] [runtime-status] [15800] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15800] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T12:23:52.212Z] [runtime-status] [15800] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15800] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T12:23:52.213Z] [runtime-status] [15800] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15800] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T12:23:52.213Z] [runtime-status] [15800] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15800] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T12:23:52.214Z] [runtime-status] [15800] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15800] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T12:23:52.377Z] [runtime-status] [15800] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15800] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T12:23:52.378Z] [runtime-status] [15800] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15800] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T12:23:52.378Z] [runtime-status] [15800] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15800] Running api in mode HTTPS"}}
[debug] [2021-05-17T12:23:52.383Z] [runtime-status] [15800] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\15800 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15800] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\15800"}}
[debug] [2021-05-17T12:23:52.386Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T12:23:52.386Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=20845, mapping to path=/payments/create?total=20845 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=20845, mapping to path=/payments/create?total=20845"}}
[debug] [2021-05-17T12:23:52.396Z] [runtime-status] [15800] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15800] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved For The Amount 20845 {"user":"Payment Request Recieved For The Amount 20845","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Recieved For The Amount 20845"}}
[debug] [2021-05-17T12:23:52.410Z] [runtime-status] [15800] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15800] Ephemeral server survived."}}
[info] >  (node:15800) UnhandledPromiseRejectionWarning: Error: An error occurred with our connection to Stripe. {"user":"(node:15800) UnhandledPromiseRejectionWarning: Error: An error occurred with our connection to Stripe.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15800) UnhandledPromiseRejectionWarning: Error: An error occurred with our connection to Stripe."}}
[info] >      at ClientRequest.<anonymous> (F:\clones\amazon-challenge\functions\node_modules\stripe\lib\StripeResource.js:486:13) {"user":"    at ClientRequest.<anonymous> (F:\\clones\\amazon-challenge\\functions\\node_modules\\stripe\\lib\\StripeResource.js:486:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ClientRequest.<anonymous> (F:\\clones\\amazon-challenge\\functions\\node_modules\\stripe\\lib\\StripeResource.js:486:13)"}}
[info] >      at ClientRequest.emit (events.js:315:20) {"user":"    at ClientRequest.emit (events.js:315:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ClientRequest.emit (events.js:315:20)"}}
[info] >      at TLSSocket.socketErrorListener (_http_client.js:469:9) {"user":"    at TLSSocket.socketErrorListener (_http_client.js:469:9)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at TLSSocket.socketErrorListener (_http_client.js:469:9)"}}
[info] >      at TLSSocket.emit (events.js:315:20) {"user":"    at TLSSocket.emit (events.js:315:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at TLSSocket.emit (events.js:315:20)"}}
[info] >      at emitErrorNT (internal/streams/destroy.js:106:8) {"user":"    at emitErrorNT (internal/streams/destroy.js:106:8)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at emitErrorNT (internal/streams/destroy.js:106:8)"}}
[info] >      at emitErrorCloseNT (internal/streams/destroy.js:74:3) {"user":"    at emitErrorCloseNT (internal/streams/destroy.js:74:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at emitErrorCloseNT (internal/streams/destroy.js:74:3)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:15800) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:15800) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15800) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:15800) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15800) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15800) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-05-17T12:24:36.346Z] [work-queue] {"queueLength":1,"workRunningCount":3}
[debug] [2021-05-17T12:24:36.347Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2021-05-17T12:24:36.347Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=0 --> api
[debug] [2021-05-17T12:24:36.351Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T12:24:36.351Z] [worker-pool] Adding worker with key api, total=4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=4"}}
[debug] [2021-05-17T12:24:36.351Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T12:24:36.351Z] [worker-api-61dcb085-166a-4af7-8ffd-7e098c706117]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\9456 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-61dcb085-166a-4af7-8ffd-7e098c706117]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\9456"}}
[debug] [2021-05-17T12:24:36.351Z] [worker-api-61dcb085-166a-4af7-8ffd-7e098c706117]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-61dcb085-166a-4af7-8ffd-7e098c706117]: BUSY"}}
[debug] [2021-05-17T12:24:36.897Z] [runtime-status] [9456] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9456] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T12:24:36.898Z] [runtime-status] [9456] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9456] Disabled runtime features: undefined"}}
[debug] [2021-05-17T12:24:36.903Z] [runtime-status] [9456] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9456] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T12:24:36.905Z] [runtime-status] [9456] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9456] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T12:24:36.908Z] [runtime-status] [9456] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9456] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T12:24:36.911Z] [runtime-status] [9456] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9456] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T12:24:36.912Z] [runtime-status] [9456] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9456] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T12:24:36.969Z] [runtime-status] [9456] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9456] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T12:24:36.970Z] [runtime-status] [9456] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9456] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T12:24:36.970Z] [runtime-status] [9456] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9456] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T12:24:36.972Z] [runtime-status] [9456] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9456] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T12:24:36.972Z] [runtime-status] [9456] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9456] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T12:24:36.972Z] [runtime-status] [9456] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9456] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T12:24:37.130Z] [runtime-status] [9456] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9456] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T12:24:37.131Z] [runtime-status] [9456] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9456] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T12:24:37.132Z] [runtime-status] [9456] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9456] Running api in mode HTTPS"}}
[debug] [2021-05-17T12:24:37.136Z] [runtime-status] [9456] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\9456 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9456] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\9456"}}
[debug] [2021-05-17T12:24:37.139Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T12:24:37.139Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-05-17T12:24:37.149Z] [runtime-status] [9456] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9456] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved For The Amount 0 {"user":"Payment Request Recieved For The Amount 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Recieved For The Amount 0"}}
[debug] [2021-05-17T12:24:37.173Z] [runtime-status] [9456] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9456] Ephemeral server survived."}}
[info] >  (node:9456) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:9456) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9456) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (F:\clones\amazon-challenge\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (F:\\clones\\amazon-challenge\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (F:\\clones\\amazon-challenge\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (F:\clones\amazon-challenge\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (F:\\clones\\amazon-challenge\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (F:\\clones\\amazon-challenge\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:9456) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:9456) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9456) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:9456) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:9456) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9456) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648 {"user":"C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-05-17T12:24:41.724Z] [worker-api-2b0e8730-13d7-4dfe-a036-2c7c2f6e5253]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2b0e8730-13d7-4dfe-a036-2c7c2f6e5253]: exited"}}
[debug] [2021-05-17T12:24:41.724Z] [worker-api-2b0e8730-13d7-4dfe-a036-2c7c2f6e5253]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2b0e8730-13d7-4dfe-a036-2c7c2f6e5253]: FINISHED"}}
[debug] [2021-05-17T12:24:41.724Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-05-17T12:24:47.712Z] [work-queue] {"queueLength":1,"workRunningCount":3}
[debug] [2021-05-17T12:24:47.713Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2021-05-17T12:24:47.713Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=100800 --> api
[debug] [2021-05-17T12:24:47.713Z] [worker-pool] Cleaned up workers for api: 4 --> 3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 4 --> 3"}}
[debug] [2021-05-17T12:24:47.732Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-05-17T12:24:47.733Z] [worker-pool] Adding worker with key api, total=4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=4"}}
[debug] [2021-05-17T12:24:47.733Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T12:24:47.733Z] [worker-api-f664d9e3-bf0a-40b7-b6ab-0deec35e5d04]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\11912 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f664d9e3-bf0a-40b7-b6ab-0deec35e5d04]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\11912"}}
[debug] [2021-05-17T12:24:47.733Z] [worker-api-f664d9e3-bf0a-40b7-b6ab-0deec35e5d04]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f664d9e3-bf0a-40b7-b6ab-0deec35e5d04]: BUSY"}}
[debug] [2021-05-17T12:24:48.419Z] [runtime-status] [11912] Functions runtime initialized. {"cwd":"F:\\clones\\amazon-challenge\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11912] Functions runtime initialized. {\"cwd\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-05-17T12:24:48.421Z] [runtime-status] [11912] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11912] Disabled runtime features: undefined"}}
[debug] [2021-05-17T12:24:48.424Z] [runtime-status] [11912] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11912] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T12:24:48.425Z] [runtime-status] [11912] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11912] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T12:24:48.427Z] [runtime-status] [11912] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11912] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T12:24:48.428Z] [runtime-status] [11912] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11912] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-17T12:24:48.429Z] [runtime-status] [11912] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11912] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T12:24:48.484Z] [runtime-status] [11912] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11912] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-17T12:24:48.485Z] [runtime-status] [11912] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11912] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T12:24:48.485Z] [runtime-status] [11912] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11912] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T12:24:48.486Z] [runtime-status] [11912] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11912] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T12:24:48.487Z] [runtime-status] [11912] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11912] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-17T12:24:48.487Z] [runtime-status] [11912] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.8.0","resolution":"F:\\clones\\amazon-challenge\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11912] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.8.0\",\"resolution\":\"F:\\\\clones\\\\amazon-challenge\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-17T12:24:48.687Z] [runtime-status] [11912] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11912] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T12:24:48.688Z] [runtime-status] [11912] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11912] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T12:24:48.688Z] [runtime-status] [11912] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11912] Running api in mode HTTPS"}}
[debug] [2021-05-17T12:24:48.691Z] [runtime-status] [11912] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\11912 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11912] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\11912"}}
[debug] [2021-05-17T12:24:48.696Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T12:24:48.696Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=100800, mapping to path=/payments/create?total=100800 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=100800, mapping to path=/payments/create?total=100800"}}
[debug] [2021-05-17T12:24:48.802Z] [runtime-status] [11912] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11912] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved For The Amount 100800 {"user":"Payment Request Recieved For The Amount 100800","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Recieved For The Amount 100800"}}
[debug] [2021-05-17T12:24:48.833Z] [runtime-status] [11912] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11912] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-05-17T12:24:50.129Z] [worker-api-f664d9e3-bf0a-40b7-b6ab-0deec35e5d04]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f664d9e3-bf0a-40b7-b6ab-0deec35e5d04]: IDLE"}}
[debug] [2021-05-17T12:24:50.130Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648 {"user":"C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-05-17T12:24:50.374Z] [worker-api-38a9c5cc-42c0-4d64-b3a6-c42b1a220d10]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-38a9c5cc-42c0-4d64-b3a6-c42b1a220d10]: exited"}}
[debug] [2021-05-17T12:24:50.375Z] [worker-api-38a9c5cc-42c0-4d64-b3a6-c42b1a220d10]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-38a9c5cc-42c0-4d64-b3a6-c42b1a220d10]: FINISHED"}}
[debug] [2021-05-17T12:24:50.375Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648 {"user":"C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-05-17T12:24:52.436Z] [worker-api-7f816c31-3374-4180-b8a9-db0babe70458]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7f816c31-3374-4180-b8a9-db0babe70458]: exited"}}
[debug] [2021-05-17T12:24:52.436Z] [worker-api-7f816c31-3374-4180-b8a9-db0babe70458]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7f816c31-3374-4180-b8a9-db0babe70458]: FINISHED"}}
[debug] [2021-05-17T12:24:52.436Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648 {"user":"C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\jburnwal\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\jburnwal\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:648:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-05-17T12:25:37.183Z] [worker-api-61dcb085-166a-4af7-8ffd-7e098c706117]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-61dcb085-166a-4af7-8ffd-7e098c706117]: exited"}}
[debug] [2021-05-17T12:25:37.183Z] [worker-api-61dcb085-166a-4af7-8ffd-7e098c706117]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-61dcb085-166a-4af7-8ffd-7e098c706117]: FINISHED"}}
[debug] [2021-05-17T12:25:37.183Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-17T12:25:52.010Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-17T12:25:52.011Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-17T12:25:52.011Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=100800 --> api
[debug] [2021-05-17T12:25:52.012Z] [worker-pool] Cleaned up workers for api: 4 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 4 --> 1"}}
[debug] [2021-05-17T12:25:52.012Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T12:25:52.012Z] [worker-api-f664d9e3-bf0a-40b7-b6ab-0deec35e5d04]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\11912 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f664d9e3-bf0a-40b7-b6ab-0deec35e5d04]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\11912"}}
[debug] [2021-05-17T12:25:52.013Z] [worker-api-f664d9e3-bf0a-40b7-b6ab-0deec35e5d04]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f664d9e3-bf0a-40b7-b6ab-0deec35e5d04]: BUSY"}}
[debug] [2021-05-17T12:25:52.016Z] [runtime-status] [11912] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11912] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T12:25:52.022Z] [runtime-status] [11912] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11912] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T12:25:52.023Z] [runtime-status] [11912] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11912] Running api in mode HTTPS"}}
[debug] [2021-05-17T12:25:52.024Z] [runtime-status] [11912] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\11912 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11912] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\11912"}}
[debug] [2021-05-17T12:25:52.028Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T12:25:52.029Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=100800, mapping to path=/payments/create?total=100800 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=100800, mapping to path=/payments/create?total=100800"}}
[debug] [2021-05-17T12:25:52.042Z] [runtime-status] [11912] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11912] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved For The Amount 100800 {"user":"Payment Request Recieved For The Amount 100800","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Recieved For The Amount 100800"}}
[debug] [2021-05-17T12:25:52.053Z] [runtime-status] [11912] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11912] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-05-17T12:25:52.422Z] [worker-api-f664d9e3-bf0a-40b7-b6ab-0deec35e5d04]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f664d9e3-bf0a-40b7-b6ab-0deec35e5d04]: IDLE"}}
[debug] [2021-05-17T12:25:52.423Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-17T12:27:47.444Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-17T12:27:47.444Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-17T12:27:47.444Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=103600 --> api
[debug] [2021-05-17T12:27:47.445Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T12:27:47.445Z] [worker-api-f664d9e3-bf0a-40b7-b6ab-0deec35e5d04]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\11912 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f664d9e3-bf0a-40b7-b6ab-0deec35e5d04]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\11912"}}
[debug] [2021-05-17T12:27:47.445Z] [worker-api-f664d9e3-bf0a-40b7-b6ab-0deec35e5d04]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f664d9e3-bf0a-40b7-b6ab-0deec35e5d04]: BUSY"}}
[debug] [2021-05-17T12:27:47.447Z] [runtime-status] [11912] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11912] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T12:27:47.451Z] [runtime-status] [11912] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11912] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T12:27:47.452Z] [runtime-status] [11912] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11912] Running api in mode HTTPS"}}
[debug] [2021-05-17T12:27:47.452Z] [runtime-status] [11912] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\11912 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11912] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\11912"}}
[debug] [2021-05-17T12:27:47.455Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T12:27:47.456Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=103600, mapping to path=/payments/create?total=103600 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=103600, mapping to path=/payments/create?total=103600"}}
[debug] [2021-05-17T12:27:47.465Z] [runtime-status] [11912] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11912] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved For The Amount 103600 {"user":"Payment Request Recieved For The Amount 103600","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Recieved For The Amount 103600"}}
[debug] [2021-05-17T12:27:47.473Z] [runtime-status] [11912] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11912] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-05-17T12:27:48.283Z] [worker-api-f664d9e3-bf0a-40b7-b6ab-0deec35e5d04]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f664d9e3-bf0a-40b7-b6ab-0deec35e5d04]: IDLE"}}
[debug] [2021-05-17T12:27:48.283Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-17T12:41:06.333Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-17T12:41:06.334Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-17T12:41:06.334Z] Accepted request POST /challenge-c76cd/us-central1/api/payments/create?total=43223 --> api
[debug] [2021-05-17T12:41:06.335Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-05-17T12:41:06.335Z] [worker-api-f664d9e3-bf0a-40b7-b6ab-0deec35e5d04]: Assigning socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\11912 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f664d9e3-bf0a-40b7-b6ab-0deec35e5d04]: Assigning socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\11912"}}
[debug] [2021-05-17T12:41:06.335Z] [worker-api-f664d9e3-bf0a-40b7-b6ab-0deec35e5d04]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f664d9e3-bf0a-40b7-b6ab-0deec35e5d04]: BUSY"}}
[debug] [2021-05-17T12:41:06.338Z] [runtime-status] [11912] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11912] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-05-17T12:41:06.343Z] [runtime-status] [11912] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11912] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-05-17T12:41:06.343Z] [runtime-status] [11912] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11912] Running api in mode HTTPS"}}
[debug] [2021-05-17T12:41:06.344Z] [runtime-status] [11912] Attempting to listen to socketPath: \\?\pipe\F:\clones\amazon-challenge\functions\11912 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11912] Attempting to listen to socketPath: \\\\?\\pipe\\F:\\clones\\amazon-challenge\\functions\\11912"}}
[debug] [2021-05-17T12:41:06.366Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-17T12:41:06.367Z] [functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=43223, mapping to path=/payments/create?total=43223 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-c76cd/us-central1/api/payments/create?total=43223, mapping to path=/payments/create?total=43223"}}
[debug] [2021-05-17T12:41:06.379Z] [runtime-status] [11912] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11912] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved For The Amount 43223 {"user":"Payment Request Recieved For The Amount 43223","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Recieved For The Amount 43223"}}
[debug] [2021-05-17T12:41:06.389Z] [runtime-status] [11912] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11912] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-05-17T12:41:07.358Z] [worker-api-f664d9e3-bf0a-40b7-b6ab-0deec35e5d04]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f664d9e3-bf0a-40b7-b6ab-0deec35e5d04]: IDLE"}}
[debug] [2021-05-17T12:41:07.359Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-17T12:46:18.765Z] File F:\clones\amazon-challenge\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File F:\\clones\\amazon-challenge\\functions\\index.js changed, reloading triggers"}}
